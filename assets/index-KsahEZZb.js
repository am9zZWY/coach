var wh=t=>{throw TypeError(t)};var nw=(t,e,n)=>e.has(t)||wh("Cannot "+n);var gi=(t,e,n)=>(nw(t,e,"read from private field"),n?n.call(t):e.get(t)),ds=(t,e,n)=>e.has(t)?wh("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n);function rw(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Cd(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Ve={},$s=[],_n=()=>{},sw=()=>!1,al=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),xd=t=>t.startsWith("onUpdate:"),_t=Object.assign,Ed=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},iw=Object.prototype.hasOwnProperty,Ne=(t,e)=>iw.call(t,e),_e=Array.isArray,Ps=t=>ll(t)==="[object Map]",Ag=t=>ll(t)==="[object Set]",we=t=>typeof t=="function",Je=t=>typeof t=="string",Jn=t=>typeof t=="symbol",Ke=t=>t!==null&&typeof t=="object",Tg=t=>(Ke(t)||we(t))&&we(t.then)&&we(t.catch),kg=Object.prototype.toString,ll=t=>kg.call(t),ow=t=>ll(t).slice(8,-1),Og=t=>ll(t)==="[object Object]",Sd=t=>Je(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Di=Cd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cl=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},aw=/-(\w)/g,Pt=cl(t=>t.replace(aw,(e,n)=>n?n.toUpperCase():"")),lw=/\B([A-Z])/g,wr=cl(t=>t.replace(lw,"-$1").toLowerCase()),ul=cl(t=>t.charAt(0).toUpperCase()+t.slice(1)),fa=cl(t=>t?`on${ul(t)}`:""),pr=(t,e)=>!Object.is(t,e),ha=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Rg=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},lu=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Ch;const dl=()=>Ch||(Ch=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ei(t){if(_e(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=Je(r)?fw(r):ei(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(Je(t)||Ke(t))return t}const cw=/;(?![^(]*\))/g,uw=/:([^]+)/,dw=/\/\*[^]*?\*\//g;function fw(t){const e={};return t.replace(dw,"").split(cw).forEach(n=>{if(n){const r=n.split(uw);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function dt(t){let e="";if(Je(t))e=t;else if(_e(t))for(let n=0;n<t.length;n++){const r=dt(t[n]);r&&(e+=r+" ")}else if(Ke(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function ti(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Je(e)&&(t.class=dt(e)),n&&(t.style=ei(n)),t}const hw="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",pw=Cd(hw);function $g(t){return!!t||t===""}const Pg=t=>!!(t&&t.__v_isRef===!0),ot=t=>Je(t)?t:t==null?"":_e(t)||Ke(t)&&(t.toString===kg||!we(t.toString))?Pg(t)?ot(t.value):JSON.stringify(t,Dg,2):String(t),Dg=(t,e)=>Pg(e)?Dg(t,e.value):Ps(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[nc(r,i)+" =>"]=s,n),{})}:Ag(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>nc(n))}:Jn(e)?nc(e):Ke(e)&&!_e(e)&&!Og(e)?String(e):e,nc=(t,e="")=>{var n;return Jn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Et;class Mg{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Et,!e&&Et&&(this.index=(Et.scopes||(Et.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Et;try{return Et=this,e()}finally{Et=n}}}on(){Et=this}off(){Et=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function fl(t){return new Mg(t)}function po(){return Et}function hl(t,e=!1){Et&&Et.cleanups.push(t)}let We;const rc=new WeakSet;class Ig{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Et&&Et.active&&Et.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,rc.has(this)&&(rc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ng(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,xh(this),Lg(this);const e=We,n=Zt;We=this,Zt=!0;try{return this.fn()}finally{Bg(this),We=e,Zt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)kd(e);this.deps=this.depsTail=void 0,xh(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?rc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){cu(this)&&this.run()}get dirty(){return cu(this)}}let Fg=0,Mi,Ii;function Ng(t,e=!1){if(t.flags|=8,e){t.next=Ii,Ii=t;return}t.next=Mi,Mi=t}function Ad(){Fg++}function Td(){if(--Fg>0)return;if(Ii){let e=Ii;for(Ii=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Mi;){let e=Mi;for(Mi=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Lg(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Bg(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),kd(r),mw(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function cu(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Ug(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Ug(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Yi))return;t.globalVersion=Yi;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!cu(t)){t.flags&=-3;return}const n=We,r=Zt;We=t,Zt=!0;try{Lg(t);const s=t.fn(t._value);(e.version===0||pr(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{We=n,Zt=r,Bg(t),t.flags&=-3}}function kd(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)kd(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function mw(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Zt=!0;const jg=[];function Cr(){jg.push(Zt),Zt=!1}function xr(){const t=jg.pop();Zt=t===void 0?!0:t}function xh(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=We;We=void 0;try{e()}finally{We=n}}}let Yi=0;class gw{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Od{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!We||!Zt||We===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==We)n=this.activeLink=new gw(We,this),We.deps?(n.prevDep=We.depsTail,We.depsTail.nextDep=n,We.depsTail=n):We.deps=We.depsTail=n,Vg(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=We.depsTail,n.nextDep=void 0,We.depsTail.nextDep=n,We.depsTail=n,We.deps===n&&(We.deps=r)}return n}trigger(e){this.version++,Yi++,this.notify(e)}notify(e){Ad();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Td()}}}function Vg(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Vg(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Ma=new WeakMap,Wr=Symbol(""),uu=Symbol(""),qi=Symbol("");function vt(t,e,n){if(Zt&&We){let r=Ma.get(t);r||Ma.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new Od),s.map=r,s.key=n),s.track()}}function Bn(t,e,n,r,s,i){const o=Ma.get(t);if(!o){Yi++;return}const a=l=>{l&&l.trigger()};if(Ad(),e==="clear")o.forEach(a);else{const l=_e(t),c=l&&Sd(n);if(l&&n==="length"){const u=Number(r);o.forEach((d,f)=>{(f==="length"||f===qi||!Jn(f)&&f>=u)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(qi)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Wr)),Ps(t)&&a(o.get(uu)));break;case"delete":l||(a(o.get(Wr)),Ps(t)&&a(o.get(uu)));break;case"set":Ps(t)&&a(o.get(Wr));break}}Td()}function yw(t,e){const n=Ma.get(t);return n&&n.get(e)}function fs(t){const e=Pe(t);return e===t?e:(vt(e,"iterate",qi),Yt(t)?e:e.map(bt))}function pl(t){return vt(t=Pe(t),"iterate",qi),t}const vw={__proto__:null,[Symbol.iterator](){return sc(this,Symbol.iterator,bt)},concat(...t){return fs(this).concat(...t.map(e=>_e(e)?fs(e):e))},entries(){return sc(this,"entries",t=>(t[1]=bt(t[1]),t))},every(t,e){return $n(this,"every",t,e,void 0,arguments)},filter(t,e){return $n(this,"filter",t,e,n=>n.map(bt),arguments)},find(t,e){return $n(this,"find",t,e,bt,arguments)},findIndex(t,e){return $n(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return $n(this,"findLast",t,e,bt,arguments)},findLastIndex(t,e){return $n(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return $n(this,"forEach",t,e,void 0,arguments)},includes(...t){return ic(this,"includes",t)},indexOf(...t){return ic(this,"indexOf",t)},join(t){return fs(this).join(t)},lastIndexOf(...t){return ic(this,"lastIndexOf",t)},map(t,e){return $n(this,"map",t,e,void 0,arguments)},pop(){return yi(this,"pop")},push(...t){return yi(this,"push",t)},reduce(t,...e){return Eh(this,"reduce",t,e)},reduceRight(t,...e){return Eh(this,"reduceRight",t,e)},shift(){return yi(this,"shift")},some(t,e){return $n(this,"some",t,e,void 0,arguments)},splice(...t){return yi(this,"splice",t)},toReversed(){return fs(this).toReversed()},toSorted(t){return fs(this).toSorted(t)},toSpliced(...t){return fs(this).toSpliced(...t)},unshift(...t){return yi(this,"unshift",t)},values(){return sc(this,"values",bt)}};function sc(t,e,n){const r=pl(t),s=r[e]();return r!==t&&!Yt(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const bw=Array.prototype;function $n(t,e,n,r,s,i){const o=pl(t),a=o!==t&&!Yt(t),l=o[e];if(l!==bw[e]){const d=l.apply(t,i);return a?bt(d):d}let c=n;o!==t&&(a?c=function(d,f){return n.call(this,bt(d),f,t)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,t)}));const u=l.call(o,c,r);return a&&s?s(u):u}function Eh(t,e,n,r){const s=pl(t);let i=n;return s!==t&&(Yt(t)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,t)}):i=function(o,a,l){return n.call(this,o,bt(a),l,t)}),s[e](i,...r)}function ic(t,e,n){const r=Pe(t);vt(r,"iterate",qi);const s=r[e](...n);return(s===-1||s===!1)&&Rd(n[0])?(n[0]=Pe(n[0]),r[e](...n)):s}function yi(t,e,n=[]){Cr(),Ad();const r=Pe(t)[e].apply(t,n);return Td(),xr(),r}const _w=Cd("__proto__,__v_isRef,__isVue"),Hg=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Jn));function ww(t){Jn(t)||(t=String(t));const e=Pe(this);return vt(e,"has",t),e.hasOwnProperty(t)}class zg{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Jg:Gg:i?qg:Yg).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=_e(e);if(!s){let l;if(o&&(l=vw[n]))return l;if(n==="hasOwnProperty")return ww}const a=Reflect.get(e,n,Me(e)?e:r);return(Jn(n)?Hg.has(n):_w(n))||(s||vt(e,"get",n),i)?a:Me(a)?o&&Sd(n)?a:a.value:Ke(a)?s?mo(a):tn(a):a}}class Wg extends zg{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const l=qr(i);if(!Yt(r)&&!qr(r)&&(i=Pe(i),r=Pe(r)),!_e(e)&&Me(i)&&!Me(r))return l?!1:(i.value=r,!0)}const o=_e(e)&&Sd(n)?Number(n)<e.length:Ne(e,n),a=Reflect.set(e,n,r,Me(e)?e:s);return e===Pe(s)&&(o?pr(r,i)&&Bn(e,"set",n,r):Bn(e,"add",n,r)),a}deleteProperty(e,n){const r=Ne(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&Bn(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!Jn(n)||!Hg.has(n))&&vt(e,"has",n),r}ownKeys(e){return vt(e,"iterate",_e(e)?"length":Wr),Reflect.ownKeys(e)}}class Kg extends zg{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Cw=new Wg,xw=new Kg,Ew=new Wg(!0),Sw=new Kg(!0),du=t=>t,Uo=t=>Reflect.getPrototypeOf(t);function Aw(t,e,n){return function(...r){const s=this.__v_raw,i=Pe(s),o=Ps(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=s[t](...r),u=n?du:e?fu:bt;return!e&&vt(i,"iterate",l?uu:Wr),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function jo(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Tw(t,e){const n={get(s){const i=this.__v_raw,o=Pe(i),a=Pe(s);t||(pr(s,a)&&vt(o,"get",s),vt(o,"get",a));const{has:l}=Uo(o),c=e?du:t?fu:bt;if(l.call(o,s))return c(i.get(s));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&vt(Pe(s),"iterate",Wr),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=Pe(i),a=Pe(s);return t||(pr(s,a)&&vt(o,"has",s),vt(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,l=Pe(a),c=e?du:t?fu:bt;return!t&&vt(l,"iterate",Wr),a.forEach((u,d)=>s.call(i,c(u),c(d),o))}};return _t(n,t?{add:jo("add"),set:jo("set"),delete:jo("delete"),clear:jo("clear")}:{add(s){!e&&!Yt(s)&&!qr(s)&&(s=Pe(s));const i=Pe(this);return Uo(i).has.call(i,s)||(i.add(s),Bn(i,"add",s,s)),this},set(s,i){!e&&!Yt(i)&&!qr(i)&&(i=Pe(i));const o=Pe(this),{has:a,get:l}=Uo(o);let c=a.call(o,s);c||(s=Pe(s),c=a.call(o,s));const u=l.call(o,s);return o.set(s,i),c?pr(i,u)&&Bn(o,"set",s,i):Bn(o,"add",s,i),this},delete(s){const i=Pe(this),{has:o,get:a}=Uo(i);let l=o.call(i,s);l||(s=Pe(s),l=o.call(i,s)),a&&a.call(i,s);const c=i.delete(s);return l&&Bn(i,"delete",s,void 0),c},clear(){const s=Pe(this),i=s.size!==0,o=s.clear();return i&&Bn(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=Aw(s,t,e)}),n}function ml(t,e){const n=Tw(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Ne(n,s)&&s in r?n:r,s,i)}const kw={get:ml(!1,!1)},Ow={get:ml(!1,!0)},Rw={get:ml(!0,!1)},$w={get:ml(!0,!0)},Yg=new WeakMap,qg=new WeakMap,Gg=new WeakMap,Jg=new WeakMap;function Pw(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Dw(t){return t.__v_skip||!Object.isExtensible(t)?0:Pw(ow(t))}function tn(t){return qr(t)?t:gl(t,!1,Cw,kw,Yg)}function Xg(t){return gl(t,!1,Ew,Ow,qg)}function mo(t){return gl(t,!0,xw,Rw,Gg)}function Nr(t){return gl(t,!0,Sw,$w,Jg)}function gl(t,e,n,r,s){if(!Ke(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=Dw(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return s.set(t,a),a}function zn(t){return qr(t)?zn(t.__v_raw):!!(t&&t.__v_isReactive)}function qr(t){return!!(t&&t.__v_isReadonly)}function Yt(t){return!!(t&&t.__v_isShallow)}function Rd(t){return t?!!t.__v_raw:!1}function Pe(t){const e=t&&t.__v_raw;return e?Pe(e):t}function yl(t){return!Ne(t,"__v_skip")&&Object.isExtensible(t)&&Rg(t,"__v_skip",!0),t}const bt=t=>Ke(t)?tn(t):t,fu=t=>Ke(t)?mo(t):t;function Me(t){return t?t.__v_isRef===!0:!1}function te(t){return Qg(t,!1)}function ts(t){return Qg(t,!0)}function Qg(t,e){return Me(t)?t:new Mw(t,e)}class Mw{constructor(e,n){this.dep=new Od,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Pe(e),this._value=n?e:bt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Yt(e)||qr(e);e=r?e:Pe(e),pr(e,n)&&(this._rawValue=e,this._value=r?e:bt(e),this.dep.trigger())}}function S(t){return Me(t)?t.value:t}function et(t){return we(t)?t():S(t)}const Iw={get:(t,e,n)=>e==="__v_raw"?t:S(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return Me(s)&&!Me(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function Zg(t){return zn(t)?t:new Proxy(t,Iw)}function Wn(t){const e=_e(t)?new Array(t.length):{};for(const n in t)e[n]=ty(t,n);return e}class Fw{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return yw(Pe(this._object),this._key)}}class Nw{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function ey(t,e,n){return Me(t)?t:we(t)?new Nw(t):Ke(t)&&arguments.length>1?ty(t,e,n):te(t)}function ty(t,e,n){const r=t[e];return Me(r)?r:new Fw(t,e,n)}class Lw{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Od(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Yi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&We!==this)return Ng(this,!0),!0}get value(){const e=this.dep.track();return Ug(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Bw(t,e,n=!1){let r,s;return we(t)?r=t:(r=t.get,s=t.set),new Lw(r,s,n)}const Vo={},Ia=new WeakMap;let Lr;function Uw(t,e=!1,n=Lr){if(n){let r=Ia.get(n);r||Ia.set(n,r=[]),r.push(t)}}function jw(t,e,n=Ve){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=n,c=g=>s?g:Yt(g)||s===!1||s===0?Un(g,1):Un(g);let u,d,f,h,m=!1,p=!1;if(Me(t)?(d=()=>t.value,m=Yt(t)):zn(t)?(d=()=>c(t),m=!0):_e(t)?(p=!0,m=t.some(g=>zn(g)||Yt(g)),d=()=>t.map(g=>{if(Me(g))return g.value;if(zn(g))return c(g);if(we(g))return l?l(g,2):g()})):we(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){Cr();try{f()}finally{xr()}}const g=Lr;Lr=u;try{return l?l(t,3,[h]):t(h)}finally{Lr=g}}:d=_n,e&&s){const g=d,E=s===!0?1/0:s;d=()=>Un(g(),E)}const _=po(),b=()=>{u.stop(),_&&_.active&&Ed(_.effects,u)};if(i&&e){const g=e;e=(...E)=>{g(...E),b()}}let C=p?new Array(t.length).fill(Vo):Vo;const y=g=>{if(!(!(u.flags&1)||!u.dirty&&!g))if(e){const E=u.run();if(s||m||(p?E.some((A,R)=>pr(A,C[R])):pr(E,C))){f&&f();const A=Lr;Lr=u;try{const R=[E,C===Vo?void 0:p&&C[0]===Vo?[]:C,h];l?l(e,3,R):e(...R),C=E}finally{Lr=A}}}else u.run()};return a&&a(y),u=new Ig(d),u.scheduler=o?()=>o(y,!1):y,h=g=>Uw(g,!1,u),f=u.onStop=()=>{const g=Ia.get(u);if(g){if(l)l(g,4);else for(const E of g)E();Ia.delete(u)}},e?r?y(!0):C=u.run():o?o(y.bind(null,!0),!0):u.run(),b.pause=u.pause.bind(u),b.resume=u.resume.bind(u),b.stop=b,b}function Un(t,e=1/0,n){if(e<=0||!Ke(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Me(t))Un(t.value,e,n);else if(_e(t))for(let r=0;r<t.length;r++)Un(t[r],e,n);else if(Ag(t)||Ps(t))t.forEach(r=>{Un(r,e,n)});else if(Og(t)){for(const r in t)Un(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Un(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function go(t,e,n,r){try{return r?t(...r):t()}catch(s){vl(s,e,n)}}function xn(t,e,n,r){if(we(t)){const s=go(t,e,n,r);return s&&Tg(s)&&s.catch(i=>{vl(i,e,n)}),s}if(_e(t)){const s=[];for(let i=0;i<t.length;i++)s.push(xn(t[i],e,n,r));return s}}function vl(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Ve;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(i){Cr(),go(i,null,10,[t,l,c]),xr();return}}Vw(t,n,s,r,o)}function Vw(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const At=[];let hn=-1;const Ds=[];let lr=null,Cs=0;const ny=Promise.resolve();let Fa=null;function Dt(t){const e=Fa||ny;return t?e.then(this?t.bind(this):t):e}function Hw(t){let e=hn+1,n=At.length;for(;e<n;){const r=e+n>>>1,s=At[r],i=Gi(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function $d(t){if(!(t.flags&1)){const e=Gi(t),n=At[At.length-1];!n||!(t.flags&2)&&e>=Gi(n)?At.push(t):At.splice(Hw(e),0,t),t.flags|=1,ry()}}function ry(){Fa||(Fa=ny.then(iy))}function zw(t){_e(t)?Ds.push(...t):lr&&t.id===-1?lr.splice(Cs+1,0,t):t.flags&1||(Ds.push(t),t.flags|=1),ry()}function Sh(t,e,n=hn+1){for(;n<At.length;n++){const r=At[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;At.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function sy(t){if(Ds.length){const e=[...new Set(Ds)].sort((n,r)=>Gi(n)-Gi(r));if(Ds.length=0,lr){lr.push(...e);return}for(lr=e,Cs=0;Cs<lr.length;Cs++){const n=lr[Cs];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}lr=null,Cs=0}}const Gi=t=>t.id==null?t.flags&2?-1:1/0:t.id;function iy(t){try{for(hn=0;hn<At.length;hn++){const e=At[hn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),go(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;hn<At.length;hn++){const e=At[hn];e&&(e.flags&=-2)}hn=-1,At.length=0,sy(),Fa=null,(At.length||Ds.length)&&iy()}}let at=null,oy=null;function Na(t){const e=at;return at=t,oy=t&&t.type.__scopeId||null,e}function W(t,e=at,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&Lh(-1);const i=Na(e);let o;try{o=t(...s)}finally{Na(i),r._d&&Lh(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function ay(t,e){if(at===null)return t;const n=xl(at),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,l=Ve]=e[s];i&&(we(i)&&(i={mounted:i,updated:i}),i.deep&&Un(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function $r(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Cr(),xn(l,n,8,[t.el,a,t,e]),xr())}}const ly=Symbol("_vte"),Ww=t=>t.__isTeleport,Fi=t=>t&&(t.disabled||t.disabled===""),Ah=t=>t&&(t.defer||t.defer===""),Th=t=>typeof SVGElement<"u"&&t instanceof SVGElement,kh=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,hu=(t,e)=>{const n=t&&t.to;return Je(n)?e?e(n):null:n},cy={name:"Teleport",__isTeleport:!0,process(t,e,n,r,s,i,o,a,l,c){const{mc:u,pc:d,pbc:f,o:{insert:h,querySelector:m,createText:p,createComment:_}}=c,b=Fi(e.props);let{shapeFlag:C,children:y,dynamicChildren:g}=e;if(t==null){const E=e.el=p(""),A=e.anchor=p("");h(E,n,r),h(A,n,r);const R=(x,j)=>{C&16&&(s&&s.isCE&&(s.ce._teleportTarget=x),u(y,x,j,s,i,o,a,l))},O=()=>{const x=e.target=hu(e.props,m),j=uy(x,e,p,h);x&&(o!=="svg"&&Th(x)?o="svg":o!=="mathml"&&kh(x)&&(o="mathml"),b||(R(x,j),pa(e,!1)))};b&&(R(n,A),pa(e,!0)),Ah(e.props)?xt(()=>{O(),e.el.__isMounted=!0},i):O()}else{if(Ah(e.props)&&!t.el.__isMounted){xt(()=>{cy.process(t,e,n,r,s,i,o,a,l,c),delete t.el.__isMounted},i);return}e.el=t.el,e.targetStart=t.targetStart;const E=e.anchor=t.anchor,A=e.target=t.target,R=e.targetAnchor=t.targetAnchor,O=Fi(t.props),x=O?n:A,j=O?E:R;if(o==="svg"||Th(A)?o="svg":(o==="mathml"||kh(A))&&(o="mathml"),g?(f(t.dynamicChildren,g,x,s,i,o,a),Md(t,e,!0)):l||d(t,e,x,j,s,i,o,a,!1),b)O?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Ho(e,n,E,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const V=e.target=hu(e.props,m);V&&Ho(e,V,null,c,0)}else O&&Ho(e,A,R,c,1);pa(e,b)}},remove(t,e,n,{um:r,o:{remove:s}},i){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:u,target:d,props:f}=t;if(d&&(s(c),s(u)),i&&s(l),o&16){const h=i||!Fi(f);for(let m=0;m<a.length;m++){const p=a[m];r(p,e,n,h,!!p.dynamicChildren)}}},move:Ho,hydrate:Kw};function Ho(t,e,n,{o:{insert:r},m:s},i=2){i===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=t,d=i===2;if(d&&r(o,e,n),(!d||Fi(u))&&l&16)for(let f=0;f<c.length;f++)s(c[f],e,n,2);d&&r(a,e,n)}function Kw(t,e,n,r,s,i,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:u}},d){const f=e.target=hu(e.props,l);if(f){const h=Fi(e.props),m=f._lpa||f.firstChild;if(e.shapeFlag&16)if(h)e.anchor=d(o(t),e,a(t),n,r,s,i),e.targetStart=m,e.targetAnchor=m&&o(m);else{e.anchor=o(t);let p=m;for(;p;){if(p&&p.nodeType===8){if(p.data==="teleport start anchor")e.targetStart=p;else if(p.data==="teleport anchor"){e.targetAnchor=p,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}p=o(p)}e.targetAnchor||uy(f,e,u,c),d(m&&o(m),e,f,n,r,s,i)}pa(e,h)}return e.anchor&&o(e.anchor)}const Yw=cy;function pa(t,e){const n=t.ctx;if(n&&n.ut){let r,s;for(e?(r=t.el,s=t.anchor):(r=t.targetStart,s=t.targetAnchor);r&&r!==s;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function uy(t,e,n,r){const s=e.targetStart=n(""),i=e.targetAnchor=n("");return s[ly]=i,t&&(r(s,t),r(i,t)),i}function Pd(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Pd(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Z(t,e){return we(t)?_t({name:t.name},e,{setup:t}):t}function Oh(){const t=Qn();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function dy(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function La(t,e,n,r,s=!1){if(_e(t)){t.forEach((m,p)=>La(m,e&&(_e(e)?e[p]:e),n,r,s));return}if(Ms(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&La(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?xl(r.component):r.el,o=s?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Ve?a.refs={}:a.refs,d=a.setupState,f=Pe(d),h=d===Ve?()=>!1:m=>Ne(f,m);if(c!=null&&c!==l&&(Je(c)?(u[c]=null,h(c)&&(d[c]=null)):Me(c)&&(c.value=null)),we(l))go(l,a,12,[o,u]);else{const m=Je(l),p=Me(l);if(m||p){const _=()=>{if(t.f){const b=m?h(l)?d[l]:u[l]:l.value;s?_e(b)&&Ed(b,i):_e(b)?b.includes(i)||b.push(i):m?(u[l]=[i],h(l)&&(d[l]=u[l])):(l.value=[i],t.k&&(u[t.k]=l.value))}else m?(u[l]=o,h(l)&&(d[l]=o)):p&&(l.value=o,t.k&&(u[t.k]=o))};o?(_.id=-1,xt(_,n)):_()}}}dl().requestIdleCallback;dl().cancelIdleCallback;const Ms=t=>!!t.type.__asyncLoader,fy=t=>t.type.__isKeepAlive;function qw(t,e){hy(t,"a",e)}function Gw(t,e){hy(t,"da",e)}function hy(t,e,n=ft){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(bl(e,r,n),n){let s=n.parent;for(;s&&s.parent;)fy(s.parent.vnode)&&Jw(r,e,n,s),s=s.parent}}function Jw(t,e,n,r){const s=bl(e,t,r,!0);ni(()=>{Ed(r[e],s)},n)}function bl(t,e,n=ft,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Cr();const a=yo(n),l=xn(e,n,t,o);return a(),xr(),l});return r?s.unshift(i):s.push(i),i}}const Xn=t=>(e,n=ft)=>{(!Qi||t==="sp")&&bl(t,(...r)=>e(...r),n)},Xw=Xn("bm"),ns=Xn("m"),Qw=Xn("bu"),Zw=Xn("u"),py=Xn("bum"),ni=Xn("um"),eC=Xn("sp"),tC=Xn("rtg"),nC=Xn("rtc");function rC(t,e=ft){bl("ec",t,e)}const my="components";function gy(t,e){return by(my,t,!0,e)||t}const yy=Symbol.for("v-ndc");function vy(t){return Je(t)?by(my,t,!1)||t:t||yy}function by(t,e,n=!0,r=!1){const s=at||ft;if(s){const i=s.type;{const a=HC(i,!1);if(a&&(a===e||a===Pt(e)||a===ul(Pt(e))))return i}const o=Rh(s[t]||i[t],e)||Rh(s.appContext[t],e);return!o&&r?i:o}}function Rh(t,e){return t&&(t[e]||t[Pt(e)]||t[ul(Pt(e))])}function Vr(t,e,n,r){let s;const i=n,o=_e(t);if(o||Je(t)){const a=o&&zn(t);let l=!1;a&&(l=!Yt(t),t=pl(t)),s=new Array(t.length);for(let c=0,u=t.length;c<u;c++)s[c]=e(l?bt(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i)}else if(Ke(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];s[l]=e(t[u],u,l,i)}}else s=[];return s}function he(t,e,n={},r,s){if(at.ce||at.parent&&Ms(at.parent)&&at.parent.ce)return K(),ee(tt,null,[q("slot",n,r&&r())],64);let i=t[e];i&&i._c&&(i._d=!1),K();const o=i&&_y(i(n)),a=n.key||o&&o.key,l=ee(tt,{key:(a&&!Jn(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function _y(t){return t.some(e=>Xi(e)?!(e.type===Kn||e.type===tt&&!_y(e.children)):!0)?t:null}const pu=t=>t?Uy(t)?xl(t):pu(t.parent):null,Ni=_t(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>pu(t.parent),$root:t=>pu(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Cy(t),$forceUpdate:t=>t.f||(t.f=()=>{$d(t.update)}),$nextTick:t=>t.n||(t.n=Dt.bind(t.proxy)),$watch:t=>AC.bind(t)}),oc=(t,e)=>t!==Ve&&!t.__isScriptSetup&&Ne(t,e),sC={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(oc(r,e))return o[e]=1,r[e];if(s!==Ve&&Ne(s,e))return o[e]=2,s[e];if((c=t.propsOptions[0])&&Ne(c,e))return o[e]=3,i[e];if(n!==Ve&&Ne(n,e))return o[e]=4,n[e];gu&&(o[e]=0)}}const u=Ni[e];let d,f;if(u)return e==="$attrs"&&vt(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Ve&&Ne(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,Ne(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return oc(s,e)?(s[e]=n,!0):r!==Ve&&Ne(r,e)?(r[e]=n,!0):Ne(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||t!==Ve&&Ne(t,o)||oc(e,o)||(a=i[0])&&Ne(a,o)||Ne(r,o)||Ne(Ni,o)||Ne(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ne(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function mu(t){return _e(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function iC(t,e){const n=mu(t);for(const r in e){if(r.startsWith("__skip"))continue;let s=n[r];s?_e(s)||we(s)?s=n[r]={type:s,default:e[r]}:s.default=e[r]:s===null&&(s=n[r]={default:e[r]}),s&&e[`__skip_${r}`]&&(s.skipFactory=!0)}return n}let gu=!0;function oC(t){const e=Cy(t),n=t.proxy,r=t.ctx;gu=!1,e.beforeCreate&&$h(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:m,activated:p,deactivated:_,beforeDestroy:b,beforeUnmount:C,destroyed:y,unmounted:g,render:E,renderTracked:A,renderTriggered:R,errorCaptured:O,serverPrefetch:x,expose:j,inheritAttrs:V,components:U,directives:re,filters:se}=e;if(c&&aC(c,r,null),o)for(const F in o){const N=o[F];we(N)&&(r[F]=N.bind(n))}if(s){const F=s.call(n,n);Ke(F)&&(t.data=tn(F))}if(gu=!0,i)for(const F in i){const N=i[F],le=we(N)?N.bind(n,n):we(N.get)?N.get.bind(n,n):_n,ce=!we(N)&&we(N.set)?N.set.bind(n):_n,Re=H({get:le,set:ce});Object.defineProperty(r,F,{enumerable:!0,configurable:!0,get:()=>Re.value,set:Se=>Re.value=Se})}if(a)for(const F in a)wy(a[F],r,n,F);if(l){const F=we(l)?l.call(n):l;Reflect.ownKeys(F).forEach(N=>{Is(N,F[N])})}u&&$h(u,t,"c");function I(F,N){_e(N)?N.forEach(le=>F(le.bind(n))):N&&F(N.bind(n))}if(I(Xw,d),I(ns,f),I(Qw,h),I(Zw,m),I(qw,p),I(Gw,_),I(rC,O),I(nC,A),I(tC,R),I(py,C),I(ni,g),I(eC,x),_e(j))if(j.length){const F=t.exposed||(t.exposed={});j.forEach(N=>{Object.defineProperty(F,N,{get:()=>n[N],set:le=>n[N]=le})})}else t.exposed||(t.exposed={});E&&t.render===_n&&(t.render=E),V!=null&&(t.inheritAttrs=V),U&&(t.components=U),re&&(t.directives=re),x&&dy(t)}function aC(t,e,n=_n){_e(t)&&(t=yu(t));for(const r in t){const s=t[r];let i;Ke(s)?"default"in s?i=Vt(s.from||r,s.default,!0):i=Vt(s.from||r):i=Vt(s),Me(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function $h(t,e,n){xn(_e(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function wy(t,e,n,r){let s=r.includes(".")?Iy(n,r):()=>n[r];if(Je(t)){const i=e[t];we(i)&&Te(s,i)}else if(we(t))Te(s,t.bind(n));else if(Ke(t))if(_e(t))t.forEach(i=>wy(i,e,n,r));else{const i=we(t.handler)?t.handler.bind(n):e[t.handler];we(i)&&Te(s,i,t)}}function Cy(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(c=>Ba(l,c,o,!0)),Ba(l,e,o)),Ke(e)&&i.set(e,l),l}function Ba(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&Ba(t,i,n,!0),s&&s.forEach(o=>Ba(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=lC[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const lC={data:Ph,props:Dh,emits:Dh,methods:xi,computed:xi,beforeCreate:Ct,created:Ct,beforeMount:Ct,mounted:Ct,beforeUpdate:Ct,updated:Ct,beforeDestroy:Ct,beforeUnmount:Ct,destroyed:Ct,unmounted:Ct,activated:Ct,deactivated:Ct,errorCaptured:Ct,serverPrefetch:Ct,components:xi,directives:xi,watch:uC,provide:Ph,inject:cC};function Ph(t,e){return e?t?function(){return _t(we(t)?t.call(this,this):t,we(e)?e.call(this,this):e)}:e:t}function cC(t,e){return xi(yu(t),yu(e))}function yu(t){if(_e(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ct(t,e){return t?[...new Set([].concat(t,e))]:e}function xi(t,e){return t?_t(Object.create(null),t,e):e}function Dh(t,e){return t?_e(t)&&_e(e)?[...new Set([...t,...e])]:_t(Object.create(null),mu(t),mu(e??{})):e}function uC(t,e){if(!t)return e;if(!e)return t;const n=_t(Object.create(null),t);for(const r in e)n[r]=Ct(t[r],e[r]);return n}function xy(){return{app:null,config:{isNativeTag:sw,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let dC=0;function fC(t,e){return function(r,s=null){we(r)||(r=_t({},r)),s!=null&&!Ke(s)&&(s=null);const i=xy(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:dC++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:WC,get config(){return i.config},set config(u){},use(u,...d){return o.has(u)||(u&&we(u.install)?(o.add(u),u.install(c,...d)):we(u)&&(o.add(u),u(c,...d))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,d){return d?(i.components[u]=d,c):i.components[u]},directive(u,d){return d?(i.directives[u]=d,c):i.directives[u]},mount(u,d,f){if(!l){const h=c._ceVNode||q(r,s);return h.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),t(h,u,f),l=!0,c._container=u,u.__vue_app__=c,xl(h.component)}},onUnmount(u){a.push(u)},unmount(){l&&(xn(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return i.provides[u]=d,c},runWithContext(u){const d=Kr;Kr=c;try{return u()}finally{Kr=d}}};return c}}let Kr=null;function Is(t,e){if(ft){let n=ft.provides;const r=ft.parent&&ft.parent.provides;r===n&&(n=ft.provides=Object.create(r)),n[t]=e}}function Vt(t,e,n=!1){const r=ft||at;if(r||Kr){const s=Kr?Kr._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&we(e)?e.call(r&&r.proxy):e}}function hC(){return!!(ft||at||Kr)}const Ey={},Sy=()=>Object.create(Ey),Ay=t=>Object.getPrototypeOf(t)===Ey;function pC(t,e,n,r=!1){const s={},i=Sy();t.propsDefaults=Object.create(null),Ty(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:Xg(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function mC(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=Pe(s),[l]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(wl(t.emitsOptions,f))continue;const h=e[f];if(l)if(Ne(i,f))h!==i[f]&&(i[f]=h,c=!0);else{const m=Pt(f);s[m]=vu(l,a,m,h,t,!1)}else h!==i[f]&&(i[f]=h,c=!0)}}}else{Ty(t,e,s,i)&&(c=!0);let u;for(const d in a)(!e||!Ne(e,d)&&((u=wr(d))===d||!Ne(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(s[d]=vu(l,a,d,void 0,t,!0)):delete s[d]);if(i!==a)for(const d in i)(!e||!Ne(e,d))&&(delete i[d],c=!0)}c&&Bn(t.attrs,"set","")}function Ty(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Di(l))continue;const c=e[l];let u;s&&Ne(s,u=Pt(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:wl(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(i){const l=Pe(n),c=a||Ve;for(let u=0;u<i.length;u++){const d=i[u];n[d]=vu(s,l,d,c[d],t,!Ne(c,d))}}return o}function vu(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=Ne(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&we(l)){const{propsDefaults:c}=s;if(n in c)r=c[n];else{const u=yo(s);r=c[n]=l.call(null,e),u()}}else r=l;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===wr(n))&&(r=!0))}return r}const gC=new WeakMap;function ky(t,e,n=!1){const r=n?gC:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let l=!1;if(!we(t)){const u=d=>{l=!0;const[f,h]=ky(d,e,!0);_t(o,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return Ke(t)&&r.set(t,$s),$s;if(_e(i))for(let u=0;u<i.length;u++){const d=Pt(i[u]);Mh(d)&&(o[d]=Ve)}else if(i)for(const u in i){const d=Pt(u);if(Mh(d)){const f=i[u],h=o[d]=_e(f)||we(f)?{type:f}:_t({},f),m=h.type;let p=!1,_=!0;if(_e(m))for(let b=0;b<m.length;++b){const C=m[b],y=we(C)&&C.name;if(y==="Boolean"){p=!0;break}else y==="String"&&(_=!1)}else p=we(m)&&m.name==="Boolean";h[0]=p,h[1]=_,(p||Ne(h,"default"))&&a.push(d)}}const c=[o,a];return Ke(t)&&r.set(t,c),c}function Mh(t){return t[0]!=="$"&&!Di(t)}const Oy=t=>t[0]==="_"||t==="$stable",Dd=t=>_e(t)?t.map(gn):[gn(t)],yC=(t,e,n)=>{if(e._n)return e;const r=W((...s)=>Dd(e(...s)),n);return r._c=!1,r},Ry=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Oy(s))continue;const i=t[s];if(we(i))e[s]=yC(s,i,r);else if(i!=null){const o=Dd(i);e[s]=()=>o}}},$y=(t,e)=>{const n=Dd(e);t.slots.default=()=>n},Py=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},vC=(t,e,n)=>{const r=t.slots=Sy();if(t.vnode.shapeFlag&32){const s=e._;s?(Py(r,e,n),n&&Rg(r,"_",s,!0)):Ry(e,r)}else e&&$y(t,e)},bC=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=Ve;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:Py(s,e,n):(i=!e.$stable,Ry(e,s)),o=e}else e&&($y(t,e),o={default:1});if(i)for(const a in s)!Oy(a)&&o[a]==null&&delete s[a]},xt=DC;function _C(t){return wC(t)}function wC(t,e){const n=dl();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=_n,insertStaticContent:m}=t,p=(T,k,M,L=null,z=null,B=null,J=void 0,Q=null,X=!!k.dynamicChildren)=>{if(T===k)return;T&&!vi(T,k)&&(L=w(T),Se(T,z,B,!0),T=null),k.patchFlag===-2&&(X=!1,k.dynamicChildren=null);const{type:Y,ref:pe,shapeFlag:ne}=k;switch(Y){case Cl:_(T,k,M,L);break;case Kn:b(T,k,M,L);break;case lc:T==null&&C(k,M,L,J);break;case tt:U(T,k,M,L,z,B,J,Q,X);break;default:ne&1?E(T,k,M,L,z,B,J,Q,X):ne&6?re(T,k,M,L,z,B,J,Q,X):(ne&64||ne&128)&&Y.process(T,k,M,L,z,B,J,Q,X,$)}pe!=null&&z&&La(pe,T&&T.ref,B,k||T,!k)},_=(T,k,M,L)=>{if(T==null)r(k.el=a(k.children),M,L);else{const z=k.el=T.el;k.children!==T.children&&c(z,k.children)}},b=(T,k,M,L)=>{T==null?r(k.el=l(k.children||""),M,L):k.el=T.el},C=(T,k,M,L)=>{[T.el,T.anchor]=m(T.children,k,M,L,T.el,T.anchor)},y=({el:T,anchor:k},M,L)=>{let z;for(;T&&T!==k;)z=f(T),r(T,M,L),T=z;r(k,M,L)},g=({el:T,anchor:k})=>{let M;for(;T&&T!==k;)M=f(T),s(T),T=M;s(k)},E=(T,k,M,L,z,B,J,Q,X)=>{k.type==="svg"?J="svg":k.type==="math"&&(J="mathml"),T==null?A(k,M,L,z,B,J,Q,X):x(T,k,z,B,J,Q,X)},A=(T,k,M,L,z,B,J,Q)=>{let X,Y;const{props:pe,shapeFlag:ne,transition:me,dirs:Ce}=T;if(X=T.el=o(T.type,B,pe&&pe.is,pe),ne&8?u(X,T.children):ne&16&&O(T.children,X,null,L,z,ac(T,B),J,Q),Ce&&$r(T,null,L,"created"),R(X,T,T.scopeId,J,L),pe){for(const ze in pe)ze!=="value"&&!Di(ze)&&i(X,ze,null,pe[ze],B,L);"value"in pe&&i(X,"value",null,pe.value,B),(Y=pe.onVnodeBeforeMount)&&dn(Y,L,T)}Ce&&$r(T,null,L,"beforeMount");const $e=CC(z,me);$e&&me.beforeEnter(X),r(X,k,M),((Y=pe&&pe.onVnodeMounted)||$e||Ce)&&xt(()=>{Y&&dn(Y,L,T),$e&&me.enter(X),Ce&&$r(T,null,L,"mounted")},z)},R=(T,k,M,L,z)=>{if(M&&h(T,M),L)for(let B=0;B<L.length;B++)h(T,L[B]);if(z){let B=z.subTree;if(k===B||Ny(B.type)&&(B.ssContent===k||B.ssFallback===k)){const J=z.vnode;R(T,J,J.scopeId,J.slotScopeIds,z.parent)}}},O=(T,k,M,L,z,B,J,Q,X=0)=>{for(let Y=X;Y<T.length;Y++){const pe=T[Y]=Q?cr(T[Y]):gn(T[Y]);p(null,pe,k,M,L,z,B,J,Q)}},x=(T,k,M,L,z,B,J)=>{const Q=k.el=T.el;let{patchFlag:X,dynamicChildren:Y,dirs:pe}=k;X|=T.patchFlag&16;const ne=T.props||Ve,me=k.props||Ve;let Ce;if(M&&Pr(M,!1),(Ce=me.onVnodeBeforeUpdate)&&dn(Ce,M,k,T),pe&&$r(k,T,M,"beforeUpdate"),M&&Pr(M,!0),(ne.innerHTML&&me.innerHTML==null||ne.textContent&&me.textContent==null)&&u(Q,""),Y?j(T.dynamicChildren,Y,Q,M,L,ac(k,z),B):J||N(T,k,Q,null,M,L,ac(k,z),B,!1),X>0){if(X&16)V(Q,ne,me,M,z);else if(X&2&&ne.class!==me.class&&i(Q,"class",null,me.class,z),X&4&&i(Q,"style",ne.style,me.style,z),X&8){const $e=k.dynamicProps;for(let ze=0;ze<$e.length;ze++){const Le=$e[ze],It=ne[Le],kt=me[Le];(kt!==It||Le==="value")&&i(Q,Le,It,kt,z,M)}}X&1&&T.children!==k.children&&u(Q,k.children)}else!J&&Y==null&&V(Q,ne,me,M,z);((Ce=me.onVnodeUpdated)||pe)&&xt(()=>{Ce&&dn(Ce,M,k,T),pe&&$r(k,T,M,"updated")},L)},j=(T,k,M,L,z,B,J)=>{for(let Q=0;Q<k.length;Q++){const X=T[Q],Y=k[Q],pe=X.el&&(X.type===tt||!vi(X,Y)||X.shapeFlag&70)?d(X.el):M;p(X,Y,pe,null,L,z,B,J,!0)}},V=(T,k,M,L,z)=>{if(k!==M){if(k!==Ve)for(const B in k)!Di(B)&&!(B in M)&&i(T,B,k[B],null,z,L);for(const B in M){if(Di(B))continue;const J=M[B],Q=k[B];J!==Q&&B!=="value"&&i(T,B,Q,J,z,L)}"value"in M&&i(T,"value",k.value,M.value,z)}},U=(T,k,M,L,z,B,J,Q,X)=>{const Y=k.el=T?T.el:a(""),pe=k.anchor=T?T.anchor:a("");let{patchFlag:ne,dynamicChildren:me,slotScopeIds:Ce}=k;Ce&&(Q=Q?Q.concat(Ce):Ce),T==null?(r(Y,M,L),r(pe,M,L),O(k.children||[],M,pe,z,B,J,Q,X)):ne>0&&ne&64&&me&&T.dynamicChildren?(j(T.dynamicChildren,me,M,z,B,J,Q),(k.key!=null||z&&k===z.subTree)&&Md(T,k,!0)):N(T,k,M,pe,z,B,J,Q,X)},re=(T,k,M,L,z,B,J,Q,X)=>{k.slotScopeIds=Q,T==null?k.shapeFlag&512?z.ctx.activate(k,M,L,J,X):se(k,M,L,z,B,J,X):P(T,k,X)},se=(T,k,M,L,z,B,J)=>{const Q=T.component=LC(T,L,z);if(fy(T)&&(Q.ctx.renderer=$),BC(Q,!1,J),Q.asyncDep){if(z&&z.registerDep(Q,I,J),!T.el){const X=Q.subTree=q(Kn);b(null,X,k,M)}}else I(Q,T,k,M,z,B,J)},P=(T,k,M)=>{const L=k.component=T.component;if($C(T,k,M))if(L.asyncDep&&!L.asyncResolved){F(L,k,M);return}else L.next=k,L.update();else k.el=T.el,L.vnode=k},I=(T,k,M,L,z,B,J)=>{const Q=()=>{if(T.isMounted){let{next:ne,bu:me,u:Ce,parent:$e,vnode:ze}=T;{const cn=Dy(T);if(cn){ne&&(ne.el=ze.el,F(T,ne,J)),cn.asyncDep.then(()=>{T.isUnmounted||Q()});return}}let Le=ne,It;Pr(T,!1),ne?(ne.el=ze.el,F(T,ne,J)):ne=ze,me&&ha(me),(It=ne.props&&ne.props.onVnodeBeforeUpdate)&&dn(It,$e,ne,ze),Pr(T,!0);const kt=Fh(T),ln=T.subTree;T.subTree=kt,p(ln,kt,d(ln.el),w(ln),T,z,B),ne.el=kt.el,Le===null&&PC(T,kt.el),Ce&&xt(Ce,z),(It=ne.props&&ne.props.onVnodeUpdated)&&xt(()=>dn(It,$e,ne,ze),z)}else{let ne;const{el:me,props:Ce}=k,{bm:$e,m:ze,parent:Le,root:It,type:kt}=T,ln=Ms(k);Pr(T,!1),$e&&ha($e),!ln&&(ne=Ce&&Ce.onVnodeBeforeMount)&&dn(ne,Le,k),Pr(T,!0);{It.ce&&It.ce._injectChildStyle(kt);const cn=T.subTree=Fh(T);p(null,cn,M,L,T,z,B),k.el=cn.el}if(ze&&xt(ze,z),!ln&&(ne=Ce&&Ce.onVnodeMounted)){const cn=k;xt(()=>dn(ne,Le,cn),z)}(k.shapeFlag&256||Le&&Ms(Le.vnode)&&Le.vnode.shapeFlag&256)&&T.a&&xt(T.a,z),T.isMounted=!0,k=M=L=null}};T.scope.on();const X=T.effect=new Ig(Q);T.scope.off();const Y=T.update=X.run.bind(X),pe=T.job=X.runIfDirty.bind(X);pe.i=T,pe.id=T.uid,X.scheduler=()=>$d(pe),Pr(T,!0),Y()},F=(T,k,M)=>{k.component=T;const L=T.vnode.props;T.vnode=k,T.next=null,mC(T,k.props,L,M),bC(T,k.children,M),Cr(),Sh(T),xr()},N=(T,k,M,L,z,B,J,Q,X=!1)=>{const Y=T&&T.children,pe=T?T.shapeFlag:0,ne=k.children,{patchFlag:me,shapeFlag:Ce}=k;if(me>0){if(me&128){ce(Y,ne,M,L,z,B,J,Q,X);return}else if(me&256){le(Y,ne,M,L,z,B,J,Q,X);return}}Ce&8?(pe&16&&je(Y,z,B),ne!==Y&&u(M,ne)):pe&16?Ce&16?ce(Y,ne,M,L,z,B,J,Q,X):je(Y,z,B,!0):(pe&8&&u(M,""),Ce&16&&O(ne,M,L,z,B,J,Q,X))},le=(T,k,M,L,z,B,J,Q,X)=>{T=T||$s,k=k||$s;const Y=T.length,pe=k.length,ne=Math.min(Y,pe);let me;for(me=0;me<ne;me++){const Ce=k[me]=X?cr(k[me]):gn(k[me]);p(T[me],Ce,M,null,z,B,J,Q,X)}Y>pe?je(T,z,B,!0,!1,ne):O(k,M,L,z,B,J,Q,X,ne)},ce=(T,k,M,L,z,B,J,Q,X)=>{let Y=0;const pe=k.length;let ne=T.length-1,me=pe-1;for(;Y<=ne&&Y<=me;){const Ce=T[Y],$e=k[Y]=X?cr(k[Y]):gn(k[Y]);if(vi(Ce,$e))p(Ce,$e,M,null,z,B,J,Q,X);else break;Y++}for(;Y<=ne&&Y<=me;){const Ce=T[ne],$e=k[me]=X?cr(k[me]):gn(k[me]);if(vi(Ce,$e))p(Ce,$e,M,null,z,B,J,Q,X);else break;ne--,me--}if(Y>ne){if(Y<=me){const Ce=me+1,$e=Ce<pe?k[Ce].el:L;for(;Y<=me;)p(null,k[Y]=X?cr(k[Y]):gn(k[Y]),M,$e,z,B,J,Q,X),Y++}}else if(Y>me)for(;Y<=ne;)Se(T[Y],z,B,!0),Y++;else{const Ce=Y,$e=Y,ze=new Map;for(Y=$e;Y<=me;Y++){const Ft=k[Y]=X?cr(k[Y]):gn(k[Y]);Ft.key!=null&&ze.set(Ft.key,Y)}let Le,It=0;const kt=me-$e+1;let ln=!1,cn=0;const mi=new Array(kt);for(Y=0;Y<kt;Y++)mi[Y]=0;for(Y=Ce;Y<=ne;Y++){const Ft=T[Y];if(It>=kt){Se(Ft,z,B,!0);continue}let un;if(Ft.key!=null)un=ze.get(Ft.key);else for(Le=$e;Le<=me;Le++)if(mi[Le-$e]===0&&vi(Ft,k[Le])){un=Le;break}un===void 0?Se(Ft,z,B,!0):(mi[un-$e]=Y+1,un>=cn?cn=un:ln=!0,p(Ft,k[un],M,null,z,B,J,Q,X),It++)}const bh=ln?xC(mi):$s;for(Le=bh.length-1,Y=kt-1;Y>=0;Y--){const Ft=$e+Y,un=k[Ft],_h=Ft+1<pe?k[Ft+1].el:L;mi[Y]===0?p(null,un,M,_h,z,B,J,Q,X):ln&&(Le<0||Y!==bh[Le]?Re(un,M,_h,2):Le--)}}},Re=(T,k,M,L,z=null)=>{const{el:B,type:J,transition:Q,children:X,shapeFlag:Y}=T;if(Y&6){Re(T.component.subTree,k,M,L);return}if(Y&128){T.suspense.move(k,M,L);return}if(Y&64){J.move(T,k,M,$);return}if(J===tt){r(B,k,M);for(let ne=0;ne<X.length;ne++)Re(X[ne],k,M,L);r(T.anchor,k,M);return}if(J===lc){y(T,k,M);return}if(L!==2&&Y&1&&Q)if(L===0)Q.beforeEnter(B),r(B,k,M),xt(()=>Q.enter(B),z);else{const{leave:ne,delayLeave:me,afterLeave:Ce}=Q,$e=()=>r(B,k,M),ze=()=>{ne(B,()=>{$e(),Ce&&Ce()})};me?me(B,$e,ze):ze()}else r(B,k,M)},Se=(T,k,M,L=!1,z=!1)=>{const{type:B,props:J,ref:Q,children:X,dynamicChildren:Y,shapeFlag:pe,patchFlag:ne,dirs:me,cacheIndex:Ce}=T;if(ne===-2&&(z=!1),Q!=null&&La(Q,null,M,T,!0),Ce!=null&&(k.renderCache[Ce]=void 0),pe&256){k.ctx.deactivate(T);return}const $e=pe&1&&me,ze=!Ms(T);let Le;if(ze&&(Le=J&&J.onVnodeBeforeUnmount)&&dn(Le,k,T),pe&6)Ie(T.component,M,L);else{if(pe&128){T.suspense.unmount(M,L);return}$e&&$r(T,null,k,"beforeUnmount"),pe&64?T.type.remove(T,k,M,$,L):Y&&!Y.hasOnce&&(B!==tt||ne>0&&ne&64)?je(Y,k,M,!1,!0):(B===tt&&ne&384||!z&&pe&16)&&je(X,k,M),L&&Ae(T)}(ze&&(Le=J&&J.onVnodeUnmounted)||$e)&&xt(()=>{Le&&dn(Le,k,T),$e&&$r(T,null,k,"unmounted")},M)},Ae=T=>{const{type:k,el:M,anchor:L,transition:z}=T;if(k===tt){ge(M,L);return}if(k===lc){g(T);return}const B=()=>{s(M),z&&!z.persisted&&z.afterLeave&&z.afterLeave()};if(T.shapeFlag&1&&z&&!z.persisted){const{leave:J,delayLeave:Q}=z,X=()=>J(M,B);Q?Q(T.el,B,X):X()}else B()},ge=(T,k)=>{let M;for(;T!==k;)M=f(T),s(T),T=M;s(k)},Ie=(T,k,M)=>{const{bum:L,scope:z,job:B,subTree:J,um:Q,m:X,a:Y}=T;Ih(X),Ih(Y),L&&ha(L),z.stop(),B&&(B.flags|=8,Se(J,T,k,M)),Q&&xt(Q,k),xt(()=>{T.isUnmounted=!0},k),k&&k.pendingBranch&&!k.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===k.pendingId&&(k.deps--,k.deps===0&&k.resolve())},je=(T,k,M,L=!1,z=!1,B=0)=>{for(let J=B;J<T.length;J++)Se(T[J],k,M,L,z)},w=T=>{if(T.shapeFlag&6)return w(T.component.subTree);if(T.shapeFlag&128)return T.suspense.next();const k=f(T.anchor||T.el),M=k&&k[ly];return M?f(M):k};let v=!1;const D=(T,k,M)=>{T==null?k._vnode&&Se(k._vnode,null,null,!0):p(k._vnode||null,T,k,null,null,null,M),k._vnode=T,v||(v=!0,Sh(),sy(),v=!1)},$={p,um:Se,m:Re,r:Ae,mt:se,mc:O,pc:N,pbc:j,n:w,o:t};return{render:D,hydrate:void 0,createApp:fC(D)}}function ac({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Pr({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function CC(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Md(t,e,n=!1){const r=t.children,s=e.children;if(_e(r)&&_e(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=cr(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&Md(o,a)),a.type===Cl&&(a.el=o.el)}}function xC(t){const e=t.slice(),n=[0];let r,s,i,o,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(s=n[n.length-1],t[s]<c){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<c?i=a+1:o=a;c<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Dy(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Dy(e)}function Ih(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const EC=Symbol.for("v-scx"),SC=()=>Vt(EC);function En(t,e){return _l(t,null,e)}function My(t,e){return _l(t,null,{flush:"post"})}function Te(t,e,n){return _l(t,e,n)}function _l(t,e,n=Ve){const{immediate:r,deep:s,flush:i,once:o}=n,a=_t({},n),l=e&&r||!e&&i!=="post";let c;if(Qi){if(i==="sync"){const h=SC();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=_n,h.resume=_n,h.pause=_n,h}}const u=ft;a.call=(h,m,p)=>xn(h,u,m,p);let d=!1;i==="post"?a.scheduler=h=>{xt(h,u&&u.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(h,m)=>{m?h():$d(h)}),a.augmentJob=h=>{e&&(h.flags|=4),d&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const f=jw(t,e,a);return Qi&&(c?c.push(f):l&&f()),f}function AC(t,e,n){const r=this.proxy,s=Je(t)?t.includes(".")?Iy(r,t):()=>r[t]:t.bind(r,r);let i;we(e)?i=e:(i=e.handler,n=e);const o=yo(this),a=_l(s,i.bind(r),n);return o(),a}function Iy(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const TC=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Pt(e)}Modifiers`]||t[`${wr(e)}Modifiers`];function kC(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ve;let s=n;const i=e.startsWith("update:"),o=i&&TC(r,e.slice(7));o&&(o.trim&&(s=n.map(u=>Je(u)?u.trim():u)),o.number&&(s=n.map(lu)));let a,l=r[a=fa(e)]||r[a=fa(Pt(e))];!l&&i&&(l=r[a=fa(wr(e))]),l&&xn(l,t,6,s);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,xn(c,t,6,s)}}function Fy(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!we(t)){const l=c=>{const u=Fy(c,e,!0);u&&(a=!0,_t(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Ke(t)&&r.set(t,null),null):(_e(i)?i.forEach(l=>o[l]=null):_t(o,i),Ke(t)&&r.set(t,o),o)}function wl(t,e){return!t||!al(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ne(t,e[0].toLowerCase()+e.slice(1))||Ne(t,wr(e))||Ne(t,e))}function Fh(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:h,ctx:m,inheritAttrs:p}=t,_=Na(t);let b,C;try{if(n.shapeFlag&4){const g=s||r,E=g;b=gn(c.call(E,g,u,d,h,f,m)),C=a}else{const g=e;b=gn(g.length>1?g(d,{attrs:a,slots:o,emit:l}):g(d,null)),C=e.props?a:OC(a)}}catch(g){Li.length=0,vl(g,t,1),b=q(Kn)}let y=b;if(C&&p!==!1){const g=Object.keys(C),{shapeFlag:E}=y;g.length&&E&7&&(i&&g.some(xd)&&(C=RC(C,i)),y=Gr(y,C,!1,!0))}return n.dirs&&(y=Gr(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&Pd(y,n.transition),b=y,Na(_),b}const OC=t=>{let e;for(const n in t)(n==="class"||n==="style"||al(n))&&((e||(e={}))[n]=t[n]);return e},RC=(t,e)=>{const n={};for(const r in t)(!xd(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function $C(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Nh(r,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==r[f]&&!wl(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Nh(r,o,c):!0:!!o;return!1}function Nh(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!wl(n,i))return!0}return!1}function PC({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Ny=t=>t.__isSuspense;function DC(t,e){e&&e.pendingBranch?_e(t)?e.effects.push(...t):e.effects.push(t):zw(t)}const tt=Symbol.for("v-fgt"),Cl=Symbol.for("v-txt"),Kn=Symbol.for("v-cmt"),lc=Symbol.for("v-stc"),Li=[];let jt=null;function K(t=!1){Li.push(jt=t?null:[])}function MC(){Li.pop(),jt=Li[Li.length-1]||null}let Ji=1;function Lh(t,e=!1){Ji+=t,t<0&&jt&&e&&(jt.hasOnce=!0)}function Ly(t){return t.dynamicChildren=Ji>0?jt||$s:null,MC(),Ji>0&&jt&&jt.push(t),t}function He(t,e,n,r,s,i){return Ly(De(t,e,n,r,s,i,!0))}function ee(t,e,n,r,s){return Ly(q(t,e,n,r,s,!0))}function Xi(t){return t?t.__v_isVNode===!0:!1}function vi(t,e){return t.type===e.type&&t.key===e.key}const By=({key:t})=>t??null,ma=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Je(t)||Me(t)||we(t)?{i:at,r:t,k:e,f:!!n}:t:null);function De(t,e=null,n=null,r=0,s=null,i=t===tt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&By(e),ref:e&&ma(e),scopeId:oy,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:at};return a?(Id(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=Je(n)?8:16),Ji>0&&!o&&jt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&jt.push(l),l}const q=IC;function IC(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===yy)&&(t=Kn),Xi(t)){const a=Gr(t,e,!0);return n&&Id(a,n),Ji>0&&!i&&jt&&(a.shapeFlag&6?jt[jt.indexOf(t)]=a:jt.push(a)),a.patchFlag=-2,a}if(zC(t)&&(t=t.__vccOpts),e){e=rs(e);let{class:a,style:l}=e;a&&!Je(a)&&(e.class=dt(a)),Ke(l)&&(Rd(l)&&!_e(l)&&(l=_t({},l)),e.style=ei(l))}const o=Je(t)?1:Ny(t)?128:Ww(t)?64:Ke(t)?4:we(t)?2:0;return De(t,e,n,r,s,o,i,!0)}function rs(t){return t?Rd(t)||Ay(t)?_t({},t):t:null}function Gr(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=t,c=e?ke(s||{},e):s,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&By(c),ref:e&&e.ref?n&&i?_e(i)?i.concat(ma(e)):[i,ma(e)]:ma(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==tt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Gr(t.ssContent),ssFallback:t.ssFallback&&Gr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Pd(u,l.clone(u)),u}function mt(t=" ",e=0){return q(Cl,null,t,e)}function Yn(t="",e=!1){return e?(K(),ee(Kn,null,t)):q(Kn,null,t)}function gn(t){return t==null||typeof t=="boolean"?q(Kn):_e(t)?q(tt,null,t.slice()):Xi(t)?cr(t):q(Cl,null,String(t))}function cr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Gr(t)}function Id(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(_e(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Id(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!Ay(e)?e._ctx=at:s===3&&at&&(at.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else we(e)?(e={default:e,_ctx:at},n=32):(e=String(e),r&64?(n=16,e=[mt(e)]):n=8);t.children=e,t.shapeFlag|=n}function ke(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=dt([e.class,r.class]));else if(s==="style")e.style=ei([e.style,r.style]);else if(al(s)){const i=e[s],o=r[s];o&&i!==o&&!(_e(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function dn(t,e,n,r=null){xn(t,e,7,[n,r])}const FC=xy();let NC=0;function LC(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||FC,i={uid:NC++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Mg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ky(r,s),emitsOptions:Fy(r,s),emit:null,emitted:null,propsDefaults:Ve,inheritAttrs:r.inheritAttrs,ctx:Ve,data:Ve,props:Ve,attrs:Ve,slots:Ve,refs:Ve,setupState:Ve,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=kC.bind(null,i),t.ce&&t.ce(i),i}let ft=null;const Qn=()=>ft||at;let Ua,bu;{const t=dl(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Ua=e("__VUE_INSTANCE_SETTERS__",n=>ft=n),bu=e("__VUE_SSR_SETTERS__",n=>Qi=n)}const yo=t=>{const e=ft;return Ua(t),t.scope.on(),()=>{t.scope.off(),Ua(e)}},Bh=()=>{ft&&ft.scope.off(),Ua(null)};function Uy(t){return t.vnode.shapeFlag&4}let Qi=!1;function BC(t,e=!1,n=!1){e&&bu(e);const{props:r,children:s}=t.vnode,i=Uy(t);pC(t,r,i,e),vC(t,s,n);const o=i?UC(t,e):void 0;return e&&bu(!1),o}function UC(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,sC);const{setup:r}=n;if(r){Cr();const s=t.setupContext=r.length>1?VC(t):null,i=yo(t),o=go(r,t,0,[t.props,s]),a=Tg(o);if(xr(),i(),(a||t.sp)&&!Ms(t)&&dy(t),a){if(o.then(Bh,Bh),e)return o.then(l=>{Uh(t,l)}).catch(l=>{vl(l,t,0)});t.asyncDep=o}else Uh(t,o)}else jy(t)}function Uh(t,e,n){we(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ke(e)&&(t.setupState=Zg(e)),jy(t)}function jy(t,e,n){const r=t.type;t.render||(t.render=r.render||_n);{const s=yo(t);Cr();try{oC(t)}finally{xr(),s()}}}const jC={get(t,e){return vt(t,"get",""),t[e]}};function VC(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,jC),slots:t.slots,emit:t.emit,expose:e}}function xl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Zg(yl(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ni)return Ni[n](t)},has(e,n){return n in e||n in Ni}})):t.proxy}function HC(t,e=!0){return we(t)?t.displayName||t.name:t.name||e&&t.__name}function zC(t){return we(t)&&"__vccOpts"in t}const H=(t,e)=>Bw(t,e,Qi);function en(t,e,n){const r=arguments.length;return r===2?Ke(e)&&!_e(e)?Xi(e)?q(t,null,[e]):q(t,e):q(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Xi(n)&&(n=[n]),q(t,e,n))}const WC="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _u;const jh=typeof window<"u"&&window.trustedTypes;if(jh)try{_u=jh.createPolicy("vue",{createHTML:t=>t})}catch{}const Vy=_u?t=>_u.createHTML(t):t=>t,KC="http://www.w3.org/2000/svg",YC="http://www.w3.org/1998/Math/MathML",Ln=typeof document<"u"?document:null,Vh=Ln&&Ln.createElement("template"),qC={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?Ln.createElementNS(KC,t):e==="mathml"?Ln.createElementNS(YC,t):n?Ln.createElement(t,{is:n}):Ln.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Ln.createTextNode(t),createComment:t=>Ln.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ln.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Vh.innerHTML=Vy(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Vh.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},GC=Symbol("_vtc");function JC(t,e,n){const r=t[GC];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Hh=Symbol("_vod"),XC=Symbol("_vsh"),QC=Symbol(""),ZC=/(^|;)\s*display\s*:/;function e1(t,e,n){const r=t.style,s=Je(n);let i=!1;if(n&&!s){if(e)if(Je(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&ga(r,a,"")}else for(const o in e)n[o]==null&&ga(r,o,"");for(const o in n)o==="display"&&(i=!0),ga(r,o,n[o])}else if(s){if(e!==n){const o=r[QC];o&&(n+=";"+o),r.cssText=n,i=ZC.test(n)}}else e&&t.removeAttribute("style");Hh in t&&(t[Hh]=i?r.display:"",t[XC]&&(r.display="none"))}const zh=/\s*!important$/;function ga(t,e,n){if(_e(n))n.forEach(r=>ga(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=t1(t,e);zh.test(n)?t.setProperty(wr(r),n.replace(zh,""),"important"):t[r]=n}}const Wh=["Webkit","Moz","ms"],cc={};function t1(t,e){const n=cc[e];if(n)return n;let r=Pt(e);if(r!=="filter"&&r in t)return cc[e]=r;r=ul(r);for(let s=0;s<Wh.length;s++){const i=Wh[s]+r;if(i in t)return cc[e]=i}return e}const Kh="http://www.w3.org/1999/xlink";function Yh(t,e,n,r,s,i=pw(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Kh,e.slice(6,e.length)):t.setAttributeNS(Kh,e,n):n==null||i&&!$g(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Jn(n)?String(n):n)}function qh(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Vy(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=$g(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function xs(t,e,n,r){t.addEventListener(e,n,r)}function n1(t,e,n,r){t.removeEventListener(e,n,r)}const Gh=Symbol("_vei");function r1(t,e,n,r,s=null){const i=t[Gh]||(t[Gh]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=s1(e);if(r){const c=i[e]=a1(r,s);xs(t,a,c,l)}else o&&(n1(t,a,o,l),i[e]=void 0)}}const Jh=/(?:Once|Passive|Capture)$/;function s1(t){let e;if(Jh.test(t)){e={};let r;for(;r=t.match(Jh);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):wr(t.slice(2)),e]}let uc=0;const i1=Promise.resolve(),o1=()=>uc||(i1.then(()=>uc=0),uc=Date.now());function a1(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;xn(l1(r,n.value),e,5,[r])};return n.value=t,n.attached=o1(),n}function l1(t,e){if(_e(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const Xh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,c1=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?JC(t,r,o):e==="style"?e1(t,n,r):al(e)?xd(e)||r1(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):u1(t,e,r,o))?(qh(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Yh(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Je(r))?qh(t,Pt(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Yh(t,e,r,o))};function u1(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Xh(e)&&we(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Xh(e)&&Je(n)?!1:e in t}const Qh=t=>{const e=t.props["onUpdate:modelValue"]||!1;return _e(e)?n=>ha(e,n):e};function d1(t){t.target.composing=!0}function Zh(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const dc=Symbol("_assign"),Hy={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[dc]=Qh(s);const i=r||s.props&&s.props.type==="number";xs(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=lu(a)),t[dc](a)}),n&&xs(t,"change",()=>{t.value=t.value.trim()}),e||(xs(t,"compositionstart",d1),xs(t,"compositionend",Zh),xs(t,"change",Zh))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[dc]=Qh(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?lu(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===l)||(t.value=l))}},f1=["ctrl","shift","alt","meta"],h1={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>f1.some(n=>t[`${n}Key`]&&!e.includes(n))},ja=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<e.length;o++){const a=h1[e[o]];if(a&&a(s,e))return}return t(s,...i)})},p1={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ws=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=wr(s.key);if(e.some(o=>o===i||p1[o]===i))return t(s)})},m1=_t({patchProp:c1},qC);let ep;function g1(){return ep||(ep=_C(m1))}const y1=(...t)=>{const e=g1().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=b1(r);if(!s)return;const i=e._component;!we(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,v1(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function v1(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function b1(t){return Je(t)?document.querySelector(t):t}/*!
 * pinia v3.0.2
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let zy;const El=t=>zy=t,Wy=Symbol();function wu(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Bi;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Bi||(Bi={}));function _1(){const t=fl(!0),e=t.run(()=>te({}));let n=[],r=[];const s=yl({install(i){El(s),s._a=i,i.provide(Wy,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return this._a?n.push(i):r.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const Ky=()=>{};function tp(t,e,n,r=Ky){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!n&&po()&&hl(s),s}function hs(t,...e){t.slice().forEach(n=>{n(...e)})}const w1=t=>t(),np=Symbol(),fc=Symbol();function Cu(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];wu(s)&&wu(r)&&t.hasOwnProperty(n)&&!Me(r)&&!zn(r)?t[n]=Cu(s,r):t[n]=r}return t}const C1=Symbol();function x1(t){return!wu(t)||!Object.prototype.hasOwnProperty.call(t,C1)}const{assign:or}=Object;function E1(t){return!!(Me(t)&&t.effect)}function S1(t,e,n,r){const{state:s,actions:i,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=s?s():{});const u=Wn(n.state.value[t]);return or(u,i,Object.keys(o||{}).reduce((d,f)=>(d[f]=yl(H(()=>{El(n);const h=n._s.get(t);return o[f].call(h,h)})),d),{}))}return l=Yy(t,c,e,n,r,!0),l}function Yy(t,e,n={},r,s,i){let o;const a=or({actions:{}},n),l={deep:!0};let c,u,d=[],f=[],h;const m=r.state.value[t];!i&&!m&&(r.state.value[t]={}),te({});let p;function _(O){let x;c=u=!1,typeof O=="function"?(O(r.state.value[t]),x={type:Bi.patchFunction,storeId:t,events:h}):(Cu(r.state.value[t],O),x={type:Bi.patchObject,payload:O,storeId:t,events:h});const j=p=Symbol();Dt().then(()=>{p===j&&(c=!0)}),u=!0,hs(d,x,r.state.value[t])}const b=i?function(){const{state:x}=n,j=x?x():{};this.$patch(V=>{or(V,j)})}:Ky;function C(){o.stop(),d=[],f=[],r._s.delete(t)}const y=(O,x="")=>{if(np in O)return O[fc]=x,O;const j=function(){El(r);const V=Array.from(arguments),U=[],re=[];function se(F){U.push(F)}function P(F){re.push(F)}hs(f,{args:V,name:j[fc],store:E,after:se,onError:P});let I;try{I=O.apply(this&&this.$id===t?this:E,V)}catch(F){throw hs(re,F),F}return I instanceof Promise?I.then(F=>(hs(U,F),F)).catch(F=>(hs(re,F),Promise.reject(F))):(hs(U,I),I)};return j[np]=!0,j[fc]=x,j},g={_p:r,$id:t,$onAction:tp.bind(null,f),$patch:_,$reset:b,$subscribe(O,x={}){const j=tp(d,O,x.detached,()=>V()),V=o.run(()=>Te(()=>r.state.value[t],U=>{(x.flush==="sync"?u:c)&&O({storeId:t,type:Bi.direct,events:h},U)},or({},l,x)));return j},$dispose:C},E=tn(g);r._s.set(t,E);const R=(r._a&&r._a.runWithContext||w1)(()=>r._e.run(()=>(o=fl()).run(()=>e({action:y}))));for(const O in R){const x=R[O];if(Me(x)&&!E1(x)||zn(x))i||(m&&x1(x)&&(Me(x)?x.value=m[O]:Cu(x,m[O])),r.state.value[t][O]=x);else if(typeof x=="function"){const j=y(x,O);R[O]=j,a.actions[O]=x}}return or(E,R),or(Pe(E),R),Object.defineProperty(E,"$state",{get:()=>r.state.value[t],set:O=>{_(x=>{or(x,O)})}}),r._p.forEach(O=>{or(E,o.run(()=>O({store:E,app:r._a,pinia:r,options:a})))}),m&&i&&n.hydrate&&n.hydrate(E.$state,m),c=!0,u=!0,E}/*! #__NO_SIDE_EFFECTS__ */function Er(t,e,n){let r;const s=typeof e=="function";r=s?n:e;function i(o,a){const l=hC();return o=o||(l?Vt(Wy,null):null),o&&El(o),o=zy,o._s.has(t)||(s?Yy(t,e,r,o):S1(t,r,o)),o._s.get(t)}return i.$id=t,i}function ri(t){const e=Pe(t),n={};for(const r in e){const s=e[r];s.effect?n[r]=H({get:()=>t[r],set(i){t[r]=i}}):(Me(s)||zn(s))&&(n[r]=ey(t,r))}return n}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Es=typeof document<"u";function qy(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function A1(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&qy(t.default)}const Fe=Object.assign;function hc(t,e){const n={};for(const r in e){const s=e[r];n[r]=nn(s)?s.map(t):t(s)}return n}const Ui=()=>{},nn=Array.isArray,Gy=/#/g,T1=/&/g,k1=/\//g,O1=/=/g,R1=/\?/g,Jy=/\+/g,$1=/%5B/g,P1=/%5D/g,Xy=/%5E/g,D1=/%60/g,Qy=/%7B/g,M1=/%7C/g,Zy=/%7D/g,I1=/%20/g;function Fd(t){return encodeURI(""+t).replace(M1,"|").replace($1,"[").replace(P1,"]")}function F1(t){return Fd(t).replace(Qy,"{").replace(Zy,"}").replace(Xy,"^")}function xu(t){return Fd(t).replace(Jy,"%2B").replace(I1,"+").replace(Gy,"%23").replace(T1,"%26").replace(D1,"`").replace(Qy,"{").replace(Zy,"}").replace(Xy,"^")}function N1(t){return xu(t).replace(O1,"%3D")}function L1(t){return Fd(t).replace(Gy,"%23").replace(R1,"%3F")}function B1(t){return t==null?"":L1(t).replace(k1,"%2F")}function Zi(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const U1=/\/$/,j1=t=>t.replace(U1,"");function pc(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=W1(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:Zi(o)}}function V1(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function rp(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function H1(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Ks(e.matched[r],n.matched[s])&&ev(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Ks(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function ev(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!z1(t[n],e[n]))return!1;return!0}function z1(t,e){return nn(t)?sp(t,e):nn(e)?sp(e,t):t===e}function sp(t,e){return nn(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function W1(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const tr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var eo;(function(t){t.pop="pop",t.push="push"})(eo||(eo={}));var ji;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ji||(ji={}));function K1(t){if(!t)if(Es){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),j1(t)}const Y1=/^[^#]+#/;function q1(t,e){return t.replace(Y1,"#")+e}function G1(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Sl=()=>({left:window.scrollX,top:window.scrollY});function J1(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=G1(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function ip(t,e){return(history.state?history.state.position-e:-1)+t}const Eu=new Map;function X1(t,e){Eu.set(t,e)}function Q1(t){const e=Eu.get(t);return Eu.delete(t),e}let Z1=()=>location.protocol+"//"+location.host;function tv(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),rp(l,"")}return rp(n,t)+r+s}function ex(t,e,n,r){let s=[],i=[],o=null;const a=({state:f})=>{const h=tv(t,location),m=n.value,p=e.value;let _=0;if(f){if(n.value=h,e.value=f,o&&o===m){o=null;return}_=p?f.position-p.position:0}else r(h);s.forEach(b=>{b(n.value,m,{delta:_,type:eo.pop,direction:_?_>0?ji.forward:ji.back:ji.unknown})})};function l(){o=n.value}function c(f){s.push(f);const h=()=>{const m=s.indexOf(f);m>-1&&s.splice(m,1)};return i.push(h),h}function u(){const{history:f}=window;f.state&&f.replaceState(Fe({},f.state,{scroll:Sl()}),"")}function d(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function op(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Sl():null}}function tx(t){const{history:e,location:n}=window,r={value:tv(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:Z1()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),s.value=c}catch(h){console.error(h),n[u?"replace":"assign"](f)}}function o(l,c){const u=Fe({},e.state,op(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});i(l,u,!0),r.value=l}function a(l,c){const u=Fe({},s.value,e.state,{forward:l,scroll:Sl()});i(u.current,u,!0);const d=Fe({},op(r.value,l,null),{position:u.position+1},c);i(l,d,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function nx(t){t=K1(t);const e=tx(t),n=ex(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=Fe({location:"",base:t,go:r,createHref:q1.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function rx(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),nx(t)}function sx(t){return typeof t=="string"||t&&typeof t=="object"}function nv(t){return typeof t=="string"||typeof t=="symbol"}const rv=Symbol("");var ap;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(ap||(ap={}));function Ys(t,e){return Fe(new Error,{type:t,[rv]:!0},e)}function Pn(t,e){return t instanceof Error&&rv in t&&(e==null||!!(t.type&e))}const lp="[^/]+?",ix={sensitive:!1,strict:!1,start:!0,end:!0},ox=/[.+*?^${}()[\]/\\]/g;function ax(t,e){const n=Fe({},ix,e),r=[];let s=n.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let d=0;d<c.length;d++){const f=c[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(s+="/"),s+=f.value.replace(ox,"\\$&"),h+=40;else if(f.type===1){const{value:m,repeatable:p,optional:_,regexp:b}=f;i.push({name:m,repeatable:p,optional:_});const C=b||lp;if(C!==lp){h+=10;try{new RegExp(`(${C})`)}catch(g){throw new Error(`Invalid custom RegExp for param "${m}" (${C}): `+g.message)}}let y=p?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;d||(y=_&&c.length<2?`(?:/${y})`:"/"+y),_&&(y+="?"),s+=y,h+=20,_&&(h+=-8),p&&(h+=-20),C===".*"&&(h+=-50)}u.push(h)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const h=u[f]||"",m=i[f-1];d[m.name]=h&&m.repeatable?h.split("/"):h}return d}function l(c){let u="",d=!1;for(const f of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const h of f)if(h.type===0)u+=h.value;else if(h.type===1){const{value:m,repeatable:p,optional:_}=h,b=m in c?c[m]:"";if(nn(b)&&!p)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const C=nn(b)?b.join("/"):b;if(!C)if(_)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${m}"`);u+=C}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function lx(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function sv(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=lx(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(cp(r))return 1;if(cp(s))return-1}return s.length-r.length}function cp(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const cx={type:0,value:""},ux=/[a-zA-Z0-9_]/;function dx(t){if(!t)return[[]];if(t==="/")return[[cx]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,c="",u="";function d(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:ux.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),s}function fx(t,e,n){const r=ax(dx(t.path),n),s=Fe(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function hx(t,e){const n=[],r=new Map;e=hp({strict:!1,end:!0,sensitive:!1},e);function s(d){return r.get(d)}function i(d,f,h){const m=!h,p=dp(d);p.aliasOf=h&&h.record;const _=hp(e,d),b=[p];if("alias"in d){const g=typeof d.alias=="string"?[d.alias]:d.alias;for(const E of g)b.push(dp(Fe({},p,{components:h?h.record.components:p.components,path:E,aliasOf:h?h.record:p})))}let C,y;for(const g of b){const{path:E}=g;if(f&&E[0]!=="/"){const A=f.record.path,R=A[A.length-1]==="/"?"":"/";g.path=f.record.path+(E&&R+E)}if(C=fx(g,f,_),h?h.alias.push(C):(y=y||C,y!==C&&y.alias.push(C),m&&d.name&&!fp(C)&&o(d.name)),iv(C)&&l(C),p.children){const A=p.children;for(let R=0;R<A.length;R++)i(A[R],C,h&&h.children[R])}h=h||C}return y?()=>{o(y)}:Ui}function o(d){if(nv(d)){const f=r.get(d);f&&(r.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const f=gx(d,n);n.splice(f,0,d),d.record.name&&!fp(d)&&r.set(d.record.name,d)}function c(d,f){let h,m={},p,_;if("name"in d&&d.name){if(h=r.get(d.name),!h)throw Ys(1,{location:d});_=h.record.name,m=Fe(up(f.params,h.keys.filter(y=>!y.optional).concat(h.parent?h.parent.keys.filter(y=>y.optional):[]).map(y=>y.name)),d.params&&up(d.params,h.keys.map(y=>y.name))),p=h.stringify(m)}else if(d.path!=null)p=d.path,h=n.find(y=>y.re.test(p)),h&&(m=h.parse(p),_=h.record.name);else{if(h=f.name?r.get(f.name):n.find(y=>y.re.test(f.path)),!h)throw Ys(1,{location:d,currentLocation:f});_=h.record.name,m=Fe({},f.params,d.params),p=h.stringify(m)}const b=[];let C=h;for(;C;)b.unshift(C.record),C=C.parent;return{name:_,path:p,params:m,matched:b,meta:mx(b)}}t.forEach(d=>i(d));function u(){n.length=0,r.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:s}}function up(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function dp(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:px(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function px(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function fp(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function mx(t){return t.reduce((e,n)=>Fe(e,n.meta),{})}function hp(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function gx(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;sv(t,e[i])<0?r=i:n=i+1}const s=yx(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function yx(t){let e=t;for(;e=e.parent;)if(iv(e)&&sv(t,e)===0)return e}function iv({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function vx(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(Jy," "),o=i.indexOf("="),a=Zi(o<0?i:i.slice(0,o)),l=o<0?null:Zi(i.slice(o+1));if(a in e){let c=e[a];nn(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function pp(t){let e="";for(let n in t){const r=t[n];if(n=N1(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(nn(r)?r.map(i=>i&&xu(i)):[r&&xu(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function bx(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=nn(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const _x=Symbol(""),mp=Symbol(""),Al=Symbol(""),ov=Symbol(""),Su=Symbol("");function bi(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function ur(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(Ys(4,{from:n,to:e})):f instanceof Error?l(f):sx(f)?l(Ys(2,{from:e,to:f})):(o&&r.enterCallbacks[s]===o&&typeof f=="function"&&o.push(f),a())},u=i(()=>t.call(r&&r.instances[s],e,n,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(f=>l(f))})}function mc(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(qy(l)){const u=(l.__vccOpts||l)[e];u&&i.push(ur(u,n,r,o,a,s))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=A1(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const h=(d.__vccOpts||d)[e];return h&&ur(h,n,r,o,a,s)()}))}}return i}function gp(t){const e=Vt(Al),n=Vt(ov),r=H(()=>{const l=S(t.to);return e.resolve(l)}),s=H(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const f=d.findIndex(Ks.bind(null,u));if(f>-1)return f;const h=yp(l[c-2]);return c>1&&yp(u)===h&&d[d.length-1].path!==h?d.findIndex(Ks.bind(null,l[c-2])):f}),i=H(()=>s.value>-1&&Sx(n.params,r.value.params)),o=H(()=>s.value>-1&&s.value===n.matched.length-1&&ev(n.params,r.value.params));function a(l={}){if(Ex(l)){const c=e[S(t.replace)?"replace":"push"](S(t.to)).catch(Ui);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:H(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function wx(t){return t.length===1?t[0]:t}const Cx=Z({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:gp,setup(t,{slots:e}){const n=tn(gp(t)),{options:r}=Vt(Al),s=H(()=>({[vp(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[vp(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&wx(e.default(n));return t.custom?i:en("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),xx=Cx;function Ex(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Sx(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!nn(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function yp(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const vp=(t,e,n)=>t??e??n,Ax=Z({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Vt(Su),s=H(()=>t.route||r.value),i=Vt(mp,0),o=H(()=>{let c=S(i);const{matched:u}=s.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=H(()=>s.value.matched[o.value]);Is(mp,H(()=>o.value+1)),Is(_x,a),Is(Su,s);const l=te();return Te(()=>[l.value,a.value,t.name],([c,u,d],[f,h,m])=>{u&&(u.instances[d]=c,h&&h!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!Ks(u,h)||!f)&&(u.enterCallbacks[d]||[]).forEach(p=>p(c))},{flush:"post"}),()=>{const c=s.value,u=t.name,d=a.value,f=d&&d.components[u];if(!f)return bp(n.default,{Component:f,route:c});const h=d.props[u],m=h?h===!0?c.params:typeof h=="function"?h(c):h:null,_=en(f,Fe({},m,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return bp(n.default,{Component:_,route:c})||_}}});function bp(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const av=Ax;function Tx(t){const e=hx(t.routes,t),n=t.parseQuery||vx,r=t.stringifyQuery||pp,s=t.history,i=bi(),o=bi(),a=bi(),l=ts(tr);let c=tr;Es&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=hc.bind(null,w=>""+w),d=hc.bind(null,B1),f=hc.bind(null,Zi);function h(w,v){let D,$;return nv(w)?(D=e.getRecordMatcher(w),$=v):$=w,e.addRoute($,D)}function m(w){const v=e.getRecordMatcher(w);v&&e.removeRoute(v)}function p(){return e.getRoutes().map(w=>w.record)}function _(w){return!!e.getRecordMatcher(w)}function b(w,v){if(v=Fe({},v||l.value),typeof w=="string"){const M=pc(n,w,v.path),L=e.resolve({path:M.path},v),z=s.createHref(M.fullPath);return Fe(M,L,{params:f(L.params),hash:Zi(M.hash),redirectedFrom:void 0,href:z})}let D;if(w.path!=null)D=Fe({},w,{path:pc(n,w.path,v.path).path});else{const M=Fe({},w.params);for(const L in M)M[L]==null&&delete M[L];D=Fe({},w,{params:d(M)}),v.params=d(v.params)}const $=e.resolve(D,v),G=w.hash||"";$.params=u(f($.params));const T=V1(r,Fe({},w,{hash:F1(G),path:$.path})),k=s.createHref(T);return Fe({fullPath:T,hash:G,query:r===pp?bx(w.query):w.query||{}},$,{redirectedFrom:void 0,href:k})}function C(w){return typeof w=="string"?pc(n,w,l.value.path):Fe({},w)}function y(w,v){if(c!==w)return Ys(8,{from:v,to:w})}function g(w){return R(w)}function E(w){return g(Fe(C(w),{replace:!0}))}function A(w){const v=w.matched[w.matched.length-1];if(v&&v.redirect){const{redirect:D}=v;let $=typeof D=="function"?D(w):D;return typeof $=="string"&&($=$.includes("?")||$.includes("#")?$=C($):{path:$},$.params={}),Fe({query:w.query,hash:w.hash,params:$.path!=null?{}:w.params},$)}}function R(w,v){const D=c=b(w),$=l.value,G=w.state,T=w.force,k=w.replace===!0,M=A(D);if(M)return R(Fe(C(M),{state:typeof M=="object"?Fe({},G,M.state):G,force:T,replace:k}),v||D);const L=D;L.redirectedFrom=v;let z;return!T&&H1(r,$,D)&&(z=Ys(16,{to:L,from:$}),Re($,$,!0,!1)),(z?Promise.resolve(z):j(L,$)).catch(B=>Pn(B)?Pn(B,2)?B:ce(B):N(B,L,$)).then(B=>{if(B){if(Pn(B,2))return R(Fe({replace:k},C(B.to),{state:typeof B.to=="object"?Fe({},G,B.to.state):G,force:T}),v||L)}else B=U(L,$,!0,k,G);return V(L,$,B),B})}function O(w,v){const D=y(w,v);return D?Promise.reject(D):Promise.resolve()}function x(w){const v=ge.values().next().value;return v&&typeof v.runWithContext=="function"?v.runWithContext(w):w()}function j(w,v){let D;const[$,G,T]=kx(w,v);D=mc($.reverse(),"beforeRouteLeave",w,v);for(const M of $)M.leaveGuards.forEach(L=>{D.push(ur(L,w,v))});const k=O.bind(null,w,v);return D.push(k),je(D).then(()=>{D=[];for(const M of i.list())D.push(ur(M,w,v));return D.push(k),je(D)}).then(()=>{D=mc(G,"beforeRouteUpdate",w,v);for(const M of G)M.updateGuards.forEach(L=>{D.push(ur(L,w,v))});return D.push(k),je(D)}).then(()=>{D=[];for(const M of T)if(M.beforeEnter)if(nn(M.beforeEnter))for(const L of M.beforeEnter)D.push(ur(L,w,v));else D.push(ur(M.beforeEnter,w,v));return D.push(k),je(D)}).then(()=>(w.matched.forEach(M=>M.enterCallbacks={}),D=mc(T,"beforeRouteEnter",w,v,x),D.push(k),je(D))).then(()=>{D=[];for(const M of o.list())D.push(ur(M,w,v));return D.push(k),je(D)}).catch(M=>Pn(M,8)?M:Promise.reject(M))}function V(w,v,D){a.list().forEach($=>x(()=>$(w,v,D)))}function U(w,v,D,$,G){const T=y(w,v);if(T)return T;const k=v===tr,M=Es?history.state:{};D&&($||k?s.replace(w.fullPath,Fe({scroll:k&&M&&M.scroll},G)):s.push(w.fullPath,G)),l.value=w,Re(w,v,D,k),ce()}let re;function se(){re||(re=s.listen((w,v,D)=>{if(!Ie.listening)return;const $=b(w),G=A($);if(G){R(Fe(G,{replace:!0,force:!0}),$).catch(Ui);return}c=$;const T=l.value;Es&&X1(ip(T.fullPath,D.delta),Sl()),j($,T).catch(k=>Pn(k,12)?k:Pn(k,2)?(R(Fe(C(k.to),{force:!0}),$).then(M=>{Pn(M,20)&&!D.delta&&D.type===eo.pop&&s.go(-1,!1)}).catch(Ui),Promise.reject()):(D.delta&&s.go(-D.delta,!1),N(k,$,T))).then(k=>{k=k||U($,T,!1),k&&(D.delta&&!Pn(k,8)?s.go(-D.delta,!1):D.type===eo.pop&&Pn(k,20)&&s.go(-1,!1)),V($,T,k)}).catch(Ui)}))}let P=bi(),I=bi(),F;function N(w,v,D){ce(w);const $=I.list();return $.length?$.forEach(G=>G(w,v,D)):console.error(w),Promise.reject(w)}function le(){return F&&l.value!==tr?Promise.resolve():new Promise((w,v)=>{P.add([w,v])})}function ce(w){return F||(F=!w,se(),P.list().forEach(([v,D])=>w?D(w):v()),P.reset()),w}function Re(w,v,D,$){const{scrollBehavior:G}=t;if(!Es||!G)return Promise.resolve();const T=!D&&Q1(ip(w.fullPath,0))||($||!D)&&history.state&&history.state.scroll||null;return Dt().then(()=>G(w,v,T)).then(k=>k&&J1(k)).catch(k=>N(k,w,v))}const Se=w=>s.go(w);let Ae;const ge=new Set,Ie={currentRoute:l,listening:!0,addRoute:h,removeRoute:m,clearRoutes:e.clearRoutes,hasRoute:_,getRoutes:p,resolve:b,options:t,push:g,replace:E,go:Se,back:()=>Se(-1),forward:()=>Se(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:I.add,isReady:le,install(w){const v=this;w.component("RouterLink",xx),w.component("RouterView",av),w.config.globalProperties.$router=v,Object.defineProperty(w.config.globalProperties,"$route",{enumerable:!0,get:()=>S(l)}),Es&&!Ae&&l.value===tr&&(Ae=!0,g(s.location).catch(G=>{}));const D={};for(const G in tr)Object.defineProperty(D,G,{get:()=>l.value[G],enumerable:!0});w.provide(Al,v),w.provide(ov,Xg(D)),w.provide(Su,l);const $=w.unmount;ge.add(w),w.unmount=function(){ge.delete(w),ge.size<1&&(c=tr,re&&re(),re=null,l.value=tr,Ae=!1,F=!1),$()}}};function je(w){return w.reduce((v,D)=>v.then(()=>x(D)),Promise.resolve())}return Ie}function kx(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>Ks(c,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Ks(c,l))||s.push(l))}return[n,r,s]}function ZD(){return Vt(Al)}/**
 * @license lucide-vue-next v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ox=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Rx=t=>{const e=Ox(t);return e.charAt(0).toUpperCase()+e.slice(1)},$x=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-vue-next v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zo={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=({size:t,strokeWidth:e=2,absoluteStrokeWidth:n,color:r,iconNode:s,name:i,class:o,...a},{slots:l})=>en("svg",{...zo,width:t||zo.width,height:t||zo.height,stroke:r||zo.stroke,"stroke-width":n?Number(e)*24/Number(t):e,class:$x("lucide",...i?[`lucide-${_p(Rx(i))}-icon`,`lucide-${_p(i)}`]:["lucide-icon"]),...a},[...s.map(c=>en(...c)),...l.default?[l.default()]:[]]);/**
 * @license lucide-vue-next v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=(t,e)=>(n,{slots:r})=>en(Px,{...n,iconNode:e,name:t},r);/**
 * @license lucide-vue-next v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=Mt("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=Mt("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=Mt("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-vue-next v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=Mt("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=Mt("message-square-quote",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 12a2 2 0 0 0 2-2V8H8",key:"1jfesj"}],["path",{d:"M14 12a2 2 0 0 0 2-2V8h-2",key:"1dq9mh"}]]);/**
 * @license lucide-vue-next v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=Mt("moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-vue-next v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=Mt("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-vue-next v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=Mt("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=Mt("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-vue-next v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=Mt("thermometer-snowflake",[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"M10.585 15H10",key:"4nqulp"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"M20 14.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0z",key:"yu0u2z"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h2",key:"1bbqgq"}]]);/**
 * @license lucide-vue-next v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=Mt("thermometer-sun",[["path",{d:"M12 9a4 4 0 0 0-2 7.5",key:"1jvsq6"}],["path",{d:"M12 3v2",key:"1w22ol"}],["path",{d:"m6.6 18.4-1.4 1.4",key:"w2yidj"}],["path",{d:"M20 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"iof6y5"}],["path",{d:"M4 13H2",key:"118le4"}],["path",{d:"M6.34 7.34 4.93 5.93",key:"1brd51"}]]);/**
 * @license lucide-vue-next v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=Mt("timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-vue-next v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=Mt("wand-sparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-vue-next v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=Mt("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function uv(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=uv(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function dv(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=uv(t))&&(r&&(r+=" "),r+=e);return r}const Cp=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,xp=dv,fv=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return xp(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],d=i==null?void 0:i[c];if(u===null)return null;const f=Cp(u)||Cp(d);return s[c][f]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,f]=u;return f===void 0||(c[d]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:f,...h}=u;return Object.entries(h).every(m=>{let[p,_]=m;return Array.isArray(_)?_.includes({...i,...a}[p]):{...i,...a}[p]===_})?[...c,d,f]:c},[]);return xp(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},Nd="-",Hx=t=>{const e=Wx(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Nd);return a[0]===""&&a.length!==1&&a.shift(),hv(a,e)||zx(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},hv=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?hv(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Nd);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Ep=/^\[(.+)\]$/,zx=t=>{if(Ep.test(t)){const e=Ep.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Wx=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)Tu(n[s],r,s,e);return r},Tu=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Sp(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(Kx(s)){Tu(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Tu(o,Sp(e,i),n,r)})})},Sp=(t,e)=>{let n=t;return e.split(Nd).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Kx=t=>t.isThemeGetter,Yx=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},ku="!",Ou=":",qx=Ou.length,Gx=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let o=0,a=0,l=0,c;for(let m=0;m<s.length;m++){let p=s[m];if(o===0&&a===0){if(p===Ou){i.push(s.slice(l,m)),l=m+qx;continue}if(p==="/"){c=m;continue}}p==="["?o++:p==="]"?o--:p==="("?a++:p===")"&&a--}const u=i.length===0?s:s.substring(l),d=Jx(u),f=d!==u,h=c&&c>l?c-l:void 0;return{modifiers:i,hasImportantModifier:f,baseClassName:d,maybePostfixModifierPosition:h}};if(e){const s=e+Ou,i=r;r=o=>o.startsWith(s)?i(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},Jx=t=>t.endsWith(ku)?t.substring(0,t.length-1):t.startsWith(ku)?t.substring(1):t,Xx=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(o=>{o[0]==="["||e[o]?(s.push(...i.sort(),o),i=[]):i.push(o)}),s.push(...i.sort()),s}},Qx=t=>({cache:Yx(t.cacheSize),parseClassName:Gx(t),sortModifiers:Xx(t),...Hx(t)}),Zx=/\s+/,eE=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,o=[],a=t.trim().split(Zx);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{isExternal:d,modifiers:f,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:p}=n(u);if(d){l=u+(l.length>0?" "+l:l);continue}let _=!!p,b=r(_?m.substring(0,p):m);if(!b){if(!_){l=u+(l.length>0?" "+l:l);continue}if(b=r(m),!b){l=u+(l.length>0?" "+l:l);continue}_=!1}const C=i(f).join(":"),y=h?C+ku:C,g=y+b;if(o.includes(g))continue;o.push(g);const E=s(b,_);for(let A=0;A<E.length;++A){const R=E[A];o.push(y+R)}l=u+(l.length>0?" "+l:l)}return l};function tE(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=pv(e))&&(r&&(r+=" "),r+=n);return r}const pv=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=pv(t[r]))&&(n&&(n+=" "),n+=e);return n};function nE(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=Qx(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=eE(l,n);return s(l,u),u}return function(){return i(tE.apply(null,arguments))}}const rt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},mv=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,gv=/^\((?:(\w[\w-]*):)?(.+)\)$/i,rE=/^\d+\/\d+$/,sE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,aE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ps=t=>rE.test(t),Ee=t=>!!t&&!Number.isNaN(Number(t)),nr=t=>!!t&&Number.isInteger(Number(t)),gc=t=>t.endsWith("%")&&Ee(t.slice(0,-1)),Dn=t=>sE.test(t),cE=()=>!0,uE=t=>iE.test(t)&&!oE.test(t),yv=()=>!1,dE=t=>aE.test(t),fE=t=>lE.test(t),hE=t=>!ie(t)&&!oe(t),pE=t=>si(t,_v,yv),ie=t=>mv.test(t),Dr=t=>si(t,wv,uE),yc=t=>si(t,bE,Ee),Ap=t=>si(t,vv,yv),mE=t=>si(t,bv,fE),Wo=t=>si(t,Cv,dE),oe=t=>gv.test(t),_i=t=>ii(t,wv),gE=t=>ii(t,_E),Tp=t=>ii(t,vv),yE=t=>ii(t,_v),vE=t=>ii(t,bv),Ko=t=>ii(t,Cv,!0),si=(t,e,n)=>{const r=mv.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},ii=(t,e,n=!1)=>{const r=gv.exec(t);return r?r[1]?e(r[1]):n:!1},vv=t=>t==="position"||t==="percentage",bv=t=>t==="image"||t==="url",_v=t=>t==="length"||t==="size"||t==="bg-size",wv=t=>t==="length",bE=t=>t==="number",_E=t=>t==="family-name",Cv=t=>t==="shadow",wE=()=>{const t=rt("color"),e=rt("font"),n=rt("text"),r=rt("font-weight"),s=rt("tracking"),i=rt("leading"),o=rt("breakpoint"),a=rt("container"),l=rt("spacing"),c=rt("radius"),u=rt("shadow"),d=rt("inset-shadow"),f=rt("text-shadow"),h=rt("drop-shadow"),m=rt("blur"),p=rt("perspective"),_=rt("aspect"),b=rt("ease"),C=rt("animate"),y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],g=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],E=()=>[...g(),oe,ie],A=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],O=()=>[oe,ie,l],x=()=>[ps,"full","auto",...O()],j=()=>[nr,"none","subgrid",oe,ie],V=()=>["auto",{span:["full",nr,oe,ie]},nr,oe,ie],U=()=>[nr,"auto",oe,ie],re=()=>["auto","min","max","fr",oe,ie],se=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],P=()=>["start","end","center","stretch","center-safe","end-safe"],I=()=>["auto",...O()],F=()=>[ps,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],N=()=>[t,oe,ie],le=()=>[...g(),Tp,Ap,{position:[oe,ie]}],ce=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Re=()=>["auto","cover","contain",yE,pE,{size:[oe,ie]}],Se=()=>[gc,_i,Dr],Ae=()=>["","none","full",c,oe,ie],ge=()=>["",Ee,_i,Dr],Ie=()=>["solid","dashed","dotted","double"],je=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],w=()=>[Ee,gc,Tp,Ap],v=()=>["","none",m,oe,ie],D=()=>["none",Ee,oe,ie],$=()=>["none",Ee,oe,ie],G=()=>[Ee,oe,ie],T=()=>[ps,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Dn],breakpoint:[Dn],color:[cE],container:[Dn],"drop-shadow":[Dn],ease:["in","out","in-out"],font:[hE],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Dn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Dn],shadow:[Dn],spacing:["px",Ee],text:[Dn],"text-shadow":[Dn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ps,ie,oe,_]}],container:["container"],columns:[{columns:[Ee,ie,oe,a]}],"break-after":[{"break-after":y()}],"break-before":[{"break-before":y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:E()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:x()}],"inset-x":[{"inset-x":x()}],"inset-y":[{"inset-y":x()}],start:[{start:x()}],end:[{end:x()}],top:[{top:x()}],right:[{right:x()}],bottom:[{bottom:x()}],left:[{left:x()}],visibility:["visible","invisible","collapse"],z:[{z:[nr,"auto",oe,ie]}],basis:[{basis:[ps,"full","auto",a,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ee,ps,"auto","initial","none",ie]}],grow:[{grow:["",Ee,oe,ie]}],shrink:[{shrink:["",Ee,oe,ie]}],order:[{order:[nr,"first","last","none",oe,ie]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":re()}],"auto-rows":[{"auto-rows":re()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...se(),"normal"]}],"justify-items":[{"justify-items":[...P(),"normal"]}],"justify-self":[{"justify-self":["auto",...P()]}],"align-content":[{content:["normal",...se()]}],"align-items":[{items:[...P(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...P(),{baseline:["","last"]}]}],"place-content":[{"place-content":se()}],"place-items":[{"place-items":[...P(),"baseline"]}],"place-self":[{"place-self":["auto",...P()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:I()}],mx:[{mx:I()}],my:[{my:I()}],ms:[{ms:I()}],me:[{me:I()}],mt:[{mt:I()}],mr:[{mr:I()}],mb:[{mb:I()}],ml:[{ml:I()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:F()}],w:[{w:[a,"screen",...F()]}],"min-w":[{"min-w":[a,"screen","none",...F()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...F()]}],h:[{h:["screen","lh",...F()]}],"min-h":[{"min-h":["screen","lh","none",...F()]}],"max-h":[{"max-h":["screen","lh",...F()]}],"font-size":[{text:["base",n,_i,Dr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,oe,yc]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",gc,ie]}],"font-family":[{font:[gE,ie,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,oe,ie]}],"line-clamp":[{"line-clamp":[Ee,"none",oe,yc]}],leading:[{leading:[i,...O()]}],"list-image":[{"list-image":["none",oe,ie]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",oe,ie]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:N()}],"text-color":[{text:N()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ie(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ee,"from-font","auto",oe,Dr]}],"text-decoration-color":[{decoration:N()}],"underline-offset":[{"underline-offset":[Ee,"auto",oe,ie]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",oe,ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",oe,ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:le()}],"bg-repeat":[{bg:ce()}],"bg-size":[{bg:Re()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},nr,oe,ie],radial:["",oe,ie],conic:[nr,oe,ie]},vE,mE]}],"bg-color":[{bg:N()}],"gradient-from-pos":[{from:Se()}],"gradient-via-pos":[{via:Se()}],"gradient-to-pos":[{to:Se()}],"gradient-from":[{from:N()}],"gradient-via":[{via:N()}],"gradient-to":[{to:N()}],rounded:[{rounded:Ae()}],"rounded-s":[{"rounded-s":Ae()}],"rounded-e":[{"rounded-e":Ae()}],"rounded-t":[{"rounded-t":Ae()}],"rounded-r":[{"rounded-r":Ae()}],"rounded-b":[{"rounded-b":Ae()}],"rounded-l":[{"rounded-l":Ae()}],"rounded-ss":[{"rounded-ss":Ae()}],"rounded-se":[{"rounded-se":Ae()}],"rounded-ee":[{"rounded-ee":Ae()}],"rounded-es":[{"rounded-es":Ae()}],"rounded-tl":[{"rounded-tl":Ae()}],"rounded-tr":[{"rounded-tr":Ae()}],"rounded-br":[{"rounded-br":Ae()}],"rounded-bl":[{"rounded-bl":Ae()}],"border-w":[{border:ge()}],"border-w-x":[{"border-x":ge()}],"border-w-y":[{"border-y":ge()}],"border-w-s":[{"border-s":ge()}],"border-w-e":[{"border-e":ge()}],"border-w-t":[{"border-t":ge()}],"border-w-r":[{"border-r":ge()}],"border-w-b":[{"border-b":ge()}],"border-w-l":[{"border-l":ge()}],"divide-x":[{"divide-x":ge()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ge()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ie(),"hidden","none"]}],"divide-style":[{divide:[...Ie(),"hidden","none"]}],"border-color":[{border:N()}],"border-color-x":[{"border-x":N()}],"border-color-y":[{"border-y":N()}],"border-color-s":[{"border-s":N()}],"border-color-e":[{"border-e":N()}],"border-color-t":[{"border-t":N()}],"border-color-r":[{"border-r":N()}],"border-color-b":[{"border-b":N()}],"border-color-l":[{"border-l":N()}],"divide-color":[{divide:N()}],"outline-style":[{outline:[...Ie(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ee,oe,ie]}],"outline-w":[{outline:["",Ee,_i,Dr]}],"outline-color":[{outline:N()}],shadow:[{shadow:["","none",u,Ko,Wo]}],"shadow-color":[{shadow:N()}],"inset-shadow":[{"inset-shadow":["none",d,Ko,Wo]}],"inset-shadow-color":[{"inset-shadow":N()}],"ring-w":[{ring:ge()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:N()}],"ring-offset-w":[{"ring-offset":[Ee,Dr]}],"ring-offset-color":[{"ring-offset":N()}],"inset-ring-w":[{"inset-ring":ge()}],"inset-ring-color":[{"inset-ring":N()}],"text-shadow":[{"text-shadow":["none",f,Ko,Wo]}],"text-shadow-color":[{"text-shadow":N()}],opacity:[{opacity:[Ee,oe,ie]}],"mix-blend":[{"mix-blend":[...je(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":je()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ee]}],"mask-image-linear-from-pos":[{"mask-linear-from":w()}],"mask-image-linear-to-pos":[{"mask-linear-to":w()}],"mask-image-linear-from-color":[{"mask-linear-from":N()}],"mask-image-linear-to-color":[{"mask-linear-to":N()}],"mask-image-t-from-pos":[{"mask-t-from":w()}],"mask-image-t-to-pos":[{"mask-t-to":w()}],"mask-image-t-from-color":[{"mask-t-from":N()}],"mask-image-t-to-color":[{"mask-t-to":N()}],"mask-image-r-from-pos":[{"mask-r-from":w()}],"mask-image-r-to-pos":[{"mask-r-to":w()}],"mask-image-r-from-color":[{"mask-r-from":N()}],"mask-image-r-to-color":[{"mask-r-to":N()}],"mask-image-b-from-pos":[{"mask-b-from":w()}],"mask-image-b-to-pos":[{"mask-b-to":w()}],"mask-image-b-from-color":[{"mask-b-from":N()}],"mask-image-b-to-color":[{"mask-b-to":N()}],"mask-image-l-from-pos":[{"mask-l-from":w()}],"mask-image-l-to-pos":[{"mask-l-to":w()}],"mask-image-l-from-color":[{"mask-l-from":N()}],"mask-image-l-to-color":[{"mask-l-to":N()}],"mask-image-x-from-pos":[{"mask-x-from":w()}],"mask-image-x-to-pos":[{"mask-x-to":w()}],"mask-image-x-from-color":[{"mask-x-from":N()}],"mask-image-x-to-color":[{"mask-x-to":N()}],"mask-image-y-from-pos":[{"mask-y-from":w()}],"mask-image-y-to-pos":[{"mask-y-to":w()}],"mask-image-y-from-color":[{"mask-y-from":N()}],"mask-image-y-to-color":[{"mask-y-to":N()}],"mask-image-radial":[{"mask-radial":[oe,ie]}],"mask-image-radial-from-pos":[{"mask-radial-from":w()}],"mask-image-radial-to-pos":[{"mask-radial-to":w()}],"mask-image-radial-from-color":[{"mask-radial-from":N()}],"mask-image-radial-to-color":[{"mask-radial-to":N()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":g()}],"mask-image-conic-pos":[{"mask-conic":[Ee]}],"mask-image-conic-from-pos":[{"mask-conic-from":w()}],"mask-image-conic-to-pos":[{"mask-conic-to":w()}],"mask-image-conic-from-color":[{"mask-conic-from":N()}],"mask-image-conic-to-color":[{"mask-conic-to":N()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:le()}],"mask-repeat":[{mask:ce()}],"mask-size":[{mask:Re()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",oe,ie]}],filter:[{filter:["","none",oe,ie]}],blur:[{blur:v()}],brightness:[{brightness:[Ee,oe,ie]}],contrast:[{contrast:[Ee,oe,ie]}],"drop-shadow":[{"drop-shadow":["","none",h,Ko,Wo]}],"drop-shadow-color":[{"drop-shadow":N()}],grayscale:[{grayscale:["",Ee,oe,ie]}],"hue-rotate":[{"hue-rotate":[Ee,oe,ie]}],invert:[{invert:["",Ee,oe,ie]}],saturate:[{saturate:[Ee,oe,ie]}],sepia:[{sepia:["",Ee,oe,ie]}],"backdrop-filter":[{"backdrop-filter":["","none",oe,ie]}],"backdrop-blur":[{"backdrop-blur":v()}],"backdrop-brightness":[{"backdrop-brightness":[Ee,oe,ie]}],"backdrop-contrast":[{"backdrop-contrast":[Ee,oe,ie]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ee,oe,ie]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ee,oe,ie]}],"backdrop-invert":[{"backdrop-invert":["",Ee,oe,ie]}],"backdrop-opacity":[{"backdrop-opacity":[Ee,oe,ie]}],"backdrop-saturate":[{"backdrop-saturate":[Ee,oe,ie]}],"backdrop-sepia":[{"backdrop-sepia":["",Ee,oe,ie]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",oe,ie]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ee,"initial",oe,ie]}],ease:[{ease:["linear","initial",b,oe,ie]}],delay:[{delay:[Ee,oe,ie]}],animate:[{animate:["none",C,oe,ie]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[p,oe,ie]}],"perspective-origin":[{"perspective-origin":E()}],rotate:[{rotate:D()}],"rotate-x":[{"rotate-x":D()}],"rotate-y":[{"rotate-y":D()}],"rotate-z":[{"rotate-z":D()}],scale:[{scale:$()}],"scale-x":[{"scale-x":$()}],"scale-y":[{"scale-y":$()}],"scale-z":[{"scale-z":$()}],"scale-3d":["scale-3d"],skew:[{skew:G()}],"skew-x":[{"skew-x":G()}],"skew-y":[{"skew-y":G()}],transform:[{transform:[oe,ie,"","none","gpu","cpu"]}],"transform-origin":[{origin:E()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:T()}],"translate-x":[{"translate-x":T()}],"translate-y":[{"translate-y":T()}],"translate-z":[{"translate-z":T()}],"translate-none":["translate-none"],accent:[{accent:N()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:N()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",oe,ie]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",oe,ie]}],fill:[{fill:["none",...N()]}],"stroke-w":[{stroke:[Ee,_i,Dr,yc]}],stroke:[{stroke:["none",...N()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},CE=nE(wE);function Xe(...t){return CE(dv(t))}const xE=["top","right","bottom","left"],vr=Math.min,Ut=Math.max,Va=Math.round,Yo=Math.floor,wn=t=>({x:t,y:t}),EE={left:"right",right:"left",bottom:"top",top:"bottom"},SE={start:"end",end:"start"};function Ru(t,e,n){return Ut(t,vr(e,n))}function qn(t,e){return typeof t=="function"?t(e):t}function Gn(t){return t.split("-")[0]}function oi(t){return t.split("-")[1]}function Ld(t){return t==="x"?"y":"x"}function Bd(t){return t==="y"?"height":"width"}function br(t){return["top","bottom"].includes(Gn(t))?"y":"x"}function Ud(t){return Ld(br(t))}function AE(t,e,n){n===void 0&&(n=!1);const r=oi(t),s=Ud(t),i=Bd(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Ha(o)),[o,Ha(o)]}function TE(t){const e=Ha(t);return[$u(t),e,$u(e)]}function $u(t){return t.replace(/start|end/g,e=>SE[e])}function kE(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function OE(t,e,n,r){const s=oi(t);let i=kE(Gn(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map($u)))),i}function Ha(t){return t.replace(/left|right|bottom|top/g,e=>EE[e])}function RE(t){return{top:0,right:0,bottom:0,left:0,...t}}function xv(t){return typeof t!="number"?RE(t):{top:t,right:t,bottom:t,left:t}}function za(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function kp(t,e,n){let{reference:r,floating:s}=t;const i=br(e),o=Ud(e),a=Bd(o),l=Gn(e),c=i==="y",u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let h;switch(l){case"top":h={x:u,y:r.y-s.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-s.width,y:d};break;default:h={x:r.x,y:r.y}}switch(oi(e)){case"start":h[o]-=f*(n&&c?-1:1);break;case"end":h[o]+=f*(n&&c?-1:1);break}return h}const $E=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:d}=kp(c,r,l),f=r,h={},m=0;for(let p=0;p<a.length;p++){const{name:_,fn:b}=a[p],{x:C,y,data:g,reset:E}=await b({x:u,y:d,initialPlacement:r,placement:f,strategy:s,middlewareData:h,rects:c,platform:o,elements:{reference:t,floating:e}});u=C??u,d=y??d,h={...h,[_]:{...h[_],...g}},E&&m<=50&&(m++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(c=E.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):E.rects),{x:u,y:d}=kp(c,f,l)),p=-1)}return{x:u,y:d,placement:f,strategy:s,middlewareData:h}};async function to(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=qn(e,t),m=xv(h),_=a[f?d==="floating"?"reference":"floating":d],b=za(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),C=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),g=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},E=za(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:C,offsetParent:y,strategy:l}):C);return{top:(b.top-E.top+m.top)/g.y,bottom:(E.bottom-b.bottom+m.bottom)/g.y,left:(b.left-E.left+m.left)/g.x,right:(E.right-b.right+m.right)/g.x}}const PE=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=qn(t,e)||{};if(c==null)return{};const d=xv(u),f={x:n,y:r},h=Ud(s),m=Bd(h),p=await o.getDimensions(c),_=h==="y",b=_?"top":"left",C=_?"bottom":"right",y=_?"clientHeight":"clientWidth",g=i.reference[m]+i.reference[h]-f[h]-i.floating[m],E=f[h]-i.reference[h],A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let R=A?A[y]:0;(!R||!await(o.isElement==null?void 0:o.isElement(A)))&&(R=a.floating[y]||i.floating[m]);const O=g/2-E/2,x=R/2-p[m]/2-1,j=vr(d[b],x),V=vr(d[C],x),U=j,re=R-p[m]-V,se=R/2-p[m]/2+O,P=Ru(U,se,re),I=!l.arrow&&oi(s)!=null&&se!==P&&i.reference[m]/2-(se<U?j:V)-p[m]/2<0,F=I?se<U?se-U:se-re:0;return{[h]:f[h]+F,data:{[h]:P,centerOffset:se-P-F,...I&&{alignmentOffset:F}},reset:I}}}),DE=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:p=!0,..._}=qn(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=Gn(s),C=br(a),y=Gn(a)===a,g=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=f||(y||!p?[Ha(a)]:TE(a)),A=m!=="none";!f&&A&&E.push(...OE(a,p,m,g));const R=[a,...E],O=await to(e,_),x=[];let j=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&x.push(O[b]),d){const se=AE(s,o,g);x.push(O[se[0]],O[se[1]])}if(j=[...j,{placement:s,overflows:x}],!x.every(se=>se<=0)){var V,U;const se=(((V=i.flip)==null?void 0:V.index)||0)+1,P=R[se];if(P)return{data:{index:se,overflows:j},reset:{placement:P}};let I=(U=j.filter(F=>F.overflows[0]<=0).sort((F,N)=>F.overflows[1]-N.overflows[1])[0])==null?void 0:U.placement;if(!I)switch(h){case"bestFit":{var re;const F=(re=j.filter(N=>{if(A){const le=br(N.placement);return le===C||le==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(le=>le>0).reduce((le,ce)=>le+ce,0)]).sort((N,le)=>N[1]-le[1])[0])==null?void 0:re[0];F&&(I=F);break}case"initialPlacement":I=a;break}if(s!==I)return{reset:{placement:I}}}return{}}}};function Op(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Rp(t){return xE.some(e=>t[e]>=0)}const ME=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=qn(t,e);switch(r){case"referenceHidden":{const i=await to(e,{...s,elementContext:"reference"}),o=Op(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Rp(o)}}}case"escaped":{const i=await to(e,{...s,altBoundary:!0}),o=Op(i,n.floating);return{data:{escapedOffsets:o,escaped:Rp(o)}}}default:return{}}}}};async function IE(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Gn(n),a=oi(n),l=br(n)==="y",c=["left","top"].includes(o)?-1:1,u=i&&l?-1:1,d=qn(e,t);let{mainAxis:f,crossAxis:h,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof m=="number"&&(h=a==="end"?m*-1:m),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}const FE=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await IE(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},NE=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:b,y:C}=_;return{x:b,y:C}}},...l}=qn(t,e),c={x:n,y:r},u=await to(e,l),d=br(Gn(s)),f=Ld(d);let h=c[f],m=c[d];if(i){const _=f==="y"?"top":"left",b=f==="y"?"bottom":"right",C=h+u[_],y=h-u[b];h=Ru(C,h,y)}if(o){const _=d==="y"?"top":"left",b=d==="y"?"bottom":"right",C=m+u[_],y=m-u[b];m=Ru(C,m,y)}const p=a.fn({...e,[f]:h,[d]:m});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[f]:i,[d]:o}}}}}},LE=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=qn(t,e),u={x:n,y:r},d=br(s),f=Ld(d);let h=u[f],m=u[d];const p=qn(a,e),_=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const y=f==="y"?"height":"width",g=i.reference[f]-i.floating[y]+_.mainAxis,E=i.reference[f]+i.reference[y]-_.mainAxis;h<g?h=g:h>E&&(h=E)}if(c){var b,C;const y=f==="y"?"width":"height",g=["top","left"].includes(Gn(s)),E=i.reference[d]-i.floating[y]+(g&&((b=o.offset)==null?void 0:b[d])||0)+(g?0:_.crossAxis),A=i.reference[d]+i.reference[y]+(g?0:((C=o.offset)==null?void 0:C[d])||0)-(g?_.crossAxis:0);m<E?m=E:m>A&&(m=A)}return{[f]:h,[d]:m}}}},BE=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=qn(t,e),u=await to(e,c),d=Gn(s),f=oi(s),h=br(s)==="y",{width:m,height:p}=i.floating;let _,b;d==="top"||d==="bottom"?(_=d,b=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(b=d,_=f==="end"?"top":"bottom");const C=p-u.top-u.bottom,y=m-u.left-u.right,g=vr(p-u[_],C),E=vr(m-u[b],y),A=!e.middlewareData.shift;let R=g,O=E;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(O=y),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(R=C),A&&!f){const j=Ut(u.left,0),V=Ut(u.right,0),U=Ut(u.top,0),re=Ut(u.bottom,0);h?O=m-2*(j!==0||V!==0?j+V:Ut(u.left,u.right)):R=p-2*(U!==0||re!==0?U+re:Ut(u.top,u.bottom))}await l({...e,availableWidth:O,availableHeight:R});const x=await o.getDimensions(a.floating);return m!==x.width||p!==x.height?{reset:{rects:!0}}:{}}}};function Tl(){return typeof window<"u"}function ss(t){return jd(t)?(t.nodeName||"").toLowerCase():"#document"}function Ht(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function An(t){var e;return(e=(jd(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function jd(t){return Tl()?t instanceof Node||t instanceof Ht(t).Node:!1}function rn(t){return Tl()?t instanceof Element||t instanceof Ht(t).Element:!1}function Sn(t){return Tl()?t instanceof HTMLElement||t instanceof Ht(t).HTMLElement:!1}function $p(t){return!Tl()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ht(t).ShadowRoot}function vo(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=sn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function UE(t){return["table","td","th"].includes(ss(t))}function kl(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Vd(t){const e=Hd(),n=rn(t)?sn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function jE(t){let e=_r(t);for(;Sn(e)&&!qs(e);){if(Vd(e))return e;if(kl(e))return null;e=_r(e)}return null}function Hd(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function qs(t){return["html","body","#document"].includes(ss(t))}function sn(t){return Ht(t).getComputedStyle(t)}function Ol(t){return rn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function _r(t){if(ss(t)==="html")return t;const e=t.assignedSlot||t.parentNode||$p(t)&&t.host||An(t);return $p(e)?e.host:e}function Ev(t){const e=_r(t);return qs(e)?t.ownerDocument?t.ownerDocument.body:t.body:Sn(e)&&vo(e)?e:Ev(e)}function no(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Ev(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Ht(s);if(i){const a=Pu(o);return e.concat(o,o.visualViewport||[],vo(s)?s:[],a&&n?no(a):[])}return e.concat(s,no(s,[],n))}function Pu(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Sv(t){const e=sn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Sn(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Va(n)!==i||Va(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function zd(t){return rn(t)?t:t.contextElement}function Fs(t){const e=zd(t);if(!Sn(e))return wn(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=Sv(e);let o=(i?Va(n.width):n.width)/r,a=(i?Va(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const VE=wn(0);function Av(t){const e=Ht(t);return!Hd()||!e.visualViewport?VE:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function HE(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ht(t)?!1:e}function Jr(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=zd(t);let o=wn(1);e&&(r?rn(r)&&(o=Fs(r)):o=Fs(t));const a=HE(i,n,r)?Av(i):wn(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,d=s.height/o.y;if(i){const f=Ht(i),h=r&&rn(r)?Ht(r):r;let m=f,p=Pu(m);for(;p&&r&&h!==m;){const _=Fs(p),b=p.getBoundingClientRect(),C=sn(p),y=b.left+(p.clientLeft+parseFloat(C.paddingLeft))*_.x,g=b.top+(p.clientTop+parseFloat(C.paddingTop))*_.y;l*=_.x,c*=_.y,u*=_.x,d*=_.y,l+=y,c+=g,m=Ht(p),p=Pu(m)}}return za({width:u,height:d,x:l,y:c})}function Wd(t,e){const n=Ol(t).scrollLeft;return e?e.left+n:Jr(An(t)).left+n}function Tv(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Wd(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function zE(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=An(r),a=e?kl(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=wn(1);const u=wn(0),d=Sn(r);if((d||!d&&!i)&&((ss(r)!=="body"||vo(o))&&(l=Ol(r)),Sn(r))){const h=Jr(r);c=Fs(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}const f=o&&!d&&!i?Tv(o,l,!0):wn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function WE(t){return Array.from(t.getClientRects())}function KE(t){const e=An(t),n=Ol(t),r=t.ownerDocument.body,s=Ut(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Ut(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Wd(t);const a=-n.scrollTop;return sn(r).direction==="rtl"&&(o+=Ut(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function YE(t,e){const n=Ht(t),r=An(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Hd();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function qE(t,e){const n=Jr(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Sn(t)?Fs(t):wn(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function Pp(t,e,n){let r;if(e==="viewport")r=YE(t,n);else if(e==="document")r=KE(An(t));else if(rn(e))r=qE(e,n);else{const s=Av(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return za(r)}function kv(t,e){const n=_r(t);return n===e||!rn(n)||qs(n)?!1:sn(n).position==="fixed"||kv(n,e)}function GE(t,e){const n=e.get(t);if(n)return n;let r=no(t,[],!1).filter(a=>rn(a)&&ss(a)!=="body"),s=null;const i=sn(t).position==="fixed";let o=i?_r(t):t;for(;rn(o)&&!qs(o);){const a=sn(o),l=Vd(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||vo(o)&&!l&&kv(t,o))?r=r.filter(u=>u!==o):s=a,o=_r(o)}return e.set(t,r),r}function JE(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?kl(e)?[]:GE(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=Pp(e,u,s);return c.top=Ut(d.top,c.top),c.right=vr(d.right,c.right),c.bottom=vr(d.bottom,c.bottom),c.left=Ut(d.left,c.left),c},Pp(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function XE(t){const{width:e,height:n}=Sv(t);return{width:e,height:n}}function QE(t,e,n){const r=Sn(e),s=An(e),i=n==="fixed",o=Jr(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=wn(0);if(r||!r&&!i)if((ss(e)!=="body"||vo(s))&&(a=Ol(e)),r){const f=Jr(e,!0,i,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else s&&(l.x=Wd(s));const c=s&&!r&&!i?Tv(s,a):wn(0),u=o.left+a.scrollLeft-l.x-c.x,d=o.top+a.scrollTop-l.y-c.y;return{x:u,y:d,width:o.width,height:o.height}}function vc(t){return sn(t).position==="static"}function Dp(t,e){if(!Sn(t)||sn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return An(t)===n&&(n=n.ownerDocument.body),n}function Ov(t,e){const n=Ht(t);if(kl(t))return n;if(!Sn(t)){let s=_r(t);for(;s&&!qs(s);){if(rn(s)&&!vc(s))return s;s=_r(s)}return n}let r=Dp(t,e);for(;r&&UE(r)&&vc(r);)r=Dp(r,e);return r&&qs(r)&&vc(r)&&!Vd(r)?n:r||jE(t)||n}const ZE=async function(t){const e=this.getOffsetParent||Ov,n=this.getDimensions,r=await n(t.floating);return{reference:QE(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function eS(t){return sn(t).direction==="rtl"}const tS={convertOffsetParentRelativeRectToViewportRelativeRect:zE,getDocumentElement:An,getClippingRect:JE,getOffsetParent:Ov,getElementRects:ZE,getClientRects:WE,getDimensions:XE,getScale:Fs,isElement:rn,isRTL:eS};function Rv(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function nS(t,e){let n=null,r;const s=An(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:u,top:d,width:f,height:h}=c;if(a||e(),!f||!h)return;const m=Yo(d),p=Yo(s.clientWidth-(u+f)),_=Yo(s.clientHeight-(d+h)),b=Yo(u),y={rootMargin:-m+"px "+-p+"px "+-_+"px "+-b+"px",threshold:Ut(0,vr(1,l))||1};let g=!0;function E(A){const R=A[0].intersectionRatio;if(R!==l){if(!g)return o();R?o(!1,R):r=setTimeout(()=>{o(!1,1e-7)},1e3)}R===1&&!Rv(c,t.getBoundingClientRect())&&o(),g=!1}try{n=new IntersectionObserver(E,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(E,y)}n.observe(t)}return o(!0),i}function rS(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=zd(t),u=s||i?[...c?no(c):[],...no(e)]:[];u.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const d=c&&a?nS(c,n):null;let f=-1,h=null;o&&(h=new ResizeObserver(b=>{let[C]=b;C&&C.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var y;(y=h)==null||y.observe(e)})),n()}),c&&!l&&h.observe(c),h.observe(e));let m,p=l?Jr(t):null;l&&_();function _(){const b=Jr(t);p&&!Rv(p,b)&&n(),p=b,m=requestAnimationFrame(_)}return n(),()=>{var b;u.forEach(C=>{s&&C.removeEventListener("scroll",n),i&&C.removeEventListener("resize",n)}),d==null||d(),(b=h)==null||b.disconnect(),h=null,l&&cancelAnimationFrame(m)}}const sS=FE,iS=NE,Mp=DE,oS=BE,aS=ME,lS=PE,cS=LE,uS=(t,e,n)=>{const r=new Map,s={platform:tS,...n},i={...s.platform,_c:r};return $E(t,e,{...s,platform:i})};function dS(t){return t!=null&&typeof t=="object"&&"$el"in t}function Du(t){if(dS(t)){const e=t.$el;return jd(e)&&ss(e)==="#comment"?null:e}return t}function Ss(t){return typeof t=="function"?t():S(t)}function fS(t){return{name:"arrow",options:t,fn(e){const n=Du(Ss(t.element));return n==null?{}:lS({element:n,padding:t.padding}).fn(e)}}}function $v(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Ip(t,e){const n=$v(t);return Math.round(e*n)/n}function hS(t,e,n){n===void 0&&(n={});const r=n.whileElementsMounted,s=H(()=>{var R;return(R=Ss(n.open))!=null?R:!0}),i=H(()=>Ss(n.middleware)),o=H(()=>{var R;return(R=Ss(n.placement))!=null?R:"bottom"}),a=H(()=>{var R;return(R=Ss(n.strategy))!=null?R:"absolute"}),l=H(()=>{var R;return(R=Ss(n.transform))!=null?R:!0}),c=H(()=>Du(t.value)),u=H(()=>Du(e.value)),d=te(0),f=te(0),h=te(a.value),m=te(o.value),p=ts({}),_=te(!1),b=H(()=>{const R={position:h.value,left:"0",top:"0"};if(!u.value)return R;const O=Ip(u.value,d.value),x=Ip(u.value,f.value);return l.value?{...R,transform:"translate("+O+"px, "+x+"px)",...$v(u.value)>=1.5&&{willChange:"transform"}}:{position:h.value,left:O+"px",top:x+"px"}});let C;function y(){if(c.value==null||u.value==null)return;const R=s.value;uS(c.value,u.value,{middleware:i.value,placement:o.value,strategy:a.value}).then(O=>{d.value=O.x,f.value=O.y,h.value=O.strategy,m.value=O.placement,p.value=O.middlewareData,_.value=R!==!1})}function g(){typeof C=="function"&&(C(),C=void 0)}function E(){if(g(),r===void 0){y();return}if(c.value!=null&&u.value!=null){C=r(c.value,u.value,y);return}}function A(){s.value||(_.value=!1)}return Te([i,o,a,s],y,{flush:"sync"}),Te([c,u],E,{flush:"sync"}),Te(s,A,{flush:"sync"}),po()&&hl(g),{x:Nr(d),y:Nr(f),strategy:Nr(h),placement:Nr(m),middlewareData:Nr(p),isPositioned:Nr(_),floatingStyles:b,update:y}}function Kd(t){return t?t.flatMap(e=>e.type===tt?Kd(e.children):[e]):[]}const Mu=Z({name:"PrimitiveSlot",inheritAttrs:!1,setup(t,{attrs:e,slots:n}){return()=>{var l,c;if(!n.default)return null;const r=Kd(n.default()),s=r.findIndex(u=>u.type!==Kn);if(s===-1)return r;const i=r[s];(l=i.props)==null||delete l.ref;const o=i.props?ke(e,i.props):e;e.class&&((c=i.props)!=null&&c.class)&&delete i.props.class;const a=Gr(i,o);for(const u in o)u.startsWith("on")&&(a.props||(a.props={}),a.props[u]=o[u]);return r.length===1?a:(r[s]=a,r)}}}),pS=["area","img","input"],Ye=Z({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(t,{attrs:e,slots:n}){const r=t.asChild?"template":t.as;return typeof r=="string"&&pS.includes(r)?()=>en(r,e):r!=="template"?()=>en(t.as,e,{default:n.default}):()=>en(Mu,e,{default:n.default})}}),mS=Z({__name:"VisuallyHidden",props:{feature:{default:"focusable"},asChild:{type:Boolean},as:{default:"span"}},setup(t){return(e,n)=>(K(),ee(S(Ye),{as:e.as,"as-child":e.asChild,"aria-hidden":e.feature==="focusable"?"true":void 0,"data-hidden":e.feature==="fully-hidden"?"":void 0,tabindex:e.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal"}},{default:W(()=>[he(e.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}});function gS(t,e){var n;const r=ts();return En(()=>{r.value=t()},{...e,flush:(n=void 0)!=null?n:"sync"}),mo(r)}function Pv(t){return po()?(hl(t),!0):!1}function yS(t){let e=!1,n;const r=fl(!0);return(...s)=>(e||(n=r.run(()=>t(...s)),e=!0),n)}function vS(t){let e=0,n,r;const s=()=>{e-=1,r&&e<=0&&(r.stop(),n=void 0,r=void 0)};return(...i)=>(e+=1,r||(r=fl(!0),n=r.run(()=>t(...i))),Pv(s),n)}function bS(t){if(!Me(t))return tn(t);const e=new Proxy({},{get(n,r,s){return S(Reflect.get(t.value,r,s))},set(n,r,s){return Me(t.value[r])&&!Me(s)?t.value[r].value=s:t.value[r]=s,!0},deleteProperty(n,r){return Reflect.deleteProperty(t.value,r)},has(n,r){return Reflect.has(t.value,r)},ownKeys(){return Object.keys(t.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return tn(e)}function _S(t){return bS(H(t))}function wS(t,...e){const n=e.flat(),r=n[0];return _S(()=>Object.fromEntries(typeof r=="function"?Object.entries(Wn(t)).filter(([s,i])=>!r(et(i),s)):Object.entries(Wn(t)).filter(s=>!n.includes(s[0]))))}const Sr=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const CS=t=>typeof t<"u",xS=Object.prototype.toString,ES=t=>xS.call(t)==="[object Object]",Fp=SS();function SS(){var t,e;return Sr&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function AS(t){return Qn()}function bc(t){return Array.isArray(t)?t:[t]}const TS=et;function kS(t,e){AS()&&py(t,e)}function OS(t,e,n){return Te(t,e,{...n,immediate:!0})}const Yd=Sr?window:void 0;function is(t){var e;const n=et(t);return(e=n==null?void 0:n.$el)!=null?e:n}function Dv(...t){const e=[],n=()=>{e.forEach(a=>a()),e.length=0},r=(a,l,c,u)=>(a.addEventListener(l,c,u),()=>a.removeEventListener(l,c,u)),s=H(()=>{const a=bc(et(t[0])).filter(l=>l!=null);return a.every(l=>typeof l!="string")?a:void 0}),i=OS(()=>{var a,l;return[(l=(a=s.value)==null?void 0:a.map(c=>is(c)))!=null?l:[Yd].filter(c=>c!=null),bc(et(s.value?t[1]:t[0])),bc(S(s.value?t[2]:t[1])),et(s.value?t[3]:t[2])]},([a,l,c,u])=>{if(n(),!(a!=null&&a.length)||!(l!=null&&l.length)||!(c!=null&&c.length))return;const d=ES(u)?{...u}:u;e.push(...a.flatMap(f=>l.flatMap(h=>c.map(m=>r(f,h,m,d)))))},{flush:"post"}),o=()=>{i(),n()};return Pv(n),o}function RS(){const t=ts(!1),e=Qn();return e&&ns(()=>{t.value=!0},e),t}function $S(t){return typeof t=="function"?t:typeof t=="string"?e=>e.key===t:Array.isArray(t)?e=>t.includes(e.key):()=>!0}function PS(...t){let e,n,r={};t.length===3?(e=t[0],n=t[1],r=t[2]):t.length===2?typeof t[1]=="object"?(e=!0,n=t[0],r=t[1]):(e=t[0],n=t[1]):(e=!0,n=t[0]);const{target:s=Yd,eventName:i="keydown",passive:o=!1,dedupe:a=!1}=r,l=$S(e);return Dv(s,i,u=>{u.repeat&&et(a)||l(u)&&n(u)},o)}function DS(t){return JSON.parse(JSON.stringify(t))}function Wa(t,e,n,r={}){var s,i,o;const{clone:a=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:d,shouldEmit:f}=r,h=Qn(),m=n||(h==null?void 0:h.emit)||((s=h==null?void 0:h.$emit)==null?void 0:s.bind(h))||((o=(i=h==null?void 0:h.proxy)==null?void 0:i.$emit)==null?void 0:o.bind(h==null?void 0:h.proxy));let p=c;e||(e="modelValue"),p=p||`update:${e.toString()}`;const _=y=>a?typeof a=="function"?a(y):DS(y):y,b=()=>CS(t[e])?_(t[e]):d,C=y=>{f?f(y)&&m(p,y):m(p,y)};if(l){const y=b(),g=te(y);let E=!1;return Te(()=>t[e],A=>{E||(E=!0,g.value=_(A),Dt(()=>E=!1))}),Te(g,A=>{!E&&(A!==t[e]||u)&&C(A)},{deep:u}),g}else return H({get(){return b()},set(y){C(y)}})}function Ar(t,e){const n=typeof t=="string"?`${t}Context`:e,r=Symbol(n);return[o=>{const a=Vt(r,o);if(a||a===null)return a;throw new Error(`Injection \`${r.toString()}\` not found. Component must be used within ${Array.isArray(t)?`one of the following components: ${t.join(", ")}`:`\`${t}\``}`)},o=>(Is(r,o),o)]}function Np(t){return typeof t=="string"?`'${t}'`:new MS().serialize(t)}const MS=function(){var e;class t{constructor(){ds(this,e,new Map)}compare(r,s){const i=typeof r,o=typeof s;return i==="string"&&o==="string"?r.localeCompare(s):i==="number"&&o==="number"?r-s:String.prototype.localeCompare.call(this.serialize(r,!0),this.serialize(s,!0))}serialize(r,s){if(r===null)return"null";switch(typeof r){case"string":return s?r:`'${r}'`;case"bigint":return`${r}n`;case"object":return this.$object(r);case"function":return this.$function(r)}return String(r)}serializeObject(r){const s=Object.prototype.toString.call(r);if(s!=="[object Object]")return this.serializeBuiltInType(s.length<10?`unknown:${s}`:s.slice(8,-1),r);const i=r.constructor,o=i===Object||i===void 0?"":i.name;if(o!==""&&globalThis[o]===i)return this.serializeBuiltInType(o,r);if(typeof r.toJSON=="function"){const a=r.toJSON();return o+(a!==null&&typeof a=="object"?this.$object(a):`(${this.serialize(a)})`)}return this.serializeObjectEntries(o,Object.entries(r))}serializeBuiltInType(r,s){const i=this["$"+r];if(i)return i.call(this,s);if(typeof(s==null?void 0:s.entries)=="function")return this.serializeObjectEntries(r,s.entries());throw new Error(`Cannot serialize ${r}`)}serializeObjectEntries(r,s){const i=Array.from(s).sort((a,l)=>this.compare(a[0],l[0]));let o=`${r}{`;for(let a=0;a<i.length;a++){const[l,c]=i[a];o+=`${this.serialize(l,!0)}:${this.serialize(c)}`,a<i.length-1&&(o+=",")}return o+"}"}$object(r){let s=gi(this,e).get(r);return s===void 0&&(gi(this,e).set(r,`#${gi(this,e).size}`),s=this.serializeObject(r),gi(this,e).set(r,s)),s}$function(r){const s=Function.prototype.toString.call(r);return s.slice(-15)==="[native code] }"?`${r.name||""}()[native]`:`${r.name}(${r.length})${s.replace(/\s*\n\s*/g,"")}`}$Array(r){let s="[";for(let i=0;i<r.length;i++)s+=this.serialize(r[i]),i<r.length-1&&(s+=",");return s+"]"}$Date(r){try{return`Date(${r.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(r){return`ArrayBuffer[${new Uint8Array(r).join(",")}]`}$Set(r){return`Set${this.$Array(Array.from(r).sort((s,i)=>this.compare(s,i)))}`}$Map(r){return this.serializeObjectEntries("Map",r.entries())}}e=new WeakMap;for(const n of["Error","RegExp","URL"])t.prototype["$"+n]=function(r){return`${n}(${r})`};for(const n of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])t.prototype["$"+n]=function(r){return`${n}[${r.join(",")}]`};for(const n of["BigInt64Array","BigUint64Array"])t.prototype["$"+n]=function(r){return`${n}[${r.join("n,")}${r.length>0?"n":""}]`};return t}();function Iu(t,e){return t===e||Np(t)===Np(e)}function Fu(t){return t==null}function Lp(t,e){return Fu(t)?!1:Array.isArray(t)?t.some(n=>Iu(n,e)):Iu(t,e)}const[Rl,e2]=Ar("ConfigProvider");function IS(t){const e=Rl({dir:te("ltr")});return H(()=>{var n;return(t==null?void 0:t.value)||((n=e.dir)==null?void 0:n.value)||"ltr"})}function Tn(){const t=Qn(),e=te(),n=H(()=>{var o,a;return["#text","#comment"].includes((o=e.value)==null?void 0:o.$el.nodeName)?(a=e.value)==null?void 0:a.$el.nextElementSibling:is(e)}),r=Object.assign({},t.exposed),s={};for(const o in t.props)Object.defineProperty(s,o,{enumerable:!0,configurable:!0,get:()=>t.props[o]});if(Object.keys(r).length>0)for(const o in r)Object.defineProperty(s,o,{enumerable:!0,configurable:!0,get:()=>r[o]});Object.defineProperty(s,"$el",{enumerable:!0,configurable:!0,get:()=>t.vnode.el}),t.exposed=s;function i(o){e.value=o,o&&(Object.defineProperty(s,"$el",{enumerable:!0,configurable:!0,get:()=>o instanceof Element?o:o.$el}),t.exposed=s)}return{forwardRef:i,currentRef:e,currentElement:n}}let FS=0;function qd(t,e="reka"){const n=Rl({useId:void 0});return Oh?`${e}-${Oh()}`:n.useId?`${e}-${n.useId()}`:`${e}-${++FS}`}function NS(t,e){const n=te(t);function r(i){return e[n.value][i]??n.value}return{state:n,dispatch:i=>{n.value=r(i)}}}function LS(t,e){var _;const n=te({}),r=te("none"),s=te(t),i=t.value?"mounted":"unmounted";let o;const a=((_=e.value)==null?void 0:_.ownerDocument.defaultView)??Yd,{state:l,dispatch:c}=NS(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),u=b=>{var C;if(Sr){const y=new CustomEvent(b,{bubbles:!1,cancelable:!1});(C=e.value)==null||C.dispatchEvent(y)}};Te(t,async(b,C)=>{var g;const y=C!==b;if(await Dt(),y){const E=r.value,A=qo(e.value);b?(c("MOUNT"),u("enter"),A==="none"&&u("after-enter")):A==="none"||A==="undefined"||((g=n.value)==null?void 0:g.display)==="none"?(c("UNMOUNT"),u("leave"),u("after-leave")):C&&E!==A?(c("ANIMATION_OUT"),u("leave")):(c("UNMOUNT"),u("after-leave"))}},{immediate:!0});const d=b=>{const C=qo(e.value),y=C.includes(b.animationName),g=l.value==="mounted"?"enter":"leave";if(b.target===e.value&&y&&(u(`after-${g}`),c("ANIMATION_END"),!s.value)){const E=e.value.style.animationFillMode;e.value.style.animationFillMode="forwards",o=a==null?void 0:a.setTimeout(()=>{var A;((A=e.value)==null?void 0:A.style.animationFillMode)==="forwards"&&(e.value.style.animationFillMode=E)})}b.target===e.value&&C==="none"&&c("ANIMATION_END")},f=b=>{b.target===e.value&&(r.value=qo(e.value))},h=Te(e,(b,C)=>{b?(n.value=getComputedStyle(b),b.addEventListener("animationstart",f),b.addEventListener("animationcancel",d),b.addEventListener("animationend",d)):(c("ANIMATION_END"),o!==void 0&&(a==null||a.clearTimeout(o)),C==null||C.removeEventListener("animationstart",f),C==null||C.removeEventListener("animationcancel",d),C==null||C.removeEventListener("animationend",d))},{immediate:!0}),m=Te(l,()=>{const b=qo(e.value);r.value=l.value==="mounted"?b:"none"});return ni(()=>{h(),m()}),{isPresent:H(()=>["mounted","unmountSuspended"].includes(l.value))}}function qo(t){return t&&getComputedStyle(t).animationName||"none"}const Mv=Z({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(t,{slots:e,expose:n}){var c;const{present:r,forceMount:s}=Wn(t),i=te(),{isPresent:o}=LS(r,i);n({present:o});let a=e.default({present:o.value});a=Kd(a||[]);const l=Qn();if(a&&(a==null?void 0:a.length)>1){const u=(c=l==null?void 0:l.parent)!=null&&c.type.name?`<${l.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${u}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(d=>`  - ${d}`).join(`
`)].join(`
`))}return()=>s.value||r.value||o.value?en(e.default({present:o.value})[0],{ref:u=>{const d=is(u);return typeof(d==null?void 0:d.hasAttribute)>"u"||(d!=null&&d.hasAttribute("data-reka-popper-content-wrapper")?i.value=d.firstElementChild:i.value=d),d}}):null}});function BS(t){const e=Qn(),n=e==null?void 0:e.type.emits,r={};return n!=null&&n.length||console.warn(`No emitted event found. Please check component: ${e==null?void 0:e.type.__name}`),n==null||n.forEach(s=>{r[fa(Pt(s))]=(...i)=>t(s,...i)}),r}function an(t){const e=Qn(),n=Object.keys((e==null?void 0:e.type.props)??{}).reduce((s,i)=>{const o=(e==null?void 0:e.type.props[i]).default;return o!==void 0&&(s[i]=o),s},{}),r=ey(t);return H(()=>{const s={},i=(e==null?void 0:e.vnode.props)??{};return Object.keys(i).forEach(o=>{s[Pt(o)]=i[o]}),Object.keys({...n,...s}).reduce((o,a)=>(r.value[a]!==void 0&&(o[a]=r.value[a]),o),{})})}function os(t,e){const n=an(t),r=e?BS(e):{};return H(()=>({...n.value,...r}))}const US=Z({__name:"Teleport",props:{to:{default:"body"},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=RS();return(n,r)=>S(e)||n.forceMount?(K(),ee(Yw,{key:0,to:n.to,disabled:n.disabled,defer:n.defer},[he(n.$slots,"default")],8,["to","disabled","defer"])):Yn("",!0)}});function Iv(t,e,n){const r=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),r.dispatchEvent(s)}const jS="dismissableLayer.pointerDownOutside",VS="dismissableLayer.focusOutside";function Fv(t,e){const n=e.closest("[data-dismissable-layer]"),r=t.dataset.dismissableLayer===""?t:t.querySelector("[data-dismissable-layer]"),s=Array.from(t.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(n&&r===n||s.indexOf(r)<s.indexOf(n))}function HS(t,e){var i;const n=((i=e==null?void 0:e.value)==null?void 0:i.ownerDocument)??(globalThis==null?void 0:globalThis.document),r=te(!1),s=te(()=>{});return En(o=>{if(!Sr)return;const a=async c=>{const u=c.target;if(e!=null&&e.value){if(Fv(e.value,u)){r.value=!1;return}if(c.target&&!r.value){let d=function(){Iv(jS,t,f)};const f={originalEvent:c};c.pointerType==="touch"?(n.removeEventListener("click",s.value),s.value=d,n.addEventListener("click",s.value,{once:!0})):d()}else n.removeEventListener("click",s.value);r.value=!1}},l=window.setTimeout(()=>{n.addEventListener("pointerdown",a)},0);o(()=>{window.clearTimeout(l),n.removeEventListener("pointerdown",a),n.removeEventListener("click",s.value)})}),{onPointerDownCapture:()=>r.value=!0}}function zS(t,e){var s;const n=((s=e==null?void 0:e.value)==null?void 0:s.ownerDocument)??(globalThis==null?void 0:globalThis.document),r=te(!1);return En(i=>{if(!Sr)return;const o=async a=>{e!=null&&e.value&&(await Dt(),await Dt(),!(!e.value||Fv(e.value,a.target))&&a.target&&!r.value&&Iv(VS,t,{originalEvent:a}))};n.addEventListener("focusin",o),i(()=>n.removeEventListener("focusin",o))}),{onFocusCapture:()=>r.value=!0,onBlurCapture:()=>r.value=!1}}const Mn=tn({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),WS=Z({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(t,{emit:e}){const n=t,r=e,{forwardRef:s,currentElement:i}=Tn(),o=H(()=>{var m;return((m=i.value)==null?void 0:m.ownerDocument)??globalThis.document}),a=H(()=>Mn.layersRoot),l=H(()=>i.value?Array.from(a.value).indexOf(i.value):-1),c=H(()=>Mn.layersWithOutsidePointerEventsDisabled.size>0),u=H(()=>{const m=Array.from(a.value),[p]=[...Mn.layersWithOutsidePointerEventsDisabled].slice(-1),_=m.indexOf(p);return l.value>=_}),d=HS(async m=>{const p=[...Mn.branches].some(_=>_==null?void 0:_.contains(m.target));!u.value||p||(r("pointerDownOutside",m),r("interactOutside",m),await Dt(),m.defaultPrevented||r("dismiss"))},i),f=zS(m=>{[...Mn.branches].some(_=>_==null?void 0:_.contains(m.target))||(r("focusOutside",m),r("interactOutside",m),m.defaultPrevented||r("dismiss"))},i);PS("Escape",m=>{l.value===a.value.size-1&&(r("escapeKeyDown",m),m.defaultPrevented||r("dismiss"))});let h;return En(m=>{i.value&&(n.disableOutsidePointerEvents&&(Mn.layersWithOutsidePointerEventsDisabled.size===0&&(h=o.value.body.style.pointerEvents,o.value.body.style.pointerEvents="none"),Mn.layersWithOutsidePointerEventsDisabled.add(i.value)),a.value.add(i.value),m(()=>{n.disableOutsidePointerEvents&&Mn.layersWithOutsidePointerEventsDisabled.size===1&&(o.value.body.style.pointerEvents=h)}))}),En(m=>{m(()=>{i.value&&(a.value.delete(i.value),Mn.layersWithOutsidePointerEventsDisabled.delete(i.value))})}),(m,p)=>(K(),ee(S(Ye),{ref:S(s),"as-child":m.asChild,as:m.as,"data-dismissable-layer":"",style:ei({pointerEvents:c.value?u.value?"auto":"none":void 0}),onFocusCapture:S(f).onFocusCapture,onBlurCapture:S(f).onBlurCapture,onPointerdownCapture:S(d).onPointerDownCapture},{default:W(()=>[he(m.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}});function mr(){let t=document.activeElement;if(t==null)return null;for(;t!=null&&t.shadowRoot!=null&&t.shadowRoot.activeElement!=null;)t=t.shadowRoot.activeElement;return t}const _c="focusScope.autoFocusOnMount",wc="focusScope.autoFocusOnUnmount",Bp={bubbles:!1,cancelable:!0};function KS(t,{select:e=!1}={}){const n=mr();for(const r of t)if(ar(r,{select:e}),mr()!==n)return!0}function YS(t){const e=Nv(t),n=Up(e,t),r=Up(e.reverse(),t);return[n,r]}function Nv(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Up(t,e){for(const n of t)if(!qS(n,{upTo:e}))return n}function qS(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function GS(t){return t instanceof HTMLInputElement&&"select"in t}function ar(t,{select:e=!1}={}){if(t&&t.focus){const n=mr();t.focus({preventScroll:!0}),t!==n&&GS(t)&&e&&t.select()}}const JS=yS(()=>te([]));function XS(){const t=JS();return{add(e){const n=t.value[0];e!==n&&(n==null||n.pause()),t.value=jp(t.value,e),t.value.unshift(e)},remove(e){var n;t.value=jp(t.value,e),(n=t.value[0])==null||n.resume()}}}function jp(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function QS(t){return t.filter(e=>e.tagName!=="A")}const ZS=Z({__name:"FocusScope",props:{loop:{type:Boolean,default:!1},trapped:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["mountAutoFocus","unmountAutoFocus"],setup(t,{emit:e}){const n=t,r=e,{currentRef:s,currentElement:i}=Tn(),o=te(null),a=XS(),l=tn({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});En(u=>{if(!Sr)return;const d=i.value;if(!n.trapped)return;function f(_){if(l.paused||!d)return;const b=_.target;d.contains(b)?o.value=b:ar(o.value,{select:!0})}function h(_){if(l.paused||!d)return;const b=_.relatedTarget;b!==null&&(d.contains(b)||ar(o.value,{select:!0}))}function m(_){d.contains(o.value)||ar(d)}document.addEventListener("focusin",f),document.addEventListener("focusout",h);const p=new MutationObserver(m);d&&p.observe(d,{childList:!0,subtree:!0}),u(()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",h),p.disconnect()})}),En(async u=>{const d=i.value;if(await Dt(),!d)return;a.add(l);const f=mr();if(!d.contains(f)){const m=new CustomEvent(_c,Bp);d.addEventListener(_c,p=>r("mountAutoFocus",p)),d.dispatchEvent(m),m.defaultPrevented||(KS(QS(Nv(d)),{select:!0}),mr()===f&&ar(d))}u(()=>{d.removeEventListener(_c,_=>r("mountAutoFocus",_));const m=new CustomEvent(wc,Bp),p=_=>{r("unmountAutoFocus",_)};d.addEventListener(wc,p),d.dispatchEvent(m),setTimeout(()=>{m.defaultPrevented||ar(f??document.body,{select:!0}),d.removeEventListener(wc,p),a.remove(l)},0)})});function c(u){if(!n.loop&&!n.trapped||l.paused)return;const d=u.key==="Tab"&&!u.altKey&&!u.ctrlKey&&!u.metaKey,f=mr();if(d&&f){const h=u.currentTarget,[m,p]=YS(h);m&&p?!u.shiftKey&&f===p?(u.preventDefault(),n.loop&&ar(m,{select:!0})):u.shiftKey&&f===m&&(u.preventDefault(),n.loop&&ar(p,{select:!0})):f===h&&u.preventDefault()}}return(u,d)=>(K(),ee(S(Ye),{ref_key:"currentRef",ref:s,tabindex:"-1","as-child":u.asChild,as:u.as,onKeydown:c},{default:W(()=>[he(u.$slots,"default")]),_:3},8,["as-child","as"]))}});var eA=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ms=new WeakMap,Go=new WeakMap,Jo={},Cc=0,Lv=function(t){return t&&(t.host||Lv(t.parentNode))},tA=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Lv(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},nA=function(t,e,n,r){var s=tA(e,Array.isArray(t)?t:[t]);Jo[n]||(Jo[n]=new WeakMap);var i=Jo[n],o=[],a=new Set,l=new Set(s),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};s.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else try{var h=f.getAttribute(r),m=h!==null&&h!=="false",p=(ms.get(f)||0)+1,_=(i.get(f)||0)+1;ms.set(f,p),i.set(f,_),o.push(f),p===1&&m&&Go.set(f,!0),_===1&&f.setAttribute(n,"true"),m||f.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return u(e),a.clear(),Cc++,function(){o.forEach(function(d){var f=ms.get(d)-1,h=i.get(d)-1;ms.set(d,f),i.set(d,h),f||(Go.has(d)||d.removeAttribute(r),Go.delete(d)),h||d.removeAttribute(n)}),Cc--,Cc||(ms=new WeakMap,ms=new WeakMap,Go=new WeakMap,Jo={})}},rA=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=eA(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),nA(r,s,n,"aria-hidden")):function(){return null}};function sA(t){let e;Te(()=>is(t),n=>{n?e=rA(n):e&&e()}),ni(()=>{e&&e()})}function xc(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function Nu(t,e,n=".",r){if(!xc(e))return Nu(t,{},n,r);const s=Object.assign({},e);for(const i in t){if(i==="__proto__"||i==="constructor")continue;const o=t[i];o!=null&&(r&&r(s,i,o,n)||(Array.isArray(o)&&Array.isArray(s[i])?s[i]=[...o,...s[i]]:xc(o)&&xc(s[i])?s[i]=Nu(o,s[i],(n?`${n}.`:"")+i.toString(),r):s[i]=o))}return s}function iA(t){return(...e)=>e.reduce((n,r)=>Nu(n,r,"",t),{})}const oA=iA(),aA=vS(()=>{const t=te(new Map),e=te(),n=H(()=>{for(const o of t.value.values())if(o)return!0;return!1}),r=Rl({scrollBody:te(!0)});let s=null;const i=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.body.style.removeProperty("--scrollbar-width"),document.body.style.overflow=e.value??"",Fp&&(s==null||s()),e.value=void 0};return Te(n,(o,a)=>{var d;if(!Sr)return;if(!o){a&&i();return}e.value===void 0&&(e.value=document.body.style.overflow);const l=window.innerWidth-document.documentElement.clientWidth,c={padding:l,margin:0},u=(d=r.scrollBody)!=null&&d.value?typeof r.scrollBody.value=="object"?oA({padding:r.scrollBody.value.padding===!0?l:r.scrollBody.value.padding,margin:r.scrollBody.value.margin===!0?l:r.scrollBody.value.margin},c):c:{padding:0,margin:0};l>0&&(document.body.style.paddingRight=typeof u.padding=="number"?`${u.padding}px`:String(u.padding),document.body.style.marginRight=typeof u.margin=="number"?`${u.margin}px`:String(u.margin),document.body.style.setProperty("--scrollbar-width",`${l}px`),document.body.style.overflow="hidden"),Fp&&(s=Dv(document,"touchmove",f=>cA(f),{passive:!1})),Dt(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),t});function lA(t){const e=Math.random().toString(36).substring(2,7),n=aA();n.value.set(e,t);const r=H({get:()=>n.value.get(e)??!1,set:s=>n.value.set(e,s)});return kS(()=>{n.value.delete(e)}),r}function Bv(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientWidth<t.scrollWidth||e.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const n=t.parentNode;return!(n instanceof Element)||n.tagName==="BODY"?!1:Bv(n)}}function cA(t){const e=t||window.event,n=e.target;return n instanceof Element&&Bv(n)?!1:e.touches.length>1?!0:(e.preventDefault&&e.cancelable&&e.preventDefault(),!1)}function Ns(t,e){return t-e*Math.floor(t/e)}const Uv=1721426;function Hr(t,e,n,r){e=bo(t,e);let s=e-1,i=-2;return n<=2?i=0:hr(e)&&(i=-1),Uv-1+365*s+Math.floor(s/4)-Math.floor(s/100)+Math.floor(s/400)+Math.floor((367*n-362)/12+i+r)}function hr(t){return t%4===0&&(t%100!==0||t%400===0)}function bo(t,e){return t==="BC"?1-e:e}function $l(t){let e="AD";return t<=0&&(e="BC",t=1-t),[e,t]}const uA={standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]};class on{fromJulianDay(e){let n=e,r=n-Uv,s=Math.floor(r/146097),i=Ns(r,146097),o=Math.floor(i/36524),a=Ns(i,36524),l=Math.floor(a/1461),c=Ns(a,1461),u=Math.floor(c/365),d=s*400+o*100+l*4+u+(o!==4&&u!==4?1:0),[f,h]=$l(d),m=n-Hr(f,h,1,1),p=2;n<Hr(f,h,3,1)?p=0:hr(h)&&(p=1);let _=Math.floor(((m+p)*12+373)/367),b=n-Hr(f,h,_,1)+1;return new nt(f,h,_,b)}toJulianDay(e){return Hr(e.era,e.year,e.month,e.day)}getDaysInMonth(e){return uA[hr(e.year)?"leapyear":"standard"][e.month-1]}getMonthsInYear(e){return 12}getDaysInYear(e){return hr(e.year)?366:365}getYearsInEra(e){return 9999}getEras(){return["BC","AD"]}isInverseEra(e){return e.era==="BC"}balanceDate(e){e.year<=0&&(e.era=e.era==="BC"?"AD":"BC",e.year=1-e.year)}constructor(){this.identifier="gregory"}}const dA={"001":1,AD:1,AE:6,AF:6,AI:1,AL:1,AM:1,AN:1,AR:1,AT:1,AU:1,AX:1,AZ:1,BA:1,BE:1,BG:1,BH:6,BM:1,BN:1,BY:1,CH:1,CL:1,CM:1,CN:1,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DZ:6,EC:1,EE:1,EG:6,ES:1,FI:1,FJ:1,FO:1,FR:1,GB:1,GE:1,GF:1,GP:1,GR:1,HR:1,HU:1,IE:1,IQ:6,IR:6,IS:1,IT:1,JO:6,KG:1,KW:6,KZ:1,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MK:1,MN:1,MQ:1,MV:5,MY:1,NL:1,NO:1,NZ:1,OM:6,PL:1,QA:6,RE:1,RO:1,RS:1,RU:1,SD:6,SE:1,SI:1,SK:1,SM:1,SY:6,TJ:1,TM:1,TR:1,UA:1,UY:1,UZ:1,VA:1,VN:1,XK:1};function Xr(t,e){return e=$t(e,t.calendar),t.era===e.era&&t.year===e.year&&t.month===e.month&&t.day===e.day}function jv(t,e){return e=$t(e,t.calendar),t=Lu(t),e=Lu(e),t.era===e.era&&t.year===e.year&&t.month===e.month}function Ec(t,e){return Gd(t.calendar,e.calendar)&&Xr(t,e)}function Vp(t,e){return Gd(t.calendar,e.calendar)&&jv(t,e)}function Gd(t,e){var n,r,s,i;return(i=(s=(n=t.isEqual)===null||n===void 0?void 0:n.call(t,e))!==null&&s!==void 0?s:(r=e.isEqual)===null||r===void 0?void 0:r.call(e,t))!==null&&i!==void 0?i:t.identifier===e.identifier}function fA(t,e){return Xr(t,Hv(e))}function Vv(t,e,n){let r=t.calendar.toJulianDay(t),s=gA(e),i=Math.ceil(r+1-s)%7;return i<0&&(i+=7),i}function hA(t){return Vn(Date.now(),t)}function Hv(t){return bA(hA(t))}function zv(t,e){return t.calendar.toJulianDay(t)-e.calendar.toJulianDay(e)}function pA(t,e){return Hp(t)-Hp(e)}function Hp(t){return t.hour*36e5+t.minute*6e4+t.second*1e3+t.millisecond}let Sc=null;function _o(){return Sc==null&&(Sc=new Intl.DateTimeFormat().resolvedOptions().timeZone),Sc}function Lu(t){return t.subtract({days:t.day-1})}function zp(t){return t.add({days:t.calendar.getDaysInMonth(t)-t.day})}const Wp=new Map;function mA(t){if(Intl.Locale){let n=Wp.get(t);return n||(n=new Intl.Locale(t).maximize().region,n&&Wp.set(t,n)),n}let e=t.split("-")[1];return e==="u"?void 0:e}function gA(t){let e=mA(t);return e&&dA[e]||0}function Gs(t){t=$t(t,new on);let e=bo(t.era,t.year);return Wv(e,t.month,t.day,t.hour,t.minute,t.second,t.millisecond)}function Wv(t,e,n,r,s,i,o){let a=new Date;return a.setUTCHours(r,s,i,o),a.setUTCFullYear(t,e-1,n),a.getTime()}function Bu(t,e){if(e==="UTC")return 0;if(t>0&&e===_o())return new Date(t).getTimezoneOffset()*-6e4;let{year:n,month:r,day:s,hour:i,minute:o,second:a}=Kv(t,e);return Wv(n,r,s,i,o,a,0)-Math.floor(t/1e3)*1e3}const Kp=new Map;function Kv(t,e){let n=Kp.get(e);n||(n=new Intl.DateTimeFormat("en-US",{timeZone:e,hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),Kp.set(e,n));let r=n.formatToParts(new Date(t)),s={};for(let i of r)i.type!=="literal"&&(s[i.type]=i.value);return{year:s.era==="BC"||s.era==="B"?-s.year+1:+s.year,month:+s.month,day:+s.day,hour:s.hour==="24"?0:+s.hour,minute:+s.minute,second:+s.second}}const Yp=864e5;function yA(t,e,n,r){return(n===r?[n]:[n,r]).filter(i=>vA(t,e,i))}function vA(t,e,n){let r=Kv(n,e);return t.year===r.year&&t.month===r.month&&t.day===r.day&&t.hour===r.hour&&t.minute===r.minute&&t.second===r.second}function jn(t,e,n="compatible"){let r=Js(t);if(e==="UTC")return Gs(r);if(e===_o()&&n==="compatible"){r=$t(r,new on);let l=new Date,c=bo(r.era,r.year);return l.setFullYear(c,r.month-1,r.day),l.setHours(r.hour,r.minute,r.second,r.millisecond),l.getTime()}let s=Gs(r),i=Bu(s-Yp,e),o=Bu(s+Yp,e),a=yA(r,e,s-i,s-o);if(a.length===1)return a[0];if(a.length>1)switch(n){case"compatible":case"earlier":return a[0];case"later":return a[a.length-1];case"reject":throw new RangeError("Multiple possible absolute times found")}switch(n){case"earlier":return Math.min(s-i,s-o);case"compatible":case"later":return Math.max(s-i,s-o);case"reject":throw new RangeError("No such absolute time found")}}function Yv(t,e,n="compatible"){return new Date(jn(t,e,n))}function Vn(t,e){let n=Bu(t,e),r=new Date(t+n),s=r.getUTCFullYear(),i=r.getUTCMonth()+1,o=r.getUTCDate(),a=r.getUTCHours(),l=r.getUTCMinutes(),c=r.getUTCSeconds(),u=r.getUTCMilliseconds();return new Qs(s<1?"BC":"AD",s<1?-s+1:s,i,o,e,n,a,l,c,u)}function bA(t){return new nt(t.calendar,t.era,t.year,t.month,t.day)}function Js(t,e){let n=0,r=0,s=0,i=0;if("timeZone"in t)({hour:n,minute:r,second:s,millisecond:i}=t);else if("hour"in t&&!e)return t;return e&&({hour:n,minute:r,second:s,millisecond:i}=e),new Xs(t.calendar,t.era,t.year,t.month,t.day,n,r,s,i)}function $t(t,e){if(Gd(t.calendar,e))return t;let n=e.fromJulianDay(t.calendar.toJulianDay(t)),r=t.copy();return r.calendar=e,r.era=n.era,r.year=n.year,r.month=n.month,r.day=n.day,Qr(r),r}function _A(t,e,n){if(t instanceof Qs)return t.timeZone===e?t:CA(t,e);let r=jn(t,e,n);return Vn(r,e)}function wA(t){let e=Gs(t)-t.offset;return new Date(e)}function CA(t,e){let n=Gs(t)-t.offset;return $t(Vn(n,e),t.calendar)}const wi=36e5;function Pl(t,e){let n=t.copy(),r="hour"in n?AA(n,e):0;Uu(n,e.years||0),n.calendar.balanceYearMonth&&n.calendar.balanceYearMonth(n,t),n.month+=e.months||0,ju(n),qv(n),n.day+=(e.weeks||0)*7,n.day+=e.days||0,n.day+=r,xA(n),n.calendar.balanceDate&&n.calendar.balanceDate(n),n.year<1&&(n.year=1,n.month=1,n.day=1);let s=n.calendar.getYearsInEra(n);if(n.year>s){var i,o;let l=(i=(o=n.calendar).isInverseEra)===null||i===void 0?void 0:i.call(o,n);n.year=s,n.month=l?1:n.calendar.getMonthsInYear(n),n.day=l?1:n.calendar.getDaysInMonth(n)}n.month<1&&(n.month=1,n.day=1);let a=n.calendar.getMonthsInYear(n);return n.month>a&&(n.month=a,n.day=n.calendar.getDaysInMonth(n)),n.day=Math.max(1,Math.min(n.calendar.getDaysInMonth(n),n.day)),n}function Uu(t,e){var n,r;!((n=(r=t.calendar).isInverseEra)===null||n===void 0)&&n.call(r,t)&&(e=-e),t.year+=e}function ju(t){for(;t.month<1;)Uu(t,-1),t.month+=t.calendar.getMonthsInYear(t);let e=0;for(;t.month>(e=t.calendar.getMonthsInYear(t));)t.month-=e,Uu(t,1)}function xA(t){for(;t.day<1;)t.month--,ju(t),t.day+=t.calendar.getDaysInMonth(t);for(;t.day>t.calendar.getDaysInMonth(t);)t.day-=t.calendar.getDaysInMonth(t),t.month++,ju(t)}function qv(t){t.month=Math.max(1,Math.min(t.calendar.getMonthsInYear(t),t.month)),t.day=Math.max(1,Math.min(t.calendar.getDaysInMonth(t),t.day))}function Qr(t){t.calendar.constrainDate&&t.calendar.constrainDate(t),t.year=Math.max(1,Math.min(t.calendar.getYearsInEra(t),t.year)),qv(t)}function Gv(t){let e={};for(let n in t)typeof t[n]=="number"&&(e[n]=-t[n]);return e}function Jv(t,e){return Pl(t,Gv(e))}function Jd(t,e){let n=t.copy();return e.era!=null&&(n.era=e.era),e.year!=null&&(n.year=e.year),e.month!=null&&(n.month=e.month),e.day!=null&&(n.day=e.day),Qr(n),n}function Ka(t,e){let n=t.copy();return e.hour!=null&&(n.hour=e.hour),e.minute!=null&&(n.minute=e.minute),e.second!=null&&(n.second=e.second),e.millisecond!=null&&(n.millisecond=e.millisecond),SA(n),n}function EA(t){t.second+=Math.floor(t.millisecond/1e3),t.millisecond=Xo(t.millisecond,1e3),t.minute+=Math.floor(t.second/60),t.second=Xo(t.second,60),t.hour+=Math.floor(t.minute/60),t.minute=Xo(t.minute,60);let e=Math.floor(t.hour/24);return t.hour=Xo(t.hour,24),e}function SA(t){t.millisecond=Math.max(0,Math.min(t.millisecond,1e3)),t.second=Math.max(0,Math.min(t.second,59)),t.minute=Math.max(0,Math.min(t.minute,59)),t.hour=Math.max(0,Math.min(t.hour,23))}function Xo(t,e){let n=t%e;return n<0&&(n+=e),n}function AA(t,e){return t.hour+=e.hours||0,t.minute+=e.minutes||0,t.second+=e.seconds||0,t.millisecond+=e.milliseconds||0,EA(t)}function Xd(t,e,n,r){let s=t.copy();switch(e){case"era":{let a=t.calendar.getEras(),l=a.indexOf(t.era);if(l<0)throw new Error("Invalid era: "+t.era);l=Hn(l,n,0,a.length-1,r==null?void 0:r.round),s.era=a[l],Qr(s);break}case"year":var i,o;!((i=(o=s.calendar).isInverseEra)===null||i===void 0)&&i.call(o,s)&&(n=-n),s.year=Hn(t.year,n,-1/0,9999,r==null?void 0:r.round),s.year===-1/0&&(s.year=1),s.calendar.balanceYearMonth&&s.calendar.balanceYearMonth(s,t);break;case"month":s.month=Hn(t.month,n,1,t.calendar.getMonthsInYear(t),r==null?void 0:r.round);break;case"day":s.day=Hn(t.day,n,1,t.calendar.getDaysInMonth(t),r==null?void 0:r.round);break;default:throw new Error("Unsupported field "+e)}return t.calendar.balanceDate&&t.calendar.balanceDate(s),Qr(s),s}function Xv(t,e,n,r){let s=t.copy();switch(e){case"hour":{let i=t.hour,o=0,a=23;if((r==null?void 0:r.hourCycle)===12){let l=i>=12;o=l?12:0,a=l?23:11}s.hour=Hn(i,n,o,a,r==null?void 0:r.round);break}case"minute":s.minute=Hn(t.minute,n,0,59,r==null?void 0:r.round);break;case"second":s.second=Hn(t.second,n,0,59,r==null?void 0:r.round);break;case"millisecond":s.millisecond=Hn(t.millisecond,n,0,999,r==null?void 0:r.round);break;default:throw new Error("Unsupported field "+e)}return s}function Hn(t,e,n,r,s=!1){if(s){t+=Math.sign(e),t<n&&(t=r);let i=Math.abs(e);e>0?t=Math.ceil(t/i)*i:t=Math.floor(t/i)*i,t>r&&(t=n)}else t+=e,t<n?t=r-(n-t-1):t>r&&(t=n+(t-r-1));return t}function Qv(t,e){let n;if(e.years!=null&&e.years!==0||e.months!=null&&e.months!==0||e.weeks!=null&&e.weeks!==0||e.days!=null&&e.days!==0){let s=Pl(Js(t),{years:e.years,months:e.months,weeks:e.weeks,days:e.days});n=jn(s,t.timeZone)}else n=Gs(t)-t.offset;n+=e.milliseconds||0,n+=(e.seconds||0)*1e3,n+=(e.minutes||0)*6e4,n+=(e.hours||0)*36e5;let r=Vn(n,t.timeZone);return $t(r,t.calendar)}function TA(t,e){return Qv(t,Gv(e))}function kA(t,e,n,r){switch(e){case"hour":{let s=0,i=23;if((r==null?void 0:r.hourCycle)===12){let m=t.hour>=12;s=m?12:0,i=m?23:11}let o=Js(t),a=$t(Ka(o,{hour:s}),new on),l=[jn(a,t.timeZone,"earlier"),jn(a,t.timeZone,"later")].filter(m=>Vn(m,t.timeZone).day===a.day)[0],c=$t(Ka(o,{hour:i}),new on),u=[jn(c,t.timeZone,"earlier"),jn(c,t.timeZone,"later")].filter(m=>Vn(m,t.timeZone).day===c.day).pop(),d=Gs(t)-t.offset,f=Math.floor(d/wi),h=d%wi;return d=Hn(f,n,Math.floor(l/wi),Math.floor(u/wi),r==null?void 0:r.round)*wi+h,$t(Vn(d,t.timeZone),t.calendar)}case"minute":case"second":case"millisecond":return Xv(t,e,n,r);case"era":case"year":case"month":case"day":{let s=Xd(Js(t),e,n,r),i=jn(s,t.timeZone);return $t(Vn(i,t.timeZone),t.calendar)}default:throw new Error("Unsupported field "+e)}}function OA(t,e,n){let r=Js(t),s=Ka(Jd(r,e),e);if(s.compare(r)===0)return t;let i=jn(s,t.timeZone,n);return $t(Vn(i,t.timeZone),t.calendar)}function RA(t){return`${String(t.hour).padStart(2,"0")}:${String(t.minute).padStart(2,"0")}:${String(t.second).padStart(2,"0")}${t.millisecond?String(t.millisecond/1e3).slice(1):""}`}function Zv(t){let e=$t(t,new on),n;return e.era==="BC"?n=e.year===1?"0000":"-"+String(Math.abs(1-e.year)).padStart(6,"00"):n=String(e.year).padStart(4,"0"),`${n}-${String(e.month).padStart(2,"0")}-${String(e.day).padStart(2,"0")}`}function eb(t){return`${Zv(t)}T${RA(t)}`}function $A(t){let e=Math.sign(t)<0?"-":"+";t=Math.abs(t);let n=Math.floor(t/36e5),r=t%36e5/6e4;return`${e}${String(n).padStart(2,"0")}:${String(r).padStart(2,"0")}`}function PA(t){return`${eb(t)}${$A(t.offset)}[${t.timeZone}]`}function DA(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Qd(t,e,n){DA(t,e),e.set(t,n)}function Zd(t){let e=typeof t[0]=="object"?t.shift():new on,n;if(typeof t[0]=="string")n=t.shift();else{let o=e.getEras();n=o[o.length-1]}let r=t.shift(),s=t.shift(),i=t.shift();return[e,n,r,s,i]}var MA=new WeakMap;class nt{copy(){return this.era?new nt(this.calendar,this.era,this.year,this.month,this.day):new nt(this.calendar,this.year,this.month,this.day)}add(e){return Pl(this,e)}subtract(e){return Jv(this,e)}set(e){return Jd(this,e)}cycle(e,n,r){return Xd(this,e,n,r)}toDate(e){return Yv(this,e)}toString(){return Zv(this)}compare(e){return zv(this,e)}constructor(...e){Qd(this,MA,{writable:!0,value:void 0});let[n,r,s,i,o]=Zd(e);this.calendar=n,this.era=r,this.year=s,this.month=i,this.day=o,Qr(this)}}var IA=new WeakMap;class Xs{copy(){return this.era?new Xs(this.calendar,this.era,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond):new Xs(this.calendar,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond)}add(e){return Pl(this,e)}subtract(e){return Jv(this,e)}set(e){return Jd(Ka(this,e),e)}cycle(e,n,r){switch(e){case"era":case"year":case"month":case"day":return Xd(this,e,n,r);default:return Xv(this,e,n,r)}}toDate(e,n){return Yv(this,e,n)}toString(){return eb(this)}compare(e){let n=zv(this,e);return n===0?pA(this,Js(e)):n}constructor(...e){Qd(this,IA,{writable:!0,value:void 0});let[n,r,s,i,o]=Zd(e);this.calendar=n,this.era=r,this.year=s,this.month=i,this.day=o,this.hour=e.shift()||0,this.minute=e.shift()||0,this.second=e.shift()||0,this.millisecond=e.shift()||0,Qr(this)}}var FA=new WeakMap;class Qs{copy(){return this.era?new Qs(this.calendar,this.era,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond):new Qs(this.calendar,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond)}add(e){return Qv(this,e)}subtract(e){return TA(this,e)}set(e,n){return OA(this,e,n)}cycle(e,n,r){return kA(this,e,n,r)}toDate(){return wA(this)}toString(){return PA(this)}toAbsoluteString(){return this.toDate().toISOString()}compare(e){return this.toDate().getTime()-_A(e,this.timeZone).toDate().getTime()}constructor(...e){Qd(this,FA,{writable:!0,value:void 0});let[n,r,s,i,o]=Zd(e),a=e.shift(),l=e.shift();this.calendar=n,this.era=r,this.year=s,this.month=i,this.day=o,this.timeZone=a,this.offset=l,this.hour=e.shift()||0,this.minute=e.shift()||0,this.second=e.shift()||0,this.millisecond=e.shift()||0,Qr(this)}}const Ls=[[1868,9,8],[1912,7,30],[1926,12,25],[1989,1,8],[2019,5,1]],NA=[[1912,7,29],[1926,12,24],[1989,1,7],[2019,4,30]],ya=[1867,1911,1925,1988,2018],dr=["meiji","taisho","showa","heisei","reiwa"];function qp(t){const e=Ls.findIndex(([n,r,s])=>t.year<n||t.year===n&&t.month<r||t.year===n&&t.month===r&&t.day<s);return e===-1?Ls.length-1:e===0?0:e-1}function Ac(t){let e=ya[dr.indexOf(t.era)];if(!e)throw new Error("Unknown era: "+t.era);return new nt(t.year+e,t.month,t.day)}class LA extends on{fromJulianDay(e){let n=super.fromJulianDay(e),r=qp(n);return new nt(this,dr[r],n.year-ya[r],n.month,n.day)}toJulianDay(e){return super.toJulianDay(Ac(e))}balanceDate(e){let n=Ac(e),r=qp(n);dr[r]!==e.era&&(e.era=dr[r],e.year=n.year-ya[r]),this.constrainDate(e)}constrainDate(e){let n=dr.indexOf(e.era),r=NA[n];if(r!=null){let[s,i,o]=r,a=s-ya[n];e.year=Math.max(1,Math.min(a,e.year)),e.year===a&&(e.month=Math.min(i,e.month),e.month===i&&(e.day=Math.min(o,e.day)))}if(e.year===1&&n>=0){let[,s,i]=Ls[n];e.month=Math.max(s,e.month),e.month===s&&(e.day=Math.max(i,e.day))}}getEras(){return dr}getYearsInEra(e){let n=dr.indexOf(e.era),r=Ls[n],s=Ls[n+1];if(s==null)return 9999-r[0]+1;let i=s[0]-r[0];return(e.month<s[1]||e.month===s[1]&&e.day<s[2])&&i++,i}getDaysInMonth(e){return super.getDaysInMonth(Ac(e))}getMinimumMonthInYear(e){let n=Gp(e);return n?n[1]:1}getMinimumDayInMonth(e){let n=Gp(e);return n&&e.month===n[1]?n[2]:1}constructor(...e){super(...e),this.identifier="japanese"}}function Gp(t){if(t.year===1){let e=dr.indexOf(t.era);return Ls[e]}}const tb=-543;class BA extends on{fromJulianDay(e){let n=super.fromJulianDay(e),r=bo(n.era,n.year);return new nt(this,r-tb,n.month,n.day)}toJulianDay(e){return super.toJulianDay(Jp(e))}getEras(){return["BE"]}getDaysInMonth(e){return super.getDaysInMonth(Jp(e))}balanceDate(){}constructor(...e){super(...e),this.identifier="buddhist"}}function Jp(t){let[e,n]=$l(t.year+tb);return new nt(e,n,t.month,t.day)}const Ya=1911;function nb(t){return t.era==="minguo"?t.year+Ya:1-t.year+Ya}function Xp(t){let e=t-Ya;return e>0?["minguo",e]:["before_minguo",1-e]}class UA extends on{fromJulianDay(e){let n=super.fromJulianDay(e),r=bo(n.era,n.year),[s,i]=Xp(r);return new nt(this,s,i,n.month,n.day)}toJulianDay(e){return super.toJulianDay(Qp(e))}getEras(){return["before_minguo","minguo"]}balanceDate(e){let[n,r]=Xp(nb(e));e.era=n,e.year=r}isInverseEra(e){return e.era==="before_minguo"}getDaysInMonth(e){return super.getDaysInMonth(Qp(e))}getYearsInEra(e){return e.era==="before_minguo"?9999:9999-Ya}constructor(...e){super(...e),this.identifier="roc"}}function Qp(t){let[e,n]=$l(nb(t));return new nt(e,n,t.month,t.day)}const Zp=1948320,em=[0,31,62,93,124,155,186,216,246,276,306,336];class jA{fromJulianDay(e){let n=e-Zp,r=1+Math.floor((33*n+3)/12053),s=365*(r-1)+Math.floor((8*r+21)/33),i=n-s,o=i<216?Math.floor(i/31):Math.floor((i-6)/30),a=i-em[o]+1;return new nt(this,r,o+1,a)}toJulianDay(e){let n=Zp-1+365*(e.year-1)+Math.floor((8*e.year+21)/33);return n+=em[e.month-1],n+=e.day,n}getMonthsInYear(){return 12}getDaysInMonth(e){return e.month<=6?31:e.month<=11||Ns(25*e.year+11,33)<8?30:29}getEras(){return["AP"]}getYearsInEra(){return 9377}constructor(){this.identifier="persian"}}const Tc=78,tm=80;class VA extends on{fromJulianDay(e){let n=super.fromJulianDay(e),r=n.year-Tc,s=e-Hr(n.era,n.year,1,1),i;s<tm?(r--,i=hr(n.year-1)?31:30,s+=i+155+90+10):(i=hr(n.year)?31:30,s-=tm);let o,a;if(s<i)o=1,a=s+1;else{let l=s-i;l<155?(o=Math.floor(l/31)+2,a=l%31+1):(l-=155,o=Math.floor(l/30)+7,a=l%30+1)}return new nt(this,r,o,a)}toJulianDay(e){let n=e.year+Tc,[r,s]=$l(n),i,o;return hr(s)?(i=31,o=Hr(r,s,3,21)):(i=30,o=Hr(r,s,3,22)),e.month===1?o+e.day-1:(o+=i+Math.min(e.month-2,5)*31,e.month>=8&&(o+=(e.month-7)*30),o+=e.day-1,o)}getDaysInMonth(e){return e.month===1&&hr(e.year+Tc)||e.month>=2&&e.month<=6?31:30}getYearsInEra(){return 9919}getEras(){return["saka"]}balanceDate(){}constructor(...e){super(...e),this.identifier="indian"}}const qa=1948440,nm=1948439,Wt=1300,gs=1600,HA=460322;function Ga(t,e,n,r){return r+Math.ceil(29.5*(n-1))+(e-1)*354+Math.floor((3+11*e)/30)+t-1}function rb(t,e,n){let r=Math.floor((30*(n-e)+10646)/10631),s=Math.min(12,Math.ceil((n-(29+Ga(e,r,1,1)))/29.5)+1),i=n-Ga(e,r,s,1)+1;return new nt(t,r,s,i)}function rm(t){return(14+11*t)%30<11}class ef{fromJulianDay(e){return rb(this,qa,e)}toJulianDay(e){return Ga(qa,e.year,e.month,e.day)}getDaysInMonth(e){let n=29+e.month%2;return e.month===12&&rm(e.year)&&n++,n}getMonthsInYear(){return 12}getDaysInYear(e){return rm(e.year)?355:354}getYearsInEra(){return 9665}getEras(){return["AH"]}constructor(){this.identifier="islamic-civil"}}class zA extends ef{fromJulianDay(e){return rb(this,nm,e)}toJulianDay(e){return Ga(nm,e.year,e.month,e.day)}constructor(...e){super(...e),this.identifier="islamic-tbla"}}const WA="qgpUDckO1AbqBmwDrQpVBakGkgepC9QF2gpcBS0NlQZKB1QLagutBa4ETwoXBYsGpQbVCtYCWwmdBE0KJg2VDawFtgm6AlsKKwWVCsoG6Qr0AnYJtgJWCcoKpAvSC9kF3AJtCU0FpQpSC6ULtAW2CVcFlwJLBaMGUgdlC2oFqworBZUMSg2lDcoF1gpXCasESwmlClILagt1BXYCtwhbBFUFqQW0BdoJ3QRuAjYJqgpUDbIN1QXaAlsJqwRVCkkLZAtxC7QFtQpVCiUNkg7JDtQG6QprCasEkwpJDaQNsg25CroEWworBZUKKgtVC1wFvQQ9Ah0JlQpKC1oLbQW2AjsJmwRVBqkGVAdqC2wFrQpVBSkLkgupC9QF2gpaBasKlQVJB2QHqgu1BbYCVgpNDiULUgtqC60FrgIvCZcESwalBqwG1gpdBZ0ETQoWDZUNqgW1BdoCWwmtBJUFygbkBuoK9QS2AlYJqgpUC9IL2QXqAm0JrQSVCkoLpQuyBbUJ1gSXCkcFkwZJB1ULagVrCisFiwpGDaMNygXWCtsEawJLCaUKUgtpC3UFdgG3CFsCKwVlBbQF2gntBG0BtgimClINqQ3UBdoKWwmrBFMGKQdiB6kLsgW1ClUFJQuSDckO0gbpCmsFqwRVCikNVA2qDbUJugQ7CpsETQqqCtUK2gJdCV4ELgqaDFUNsga5BroEXQotBZUKUguoC7QLuQXaAloJSgukDdEO6AZqC20FNQWVBkoNqA3UDdoGWwWdAisGFQtKC5ULqgWuCi4JjwwnBZUGqgbWCl0FnQI=";let Vu,Bs;function va(t){return HA+Bs[t-Wt]}function Ei(t,e){let n=t-Wt,r=1<<11-(e-1);return(Vu[n]&r)===0?29:30}function sm(t,e){let n=va(t);for(let r=1;r<e;r++)n+=Ei(t,r);return n}function im(t){return Bs[t+1-Wt]-Bs[t-Wt]}class KA extends ef{fromJulianDay(e){let n=e-qa,r=va(Wt),s=va(gs);if(n<r||n>s)return super.fromJulianDay(e);{let i=Wt-1,o=1,a=1;for(;a>0;){i++,a=n-va(i)+1;let l=im(i);if(a===l){o=12;break}else if(a<l){let c=Ei(i,o);for(o=1;a>c;)a-=c,o++,c=Ei(i,o);break}}return new nt(this,i,o,n-sm(i,o)+1)}}toJulianDay(e){return e.year<Wt||e.year>gs?super.toJulianDay(e):qa+sm(e.year,e.month)+(e.day-1)}getDaysInMonth(e){return e.year<Wt||e.year>gs?super.getDaysInMonth(e):Ei(e.year,e.month)}getDaysInYear(e){return e.year<Wt||e.year>gs?super.getDaysInYear(e):im(e.year)}constructor(){if(super(),this.identifier="islamic-umalqura",Vu||(Vu=new Uint16Array(Uint8Array.from(atob(WA),e=>e.charCodeAt(0)).buffer)),!Bs){Bs=new Uint32Array(gs-Wt+1);let e=0;for(let n=Wt;n<=gs;n++){Bs[n-Wt]=e;for(let r=1;r<=12;r++)e+=Ei(n,r)}}}}const om=347997,sb=1080,ib=24*sb,YA=29,qA=12*sb+793,GA=YA*ib+qA;function Br(t){return Ns(t*7+1,19)<7}function ba(t){let e=Math.floor((235*t-234)/19),n=12084+13753*e,r=e*29+Math.floor(n/25920);return Ns(3*(r+1),7)<3&&(r+=1),r}function JA(t){let e=ba(t-1),n=ba(t);return ba(t+1)-n===356?2:n-e===382?1:0}function Vi(t){return ba(t)+JA(t)}function ob(t){return Vi(t+1)-Vi(t)}function XA(t){let e=ob(t);switch(e>380&&(e-=30),e){case 353:return 0;case 354:return 1;case 355:return 2}}function Qo(t,e){if(e>=6&&!Br(t)&&e++,e===4||e===7||e===9||e===11||e===13)return 29;let n=XA(t);return e===2?n===2?30:29:e===3?n===0?29:30:e===6?Br(t)?30:0:30}class QA{fromJulianDay(e){let n=e-om,r=n*ib/GA,s=Math.floor((19*r+234)/235)+1,i=Vi(s),o=Math.floor(n-i);for(;o<1;)s--,i=Vi(s),o=Math.floor(n-i);let a=1,l=0;for(;l<o;)l+=Qo(s,a),a++;a--,l-=Qo(s,a);let c=o-l;return new nt(this,s,a,c)}toJulianDay(e){let n=Vi(e.year);for(let r=1;r<e.month;r++)n+=Qo(e.year,r);return n+e.day+om}getDaysInMonth(e){return Qo(e.year,e.month)}getMonthsInYear(e){return Br(e.year)?13:12}getDaysInYear(e){return ob(e.year)}getYearsInEra(){return 9999}getEras(){return["AM"]}balanceYearMonth(e,n){n.year!==e.year&&(Br(n.year)&&!Br(e.year)&&n.month>6?e.month--:!Br(n.year)&&Br(e.year)&&n.month>6&&e.month++)}constructor(){this.identifier="hebrew"}}const Hu=1723856,am=1824665,zu=5500;function Ja(t,e,n,r){return t+365*e+Math.floor(e/4)+30*(n-1)+r-1}function tf(t,e){let n=Math.floor(4*(e-t)/1461),r=1+Math.floor((e-Ja(t,n,1,1))/30),s=e+1-Ja(t,n,r,1);return[n,r,s]}function ab(t){return Math.floor(t%4/3)}function lb(t,e){return e%13!==0?30:ab(t)+5}class nf{fromJulianDay(e){let[n,r,s]=tf(Hu,e),i="AM";return n<=0&&(i="AA",n+=zu),new nt(this,i,n,r,s)}toJulianDay(e){let n=e.year;return e.era==="AA"&&(n-=zu),Ja(Hu,n,e.month,e.day)}getDaysInMonth(e){return lb(e.year,e.month)}getMonthsInYear(){return 13}getDaysInYear(e){return 365+ab(e.year)}getYearsInEra(e){return e.era==="AA"?9999:9991}getEras(){return["AA","AM"]}constructor(){this.identifier="ethiopic"}}class ZA extends nf{fromJulianDay(e){let[n,r,s]=tf(Hu,e);return n+=zu,new nt(this,"AA",n,r,s)}getEras(){return["AA"]}getYearsInEra(){return 9999}constructor(...e){super(...e),this.identifier="ethioaa"}}class eT extends nf{fromJulianDay(e){let[n,r,s]=tf(am,e),i="CE";return n<=0&&(i="BCE",n=1-n),new nt(this,i,n,r,s)}toJulianDay(e){let n=e.year;return e.era==="BCE"&&(n=1-n),Ja(am,n,e.month,e.day)}getDaysInMonth(e){let n=e.year;return e.era==="BCE"&&(n=1-n),lb(n,e.month)}isInverseEra(e){return e.era==="BCE"}balanceDate(e){e.year<=0&&(e.era=e.era==="BCE"?"CE":"BCE",e.year=1-e.year)}getEras(){return["BCE","CE"]}getYearsInEra(e){return e.era==="BCE"?9999:9715}constructor(...e){super(...e),this.identifier="coptic"}}function tT(t){switch(t){case"buddhist":return new BA;case"ethiopic":return new nf;case"ethioaa":return new ZA;case"coptic":return new eT;case"hebrew":return new QA;case"indian":return new VA;case"islamic-civil":return new ef;case"islamic-tbla":return new zA;case"islamic-umalqura":return new KA;case"japanese":return new LA;case"persian":return new jA;case"roc":return new UA;case"gregory":default:return new on}}let kc=new Map;class Fn{format(e){return this.formatter.format(e)}formatToParts(e){return this.formatter.formatToParts(e)}formatRange(e,n){if(typeof this.formatter.formatRange=="function")return this.formatter.formatRange(e,n);if(n<e)throw new RangeError("End date must be >= start date");return`${this.formatter.format(e)} – ${this.formatter.format(n)}`}formatRangeToParts(e,n){if(typeof this.formatter.formatRangeToParts=="function")return this.formatter.formatRangeToParts(e,n);if(n<e)throw new RangeError("End date must be >= start date");let r=this.formatter.formatToParts(e),s=this.formatter.formatToParts(n);return[...r.map(i=>({...i,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...s.map(i=>({...i,source:"endRange"}))]}resolvedOptions(){let e=this.formatter.resolvedOptions();return sT()&&(this.resolvedHourCycle||(this.resolvedHourCycle=iT(e.locale,this.options)),e.hourCycle=this.resolvedHourCycle,e.hour12=this.resolvedHourCycle==="h11"||this.resolvedHourCycle==="h12"),e.calendar==="ethiopic-amete-alem"&&(e.calendar="ethioaa"),e}constructor(e,n={}){this.formatter=cb(e,n),this.options=n}}const nT={true:{ja:"h11"},false:{}};function cb(t,e={}){if(typeof e.hour12=="boolean"&&rT()){e={...e};let s=nT[String(e.hour12)][t.split("-")[0]],i=e.hour12?"h12":"h23";e.hourCycle=s??i,delete e.hour12}let n=t+(e?Object.entries(e).sort((s,i)=>s[0]<i[0]?-1:1).join():"");if(kc.has(n))return kc.get(n);let r=new Intl.DateTimeFormat(t,e);return kc.set(n,r),r}let Oc=null;function rT(){return Oc==null&&(Oc=new Intl.DateTimeFormat("en-US",{hour:"numeric",hour12:!1}).format(new Date(2020,2,3,0))==="24"),Oc}let Rc=null;function sT(){return Rc==null&&(Rc=new Intl.DateTimeFormat("fr",{hour:"numeric",hour12:!1}).resolvedOptions().hourCycle==="h12"),Rc}function iT(t,e){if(!e.timeStyle&&!e.hour)return;t=t.replace(/(-u-)?-nu-[a-zA-Z0-9]+/,""),t+=(t.includes("-u-")?"":"-u")+"-nu-latn";let n=cb(t,{...e,timeZone:void 0}),r=parseInt(n.formatToParts(new Date(2020,2,3,0)).find(i=>i.type==="hour").value,10),s=parseInt(n.formatToParts(new Date(2020,2,3,23)).find(i=>i.type==="hour").value,10);if(r===0&&s===23)return"h23";if(r===24&&s===23)return"h24";if(r===0&&s===11)return"h11";if(r===12&&s===11)return"h12";throw new Error("Unexpected hour cycle result")}function oT(t){const e=t.querySelector("[data-selected]");if(e)return e.focus();const n=t.querySelector("[data-today]");if(n)return n.focus();const r=t.querySelector("[data-reka-calendar-day]");if(r)return r.focus()}function aT(t,e){const n=[];for(let r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n}function lT(t){const{defaultValue:e,defaultPlaceholder:n,granularity:r="day",locale:s="en"}=t;if(Array.isArray(e)&&e.length)return e.at(-1).copy();if(e&&!Array.isArray(e))return e.copy();if(n)return n.copy();const i=new Date,o=i.getFullYear(),a=i.getMonth()+1,l=i.getDate(),c=["hour","minute","second"],u=new Fn(s),d=tT(u.resolvedOptions().calendar);return c.includes(r??"day")?$t(new Xs(o,a,l,0,0,0),d):$t(new nt(o,a,l),d)}function yn(t,e=_o()){return rf(t)?t.toDate():t.toDate(e)}function cT(t){return t instanceof Xs}function rf(t){return t instanceof Qs}function uT(t){return cT(t)||rf(t)}function Zr(t){if(t instanceof Date){const e=t.getFullYear(),n=t.getMonth()+1;return new Date(e,n,0).getDate()}else return t.set({day:100}).day}function $c(t,e){return t.compare(e)<0}function Pc(t,e){return t.compare(e)>0}function dT(t,e,n){const r=Vv(t,n);return e>r?t.subtract({days:r+7-e}):e===r?t:t.subtract({days:r-e})}function fT(t,e,n){const r=Vv(t,n),s=e===0?6:e-1;return r===s?t:r>s?t.add({days:7-r+s}):t.add({days:s-r})}function lm(t,e){const n=[];let r=t.add({days:1});const s=e;for(;r.compare(s)<0;)n.push(r),r=r.add({days:1});return n}function Dc(t){const{dateObj:e,weekStartsOn:n,fixedWeeks:r,locale:s}=t,i=Zr(e),o=Array.from({length:i},(_,b)=>e.set({day:b+1})),a=Lu(e),l=zp(e),c=dT(a,n,s),u=fT(l,n,s),d=lm(c.subtract({days:1}),a),f=lm(l,u.add({days:1})),h=d.length+o.length+f.length;if(r&&h<42){const _=42-h;let b=f[f.length-1];b||(b=zp(e));const C=Array.from({length:_},(y,g)=>{const E=g+1;return b.add({days:E})});f.push(...C)}const m=d.concat(o,f),p=aT(m,7);return{value:e,cells:m,rows:p}}function Mr(t){const{numberOfMonths:e,dateObj:n,...r}=t,s=[];if(!e||e===1)return s.push(Dc({...r,dateObj:n})),s;s.push(Dc({...r,dateObj:n}));for(let i=1;i<e;i++){const o=n.add({months:i});s.push(Dc({...r,dateObj:o}))}return s}function hT(t){const e=te(t);function n(){return e.value}function r(p){e.value=p}function s(p,_){return new Fn(e.value,_).format(p)}function i(p,_=!0){return uT(p)&&_?s(yn(p),{dateStyle:"long",timeStyle:"long"}):s(yn(p),{dateStyle:"long"})}function o(p,_={}){return new Fn(e.value,{month:"long",year:"numeric",..._}).format(p)}function a(p,_={}){return new Fn(e.value,{month:"long",..._}).format(p)}function l(){const p=Hv(_o());return[1,2,3,4,5,6,7,8,9,10,11,12].map(b=>({label:a(yn(p.set({month:b}))),value:b}))}function c(p,_={}){return new Fn(e.value,{year:"numeric",..._}).format(p)}function u(p,_){return rf(p)?new Fn(e.value,{..._,timeZone:p.timeZone}).formatToParts(yn(p)):new Fn(e.value,_).formatToParts(yn(p))}function d(p,_="narrow"){return new Fn(e.value,{weekday:_}).format(p)}function f(p){var C;return((C=new Fn(e.value,{hour:"numeric",minute:"numeric"}).formatToParts(p).find(y=>y.type==="dayPeriod"))==null?void 0:C.value)==="PM"?"PM":"AM"}const h={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};function m(p,_,b={}){const C={...h,...b},g=u(p,C).find(E=>E.type===_);return g?g.value:""}return{setLocale:r,getLocale:n,fullMonth:a,fullYear:c,fullMonthAndYear:o,toParts:u,custom:s,part:m,dayPeriod:f,selectedDate:i,dayOfWeek:d,getMonths:l}}function pT(t){function e(r){return Array.isArray(t.date.value)?t.date.value.some(s=>Xr(s,r)):t.date.value?Xr(t.date.value,r):!1}const n=H(()=>{var r,s,i,o;if(Array.isArray(t.date.value)){if(!t.date.value.length)return!1;for(const a of t.date.value)if((r=t.isDateDisabled)!=null&&r.call(t,a)||(s=t.isDateUnavailable)!=null&&s.call(t,a))return!0}else{if(!t.date.value)return!1;if((i=t.isDateDisabled)!=null&&i.call(t,t.date.value)||(o=t.isDateUnavailable)!=null&&o.call(t,t.date.value))return!0}return!1});return{isDateSelected:e,isInvalid:n}}function mT(t,e){const n=e(t),r=n.compare(t),s={};return r>=7&&(s.day=1),r>=Zr(t)&&(s.month=1),n.set({...s})}function gT(t,e){const n=e(t),r=t.compare(n),s={};return r>=7&&(s.day=35),r>=Zr(t)&&(s.month=13),n.set({...s})}function yT(t,e){return e(t)}function vT(t,e){return e(t)}function bT(t){const e=hT(t.locale.value),n=H(()=>{const p={calendar:t.placeholder.value.calendar.identifier};return t.placeholder.value.calendar.identifier==="gregory"&&t.placeholder.value.era==="BC"&&(p.era="short"),p}),r=te(Mr({dateObj:t.placeholder.value,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value})),s=H(()=>r.value.map(p=>p.value));function i(p){return!s.value.some(_=>Vp(p,_))}const o=p=>{if(!t.maxValue.value||!r.value.length)return!1;if(t.disabled.value)return!0;const _=r.value[r.value.length-1].value;if(!p&&!t.nextPage.value){const C=_.add({months:1}).set({day:1});return Pc(C,t.maxValue.value)}const b=mT(_,p||t.nextPage.value);return Pc(b,t.maxValue.value)},a=p=>{if(!t.minValue.value||!r.value.length)return!1;if(t.disabled.value)return!0;const _=r.value[0].value;if(!p&&!t.prevPage.value){const C=_.subtract({months:1}).set({day:35});return $c(C,t.minValue.value)}const b=gT(_,p||t.prevPage.value);return $c(b,t.minValue.value)};function l(p){var _;return!!((_=t.isDateDisabled)!=null&&_.call(t,p)||t.disabled.value||t.maxValue.value&&Pc(p,t.maxValue.value)||t.minValue.value&&$c(p,t.minValue.value))}const c=p=>{var _;return!!((_=t.isDateUnavailable)!=null&&_.call(t,p))},u=H(()=>r.value.length?r.value[0].rows[0].map(p=>e.dayOfWeek(yn(p),t.weekdayFormat.value)):[]),d=p=>{const _=r.value[0].value;if(!p&&!t.nextPage.value){const g=_.add({months:t.pagedNavigation.value?t.numberOfMonths.value:1}),E=Mr({dateObj:g,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value});r.value=E,t.placeholder.value=E[0].value.set({day:1});return}const b=yT(_,p||t.nextPage.value),C=Mr({dateObj:b,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value});r.value=C;const y={};if(!p){const g=C[0].value.compare(_);g>=Zr(_)&&(y.day=1),g>=365&&(y.month=1)}t.placeholder.value=C[0].value.set({...y})},f=p=>{const _=r.value[0].value;if(!p&&!t.prevPage.value){const g=_.subtract({months:t.pagedNavigation.value?t.numberOfMonths.value:1}),E=Mr({dateObj:g,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value});r.value=E,t.placeholder.value=E[0].value.set({day:1});return}const b=vT(_,p||t.prevPage.value),C=Mr({dateObj:b,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value});r.value=C;const y={};if(!p){const g=_.compare(C[0].value);g>=Zr(_)&&(y.day=1),g>=365&&(y.month=1)}t.placeholder.value=C[0].value.set({...y})};Te(t.placeholder,p=>{s.value.some(_=>Vp(_,p))||(r.value=Mr({dateObj:p,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value}))}),Te([t.locale,t.weekStartsOn,t.fixedWeeks,t.numberOfMonths],()=>{r.value=Mr({dateObj:t.placeholder.value,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value})});const h=H(()=>{if(!r.value.length)return"";if(t.locale.value!==e.getLocale()&&e.setLocale(t.locale.value),r.value.length===1){const A=r.value[0].value;return`${e.fullMonthAndYear(yn(A),n.value)}`}const p=yn(r.value[0].value),_=yn(r.value[r.value.length-1].value),b=e.fullMonth(p,n.value),C=e.fullMonth(_,n.value),y=e.fullYear(p,n.value),g=e.fullYear(_,n.value);return y===g?`${b} - ${C} ${g}`:`${b} ${y} - ${C} ${g}`}),m=H(()=>`${t.calendarLabel.value??"Event Date"}, ${h.value}`);return{isDateDisabled:l,isDateUnavailable:c,isNextButtonDisabled:o,isPrevButtonDisabled:a,grid:r,weekdays:u,visibleView:s,isOutsideVisibleView:i,formatter:e,nextPage:d,prevPage:f,headingValue:h,fullCalendarLabel:m}}function ro(){const t=te(),e=H(()=>{var n,r;return["#text","#comment"].includes((n=t.value)==null?void 0:n.$el.nodeName)?(r=t.value)==null?void 0:r.$el.nextElementSibling:is(t)});return{primitiveElement:t,currentElement:e}}function _T(t){const e=Rl({locale:te("en")});return H(()=>{var n;return(t==null?void 0:t.value)||((n=e.locale)==null?void 0:n.value)||"en"})}const wT={style:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute","white-space":"nowrap",width:"1px"}},CT={role:"heading","aria-level":"2"},[ai,xT]=Ar("CalendarRoot"),ET=Z({__name:"CalendarRoot",props:{modelValue:{},multiple:{type:Boolean,default:!1},defaultValue:{default:void 0},defaultPlaceholder:{},placeholder:{default:void 0},pagedNavigation:{type:Boolean,default:!1},preventDeselect:{type:Boolean,default:!1},weekStartsOn:{default:0},weekdayFormat:{default:"narrow"},calendarLabel:{},fixedWeeks:{type:Boolean,default:!1},maxValue:{},minValue:{},locale:{},numberOfMonths:{default:1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},initialFocus:{type:Boolean,default:!1},isDateDisabled:{type:Function,default:void 0},isDateUnavailable:{type:Function,default:void 0},dir:{},nextPage:{},prevPage:{},asChild:{type:Boolean},as:{default:"div"}},emits:["update:modelValue","update:placeholder"],setup(t,{emit:e}){const n=t,r=e,{disabled:s,readonly:i,initialFocus:o,pagedNavigation:a,weekStartsOn:l,weekdayFormat:c,fixedWeeks:u,multiple:d,minValue:f,maxValue:h,numberOfMonths:m,preventDeselect:p,isDateDisabled:_,isDateUnavailable:b,calendarLabel:C,defaultValue:y,nextPage:g,prevPage:E,dir:A,locale:R}=Wn(n),{primitiveElement:O,currentElement:x}=ro(),j=_T(R),V=IS(A),U=Wa(n,"modelValue",r,{defaultValue:y.value,passive:n.modelValue===void 0}),re=lT({defaultPlaceholder:n.placeholder,defaultValue:U.value,locale:n.locale}),se=Wa(n,"placeholder",r,{defaultValue:n.defaultPlaceholder??re.copy(),passive:n.placeholder===void 0});function P(G){se.value=G.copy()}const{fullCalendarLabel:I,headingValue:F,isDateDisabled:N,isDateUnavailable:le,isNextButtonDisabled:ce,isPrevButtonDisabled:Re,weekdays:Se,isOutsideVisibleView:Ae,nextPage:ge,prevPage:Ie,formatter:je,grid:w}=bT({locale:j,placeholder:se,weekStartsOn:l,fixedWeeks:u,numberOfMonths:m,minValue:f,maxValue:h,disabled:s,weekdayFormat:c,pagedNavigation:a,isDateDisabled:_.value,isDateUnavailable:b.value,calendarLabel:C,nextPage:g,prevPage:E}),{isInvalid:v,isDateSelected:D}=pT({date:U,isDateDisabled:N,isDateUnavailable:le});Te(U,G=>{if(Array.isArray(G)&&G.length){const T=G[G.length-1];T&&!Ec(se.value,T)&&P(T)}else!Array.isArray(G)&&G&&!Ec(se.value,G)&&P(G)});function $(G){if(d.value){if(!U.value)U.value=[G.copy()];else if(Array.isArray(U.value)){if(U.value.findIndex(k=>Xr(k,G))===-1)U.value=[...U.value,G];else if(!p.value){const k=U.value.filter(M=>!Xr(M,G));if(!k.length){se.value=G.copy(),U.value=void 0;return}U.value=k.map(M=>M.copy())}}}else{if(!U.value){U.value=G.copy();return}!p.value&&Ec(U.value,G)?(se.value=G.copy(),U.value=void 0):U.value=G.copy()}}return ns(()=>{o.value&&oT(x.value)}),xT({isDateUnavailable:le,dir:V,isDateDisabled:N,locale:j,formatter:je,modelValue:U,placeholder:se,disabled:s,initialFocus:o,pagedNavigation:a,grid:w,weekDays:Se,weekStartsOn:l,weekdayFormat:c,fixedWeeks:u,multiple:d,numberOfMonths:m,readonly:i,preventDeselect:p,fullCalendarLabel:I,headingValue:F,isInvalid:v,isDateSelected:D,isNextButtonDisabled:ce,isPrevButtonDisabled:Re,isOutsideVisibleView:Ae,nextPage:ge,prevPage:Ie,parentElement:x,onPlaceholderChange:P,onDateChange:$}),(G,T)=>(K(),ee(S(Ye),{ref_key:"primitiveElement",ref:O,as:G.as,"as-child":G.asChild,role:"application","aria-label":S(I),"data-readonly":S(i)?"":void 0,"data-disabled":S(s)?"":void 0,"data-invalid":S(v)?"":void 0,dir:S(V)},{default:W(()=>[he(G.$slots,"default",{date:S(se),grid:S(w),weekDays:S(Se),weekStartsOn:S(l),locale:S(j),fixedWeeks:S(u),modelValue:S(U)}),De("div",wT,[De("div",CT,ot(S(I)),1)])]),_:3},8,["as","as-child","aria-label","data-readonly","data-disabled","data-invalid","dir"]))}}),ST=Z({__name:"CalendarHeader",props:{asChild:{type:Boolean},as:{default:"div"}},setup(t){const e=t;return(n,r)=>(K(),ee(S(Ye),ti(rs(e)),{default:W(()=>[he(n.$slots,"default")]),_:3},16))}}),AT=Z({__name:"CalendarHeading",props:{asChild:{type:Boolean},as:{default:"div"}},setup(t){const e=t,n=ai();return(r,s)=>(K(),ee(S(Ye),ke(e,{"data-disabled":S(n).disabled.value?"":void 0}),{default:W(()=>[he(r.$slots,"default",{headingValue:S(n).headingValue.value},()=>[mt(ot(S(n).headingValue.value),1)])]),_:3},16,["data-disabled"]))}}),TT=Z({__name:"CalendarGrid",props:{asChild:{type:Boolean},as:{default:"table"}},setup(t){const e=t,n=ai(),r=H(()=>n.disabled.value?!0:void 0),s=H(()=>n.readonly.value?!0:void 0);return(i,o)=>(K(),ee(S(Ye),ke(e,{tabindex:"-1",role:"grid","aria-readonly":s.value,"aria-disabled":r.value,"data-readonly":s.value&&"","data-disabled":r.value&&""}),{default:W(()=>[he(i.$slots,"default")]),_:3},16,["aria-readonly","aria-disabled","data-readonly","data-disabled"]))}}),kT=Z({__name:"CalendarCell",props:{date:{},asChild:{type:Boolean},as:{default:"td"}},setup(t){const e=ai();return(n,r)=>{var s,i;return K(),ee(S(Ye),{as:n.as,"as-child":n.asChild,role:"gridcell","aria-selected":S(e).isDateSelected(n.date)?!0:void 0,"aria-disabled":S(e).isDateDisabled(n.date)||((i=(s=S(e)).isDateUnavailable)==null?void 0:i.call(s,n.date)),"data-disabled":S(e).isDateDisabled(n.date)?"":void 0},{default:W(()=>[he(n.$slots,"default")]),_:3},8,["as","as-child","aria-selected","aria-disabled","data-disabled"])}}}),OT=Z({__name:"CalendarHeadCell",props:{asChild:{type:Boolean},as:{default:"th"}},setup(t){const e=t;return(n,r)=>(K(),ee(S(Ye),ti(rs(e)),{default:W(()=>[he(n.$slots,"default")]),_:3},16))}}),RT=Z({__name:"CalendarNext",props:{nextPage:{},asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t,n=H(()=>r.disabled.value||r.isNextButtonDisabled(e.nextPage)),r=ai();return(s,i)=>(K(),ee(S(Ye),{as:e.as,"as-child":e.asChild,"aria-label":"Next page",type:s.as==="button"?"button":void 0,"aria-disabled":n.value||void 0,"data-disabled":n.value||void 0,disabled:n.value,onClick:i[0]||(i[0]=o=>S(r).nextPage(e.nextPage))},{default:W(()=>[he(s.$slots,"default",{disabled:n.value},()=>[i[1]||(i[1]=mt(" Next page "))])]),_:3},8,["as","as-child","type","aria-disabled","data-disabled","disabled"]))}}),$T=Z({__name:"CalendarPrev",props:{prevPage:{},asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t,n=H(()=>r.disabled.value||r.isPrevButtonDisabled(e.prevPage)),r=ai();return(s,i)=>(K(),ee(S(Ye),{"aria-label":"Previous page",as:e.as,"as-child":e.asChild,type:s.as==="button"?"button":void 0,"aria-disabled":n.value||void 0,"data-disabled":n.value||void 0,disabled:n.value,onClick:i[0]||(i[0]=o=>S(r).prevPage(e.prevPage))},{default:W(()=>[he(s.$slots,"default",{disabled:n.value},()=>[i[1]||(i[1]=mt(" Prev page "))])]),_:3},8,["as","as-child","type","aria-disabled","data-disabled","disabled"]))}}),PT=Z({__name:"CalendarGridHead",props:{asChild:{type:Boolean},as:{default:"thead"}},setup(t){const e=t;return(n,r)=>(K(),ee(S(Ye),ke(e,{"aria-hidden":"true"}),{default:W(()=>[he(n.$slots,"default")]),_:3},16))}}),DT=Z({__name:"CalendarGridBody",props:{asChild:{type:Boolean},as:{default:"tbody"}},setup(t){const e=t;return(n,r)=>(K(),ee(S(Ye),ti(rs(e)),{default:W(()=>[he(n.$slots,"default")]),_:3},16))}}),MT=Z({__name:"CalendarGridRow",props:{asChild:{type:Boolean},as:{default:"tr"}},setup(t){const e=t;return(n,r)=>(K(),ee(S(Ye),ti(rs(e)),{default:W(()=>[he(n.$slots,"default")]),_:3},16))}}),IT="[data-reka-calendar-cell-trigger]:not([data-outside-view]):not([data-outside-visible-view])";function Mc(t){return Array.from(t.querySelectorAll(IT))??[]}function FT(){return{ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",SPACE_CODE:"Space"}}const NT=Z({__name:"CalendarCellTrigger",props:{day:{},month:{},asChild:{type:Boolean},as:{default:"div"}},setup(t){const e=t,n=FT(),r=ai(),{primitiveElement:s,currentElement:i}=ro(),o=H(()=>e.day.day.toLocaleString(r.locale.value)),a=H(()=>r.formatter.custom(yn(e.day),{weekday:"long",month:"long",day:"numeric",year:"numeric"})),l=H(()=>r.isDateDisabled(e.day)),c=H(()=>{var C;return((C=r.isDateUnavailable)==null?void 0:C.call(r,e.day))??!1}),u=H(()=>fA(e.day,_o())),d=H(()=>!jv(e.day,e.month)),f=H(()=>r.isOutsideVisibleView(e.day)),h=H(()=>!r.disabled.value&&Xr(e.day,r.placeholder.value)),m=H(()=>r.isDateSelected(e.day));function p(C){var y;r.readonly.value||r.isDateDisabled(C)||(y=r.isDateUnavailable)!=null&&y.call(r,C)||r.onDateChange(C)}function _(){p(e.day)}function b(C){C.preventDefault(),C.stopPropagation();const y=r.parentElement.value,g=7,E=r.dir.value==="rtl"?-1:1;switch(C.code){case n.ARROW_RIGHT:A(i.value,E);break;case n.ARROW_LEFT:A(i.value,-E);break;case n.ARROW_UP:A(i.value,-7);break;case n.ARROW_DOWN:A(i.value,g);break;case n.ENTER:case n.SPACE_CODE:p(e.day)}function A(R,O){const x=Mc(y);if(!x.length)return;const V=x.indexOf(R)+O;if(V>=0&&V<x.length){x[V].hasAttribute("data-disabled")&&A(x[V],O),x[V].focus();return}if(V<0){if(r.isPrevButtonDisabled())return;r.prevPage(),Dt(()=>{const U=Mc(y);if(!U.length)return;if(!r.pagedNavigation.value&&r.numberOfMonths.value>1){const P=Zr(r.placeholder.value)-Math.abs(V);U[P].hasAttribute("data-disabled")&&A(U[P],O),U[P].focus();return}const re=U.length-Math.abs(V);U[re].hasAttribute("data-disabled")&&A(U[re],O),U[re].focus()});return}if(V>=x.length){if(r.isNextButtonDisabled())return;r.nextPage(),Dt(()=>{const U=Mc(y);if(!U.length)return;if(!r.pagedNavigation.value&&r.numberOfMonths.value>1){const se=Zr(r.placeholder.value.add({months:r.numberOfMonths.value-1})),P=V-x.length+(U.length-se);U[P].hasAttribute("data-disabled")&&A(U[P],O),U[P].focus();return}const re=V-x.length;U[re].hasAttribute("data-disabled")&&A(U[re],O),U[re].focus()})}}}return(C,y)=>(K(),ee(S(Ye),ke({ref_key:"primitiveElement",ref:s},e,{role:"button","aria-label":a.value,"data-reka-calendar-cell-trigger":"","aria-disabled":l.value||c.value?!0:void 0,"data-selected":m.value?!0:void 0,"data-value":C.day.toString(),"data-disabled":l.value?"":void 0,"data-unavailable":c.value?"":void 0,"data-today":u.value?"":void 0,"data-outside-view":d.value?"":void 0,"data-outside-visible-view":f.value?"":void 0,"data-focused":h.value?"":void 0,tabindex:h.value?0:d.value||l.value?void 0:-1,onClick:_,onKeydown:[Ws(b,["up","down","left","right","space","enter"]),y[0]||(y[0]=Ws(ja(()=>{},["prevent"]),["enter"]))]}),{default:W(()=>[he(C.$slots,"default",{dayValue:o.value,disabled:l.value,today:u.value,selected:m.value,outsideView:d.value,outsideVisibleView:f.value,unavailable:c.value},()=>[mt(ot(o.value),1)])]),_:3},16,["aria-label","aria-disabled","data-selected","data-value","data-disabled","data-unavailable","data-today","data-outside-view","data-outside-visible-view","data-focused","tabindex"]))}});function LT(t){return H(()=>{var e;return TS(t)?!!((e=is(t))!=null&&e.closest("form")):!0})}const BT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function UT(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function jT(t,e,n){const r=UT(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return BT[r]}function VT(t,e=!1){const n=mr();for(const r of t)if(r===n||(r.focus({preventScroll:e}),mr()!==n))return}function HT(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const cm="data-reka-collection-item";function zT(t={}){const{key:e="",isProvider:n=!1}=t,r=`${e}CollectionProvider`;let s;if(n){const u=te(new Map);s={collectionRef:te(),itemMap:u},Is(r,s)}else s=Vt(r);const i=(u=!1)=>{const d=s.collectionRef.value;if(!d)return[];const f=Array.from(d.querySelectorAll(`[${cm}]`)),m=Array.from(s.itemMap.value.values()).sort((p,_)=>f.indexOf(p.ref)-f.indexOf(_.ref));return u?m:m.filter(p=>p.ref.dataset.disabled!=="")},o=Z({name:"CollectionSlot",setup(u,{slots:d}){const{primitiveElement:f,currentElement:h}=ro();return Te(h,()=>{s.collectionRef.value=h.value}),()=>en(Mu,{ref:f},d)}}),a=Z({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(u,{slots:d,attrs:f}){const{primitiveElement:h,currentElement:m}=ro();return En(p=>{if(m.value){const _=yl(m.value);s.itemMap.value.set(_,{ref:m.value,value:u.value}),p(()=>s.itemMap.value.delete(_))}}),()=>en(Mu,{...f,[cm]:"",ref:h},d)}}),l=H(()=>Array.from(s.itemMap.value.values())),c=H(()=>s.itemMap.value.size);return{getItems:i,reactiveItems:l,itemMapSize:c,CollectionSlot:o,CollectionItem:a}}const[WT,t2]=Ar("RovingFocusGroup"),um=Z({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(t){const e=t,{primitiveElement:n,currentElement:r}=ro(),s=H(()=>e.checked??e.value);return Te(s,(i,o)=>{if(!r.value)return;const a=r.value,l=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(u&&i!==o){const d=new Event("input",{bubbles:!0}),f=new Event("change",{bubbles:!0});u.call(a,i),a.dispatchEvent(d),a.dispatchEvent(f)}}),(i,o)=>(K(),ee(mS,ke({ref_key:"primitiveElement",ref:n},{...e,...i.$attrs},{as:"input"}),null,16))}}),KT=Z({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(t){const e=t,n=H(()=>typeof e.value=="object"&&Array.isArray(e.value)&&e.value.length===0&&e.required),r=H(()=>typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"?[{name:e.name,value:e.value}]:typeof e.value=="object"&&Array.isArray(e.value)?e.value.flatMap((s,i)=>typeof s=="object"?Object.entries(s).map(([o,a])=>({name:`[${e.name}][${i}][${o}]`,value:a})):{name:`[${e.name}][${i}]`,value:s}):e.value!==null&&typeof e.value=="object"&&!Array.isArray(e.value)?Object.entries(e.value).map(([s,i])=>({name:`[${e.name}][${s}]`,value:i})):[]);return(s,i)=>n.value?(K(),ee(um,ke({key:s.name},{...e,...s.$attrs},{name:s.name,value:s.value}),null,16,["name","value"])):(K(!0),He(tt,{key:1},Vr(r.value,o=>(K(),ee(um,ke({key:o.name,ref_for:!0},{...e,...s.$attrs},{name:o.name,value:o.value}),null,16,["name","value"]))),128))}}),[YT,n2]=Ar("CheckboxGroupRoot");function Xa(t){return t==="indeterminate"}function ub(t){return Xa(t)?"indeterminate":t?"checked":"unchecked"}const qT=Z({__name:"RovingFocusItem",props:{tabStopId:{},focusable:{type:Boolean,default:!0},active:{type:Boolean},allowShiftKey:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(t){const e=t,n=WT(),r=qd(),s=H(()=>e.tabStopId||r),i=H(()=>n.currentTabStopId.value===s.value),{getItems:o,CollectionItem:a}=zT();ns(()=>{e.focusable&&n.onFocusableItemAdd()}),ni(()=>{e.focusable&&n.onFocusableItemRemove()});function l(c){if(c.key==="Tab"&&c.shiftKey){n.onItemShiftTab();return}if(c.target!==c.currentTarget)return;const u=jT(c,n.orientation.value,n.dir.value);if(u!==void 0){if(c.metaKey||c.ctrlKey||c.altKey||!e.allowShiftKey&&c.shiftKey)return;c.preventDefault();let d=[...o().map(f=>f.ref).filter(f=>f.dataset.disabled!=="")];if(u==="last")d.reverse();else if(u==="prev"||u==="next"){u==="prev"&&d.reverse();const f=d.indexOf(c.currentTarget);d=n.loop.value?HT(d,f+1):d.slice(f+1)}Dt(()=>VT(d))}}return(c,u)=>(K(),ee(S(a),null,{default:W(()=>[q(S(Ye),{tabindex:i.value?0:-1,"data-orientation":S(n).orientation.value,"data-active":c.active?"":void 0,"data-disabled":c.focusable?void 0:"",as:c.as,"as-child":c.asChild,onMousedown:u[0]||(u[0]=d=>{c.focusable?S(n).onItemFocus(s.value):d.preventDefault()}),onFocus:u[1]||(u[1]=d=>S(n).onItemFocus(s.value)),onKeydown:l},{default:W(()=>[he(c.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),[GT,JT]=Ar("CheckboxRoot"),XT=Z({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null],default:void 0},disabled:{type:Boolean},value:{default:"on"},id:{},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,r=e,{forwardRef:s,currentElement:i}=Tn(),o=YT(null),a=Wa(n,"modelValue",r,{defaultValue:n.defaultValue,passive:n.modelValue===void 0}),l=H(()=>(o==null?void 0:o.disabled.value)||n.disabled),c=H(()=>Fu(o==null?void 0:o.modelValue.value)?a.value==="indeterminate"?"indeterminate":a.value:Lp(o.modelValue.value,n.value));function u(){if(Fu(o==null?void 0:o.modelValue.value))a.value=Xa(a.value)?!0:!a.value;else{const h=[...o.modelValue.value||[]];if(Lp(h,n.value)){const m=h.findIndex(p=>Iu(p,n.value));h.splice(m,1)}else h.push(n.value);o.modelValue.value=h}}const d=LT(i),f=H(()=>{var h;return n.id&&i.value?(h=document.querySelector(`[for="${n.id}"]`))==null?void 0:h.innerText:void 0});return JT({disabled:l,state:c}),(h,m)=>{var p,_;return K(),ee(vy((p=S(o))!=null&&p.rovingFocus.value?S(qT):S(Ye)),ke(h.$attrs,{id:h.id,ref:S(s),role:"checkbox","as-child":h.asChild,as:h.as,type:h.as==="button"?"button":void 0,"aria-checked":S(Xa)(c.value)?"mixed":c.value,"aria-required":h.required,"aria-label":h.$attrs["aria-label"]||f.value,"data-state":S(ub)(c.value),"data-disabled":l.value?"":void 0,disabled:l.value,focusable:(_=S(o))!=null&&_.rovingFocus.value?!l.value:void 0,onKeydown:Ws(ja(()=>{},["prevent"]),["enter"]),onClick:u}),{default:W(()=>[he(h.$slots,"default",{modelValue:S(a),state:c.value}),S(d)&&h.name&&!S(o)?(K(),ee(S(KT),{key:0,type:"checkbox",checked:!!c.value,name:h.name,value:h.value,disabled:l.value,required:h.required},null,8,["checked","name","value","disabled","required"])):Yn("",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"])}}}),QT=Z({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(t){const{forwardRef:e}=Tn(),n=GT();return(r,s)=>(K(),ee(S(Mv),{present:r.forceMount||S(Xa)(S(n).state.value)||S(n).state.value===!0},{default:W(()=>[q(S(Ye),ke({ref:S(e),"data-state":S(ub)(S(n).state.value),"data-disabled":S(n).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":r.asChild,as:r.as},r.$attrs),{default:W(()=>[he(r.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),[db,ZT]=Ar("PopperRoot"),ek=Z({inheritAttrs:!1,__name:"PopperRoot",setup(t){const e=te();return ZT({anchor:e,onAnchorChange:n=>e.value=n}),(n,r)=>he(n.$slots,"default")}}),tk=Z({__name:"PopperAnchor",props:{reference:{},asChild:{type:Boolean},as:{}},setup(t){const e=t,{forwardRef:n,currentElement:r}=Tn(),s=db();return My(()=>{s.onAnchorChange(e.reference??r.value)}),(i,o)=>(K(),ee(S(Ye),{ref:S(n),as:i.as,"as-child":i.asChild},{default:W(()=>[he(i.$slots,"default")]),_:3},8,["as","as-child"]))}});function nk(t){return t!==null}function rk(t){return{name:"transformOrigin",options:t,fn(e){var _,b,C;const{placement:n,rects:r,middlewareData:s}=e,o=((_=s.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=Wu(n),d={start:"0%",center:"50%",end:"100%"}[u],f=(((b=s.arrow)==null?void 0:b.x)??0)+a/2,h=(((C=s.arrow)==null?void 0:C.y)??0)+l/2;let m="",p="";return c==="bottom"?(m=o?d:`${f}px`,p=`${-l}px`):c==="top"?(m=o?d:`${f}px`,p=`${r.floating.height+l}px`):c==="right"?(m=`${-l}px`,p=o?d:`${h}px`):c==="left"&&(m=`${r.floating.width+l}px`,p=o?d:`${h}px`),{data:{x:m,y:p}}}}}function Wu(t){const[e,n="center"]=t.split("-");return[e,n]}function sk(t){const e=te(),n=H(()=>{var s;return((s=e.value)==null?void 0:s.width)??0}),r=H(()=>{var s;return((s=e.value)==null?void 0:s.height)??0});return ns(()=>{const s=is(t);if(s){e.value={width:s.offsetWidth,height:s.offsetHeight};const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let l,c;if("borderBoxSize"in a){const u=a.borderBoxSize,d=Array.isArray(u)?u[0]:u;l=d.inlineSize,c=d.blockSize}else l=s.offsetWidth,c=s.offsetHeight;e.value={width:l,height:c}});return i.observe(s,{box:"border-box"}),()=>i.unobserve(s)}else e.value=void 0}),{width:n,height:r}}const ik={side:"bottom",sideOffset:0,align:"center",alignOffset:0,arrowPadding:0,avoidCollisions:!0,collisionBoundary:()=>[],collisionPadding:0,sticky:"partial",hideWhenDetached:!1,positionStrategy:"fixed",updatePositionStrategy:"optimized",prioritizePosition:!1},[r2,ok]=Ar("PopperContent"),ak=Z({inheritAttrs:!1,__name:"PopperContent",props:iC({side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},{...ik}),emits:["placed"],setup(t,{emit:e}){const n=t,r=e,s=db(),{forwardRef:i,currentElement:o}=Tn(),a=te(),l=te(),{width:c,height:u}=sk(l),d=H(()=>n.side+(n.align!=="center"?`-${n.align}`:"")),f=H(()=>typeof n.collisionPadding=="number"?n.collisionPadding:{top:0,right:0,bottom:0,left:0,...n.collisionPadding}),h=H(()=>Array.isArray(n.collisionBoundary)?n.collisionBoundary:[n.collisionBoundary]),m=H(()=>({padding:f.value,boundary:h.value.filter(nk),altBoundary:h.value.length>0})),p=gS(()=>[sS({mainAxis:n.sideOffset+u.value,alignmentAxis:n.alignOffset}),n.prioritizePosition&&n.avoidCollisions&&Mp({...m.value}),n.avoidCollisions&&iS({mainAxis:!0,crossAxis:!!n.prioritizePosition,limiter:n.sticky==="partial"?cS():void 0,...m.value}),!n.prioritizePosition&&n.avoidCollisions&&Mp({...m.value}),oS({...m.value,apply:({elements:V,rects:U,availableWidth:re,availableHeight:se})=>{const{width:P,height:I}=U.reference,F=V.floating.style;F.setProperty("--reka-popper-available-width",`${re}px`),F.setProperty("--reka-popper-available-height",`${se}px`),F.setProperty("--reka-popper-anchor-width",`${P}px`),F.setProperty("--reka-popper-anchor-height",`${I}px`)}}),l.value&&fS({element:l.value,padding:n.arrowPadding}),rk({arrowWidth:c.value,arrowHeight:u.value}),n.hideWhenDetached&&aS({strategy:"referenceHidden",...m.value})]),_=H(()=>n.reference??s.anchor.value),{floatingStyles:b,placement:C,isPositioned:y,middlewareData:g}=hS(_,a,{strategy:n.positionStrategy,placement:d,whileElementsMounted:(...V)=>rS(...V,{layoutShift:!n.disableUpdateOnLayoutShift,animationFrame:n.updatePositionStrategy==="always"}),middleware:p}),E=H(()=>Wu(C.value)[0]),A=H(()=>Wu(C.value)[1]);My(()=>{y.value&&r("placed")});const R=H(()=>{var V;return((V=g.value.arrow)==null?void 0:V.centerOffset)!==0}),O=te("");En(()=>{o.value&&(O.value=window.getComputedStyle(o.value).zIndex)});const x=H(()=>{var V;return((V=g.value.arrow)==null?void 0:V.x)??0}),j=H(()=>{var V;return((V=g.value.arrow)==null?void 0:V.y)??0});return ok({placedSide:E,onArrowChange:V=>l.value=V,arrowX:x,arrowY:j,shouldHideArrow:R}),(V,U)=>{var re,se,P;return K(),He("div",{ref_key:"floatingRef",ref:a,"data-reka-popper-content-wrapper":"",style:ei({...S(b),transform:S(y)?S(b).transform:"translate(0, -200%)",minWidth:"max-content",zIndex:O.value,"--reka-popper-transform-origin":[(re=S(g).transformOrigin)==null?void 0:re.x,(se=S(g).transformOrigin)==null?void 0:se.y].join(" "),...((P=S(g).hide)==null?void 0:P.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}})},[q(S(Ye),ke({ref:S(i)},V.$attrs,{"as-child":n.asChild,as:V.as,"data-side":E.value,"data-align":A.value,style:{animation:S(y)?void 0:"none"}}),{default:W(()=>[he(V.$slots,"default")]),_:3},16,["as-child","as","data-side","data-align","style"])],4)}}});let Ic=0;function lk(){En(t=>{if(!Sr)return;const e=document.querySelectorAll("[data-reka-focus-guard]");document.body.insertAdjacentElement("afterbegin",e[0]??dm()),document.body.insertAdjacentElement("beforeend",e[1]??dm()),Ic++,t(()=>{Ic===1&&document.querySelectorAll("[data-reka-focus-guard]").forEach(n=>n.remove()),Ic--})})}function dm(){const t=document.createElement("span");return t.setAttribute("data-reka-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}const[wo,ck]=Ar("PopoverRoot"),uk=Z({__name:"PopoverRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},modal:{type:Boolean,default:!1}},emits:["update:open"],setup(t,{emit:e}){const n=t,r=e,{modal:s}=Wn(n),i=Wa(n,"open",r,{defaultValue:n.defaultOpen,passive:n.open===void 0}),o=te(),a=te(!1);return ck({contentId:"",triggerId:"",modal:s,open:i,onOpenChange:l=>{i.value=l},onOpenToggle:()=>{i.value=!i.value},triggerElement:o,hasCustomAnchor:a}),(l,c)=>(K(),ee(S(ek),null,{default:W(()=>[he(l.$slots,"default",{open:S(i)})]),_:3}))}}),dk=Z({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t,n=wo(),{forwardRef:r,currentElement:s}=Tn();return n.triggerId||(n.triggerId=qd(void 0,"reka-popover-trigger")),ns(()=>{n.triggerElement.value=s.value}),(i,o)=>(K(),ee(vy(S(n).hasCustomAnchor.value?S(Ye):S(tk)),{"as-child":""},{default:W(()=>[q(S(Ye),{id:S(n).triggerId,ref:S(r),type:i.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":S(n).open.value,"aria-controls":S(n).contentId,"data-state":S(n).open.value?"open":"closed",as:i.as,"as-child":e.asChild,onClick:S(n).onOpenToggle},{default:W(()=>[he(i.$slots,"default")]),_:3},8,["id","type","aria-expanded","aria-controls","data-state","as","as-child","onClick"])]),_:3}))}}),fk=Z({__name:"PopoverPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=t;return(n,r)=>(K(),ee(S(US),ti(rs(e)),{default:W(()=>[he(n.$slots,"default")]),_:3},16))}}),fb=Z({__name:"PopoverContentImpl",props:{trapFocus:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,s=an(wS(n,"trapFocus","disableOutsidePointerEvents")),{forwardRef:i}=Tn(),o=wo();return lk(),(a,l)=>(K(),ee(S(ZS),{"as-child":"",loop:"",trapped:a.trapFocus,onMountAutoFocus:l[5]||(l[5]=c=>r("openAutoFocus",c)),onUnmountAutoFocus:l[6]||(l[6]=c=>r("closeAutoFocus",c))},{default:W(()=>[q(S(WS),{"as-child":"","disable-outside-pointer-events":a.disableOutsidePointerEvents,onPointerDownOutside:l[0]||(l[0]=c=>r("pointerDownOutside",c)),onInteractOutside:l[1]||(l[1]=c=>r("interactOutside",c)),onEscapeKeyDown:l[2]||(l[2]=c=>r("escapeKeyDown",c)),onFocusOutside:l[3]||(l[3]=c=>r("focusOutside",c)),onDismiss:l[4]||(l[4]=c=>S(o).onOpenChange(!1))},{default:W(()=>[q(S(ak),ke(S(s),{id:S(o).contentId,ref:S(i),"data-state":S(o).open.value?"open":"closed","aria-labelledby":S(o).triggerId,style:{"--reka-popover-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-popover-content-available-width":"var(--reka-popper-available-width)","--reka-popover-content-available-height":"var(--reka-popper-available-height)","--reka-popover-trigger-width":"var(--reka-popper-anchor-width)","--reka-popover-trigger-height":"var(--reka-popper-anchor-height)"},role:"dialog"}),{default:W(()=>[he(a.$slots,"default")]),_:3},16,["id","data-state","aria-labelledby"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),hk=Z({__name:"PopoverContentModal",props:{side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,s=wo(),i=te(!1);lA(!0);const o=os(n,r),{forwardRef:a,currentElement:l}=Tn();return sA(l),(c,u)=>(K(),ee(fb,ke(S(o),{ref:S(a),"trap-focus":S(s).open.value,"disable-outside-pointer-events":"",onCloseAutoFocus:u[0]||(u[0]=ja(d=>{var f;r("closeAutoFocus",d),i.value||(f=S(s).triggerElement.value)==null||f.focus()},["prevent"])),onPointerDownOutside:u[1]||(u[1]=d=>{r("pointerDownOutside",d);const f=d.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0,m=f.button===2||h;i.value=m}),onFocusOutside:u[2]||(u[2]=ja(()=>{},["prevent"]))}),{default:W(()=>[he(c.$slots,"default")]),_:3},16,["trap-focus"]))}}),pk=Z({__name:"PopoverContentNonModal",props:{side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,s=wo(),i=te(!1),o=te(!1),a=os(n,r);return(l,c)=>(K(),ee(fb,ke(S(a),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:c[0]||(c[0]=u=>{var d;r("closeAutoFocus",u),u.defaultPrevented||(i.value||(d=S(s).triggerElement.value)==null||d.focus(),u.preventDefault()),i.value=!1,o.value=!1}),onInteractOutside:c[1]||(c[1]=async u=>{var h;r("interactOutside",u),u.defaultPrevented||(i.value=!0,u.detail.originalEvent.type==="pointerdown"&&(o.value=!0));const d=u.target;((h=S(s).triggerElement.value)==null?void 0:h.contains(d))&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&o.value&&u.preventDefault()})}),{default:W(()=>[he(l.$slots,"default")]),_:3},16))}}),mk=Z({__name:"PopoverContent",props:{forceMount:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,s=wo(),i=os(n,r),{forwardRef:o}=Tn();return s.contentId||(s.contentId=qd(void 0,"reka-popover-content")),(a,l)=>(K(),ee(S(Mv),{present:a.forceMount||S(s).open.value},{default:W(()=>[S(s).modal.value?(K(),ee(hk,ke({key:0},S(i),{ref:S(o)}),{default:W(()=>[he(a.$slots,"default")]),_:3},16)):(K(),ee(pk,ke({key:1},S(i),{ref:S(o)}),{default:W(()=>[he(a.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),gk=Z({__name:"BaseSeparator",props:{orientation:{default:"horizontal"},decorative:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const e=t,n=["horizontal","vertical"];function r(a){return n.includes(a)}const s=H(()=>r(e.orientation)?e.orientation:"horizontal"),i=H(()=>s.value==="vertical"?e.orientation:void 0),o=H(()=>e.decorative?{role:"none"}:{"aria-orientation":i.value,role:"separator"});return(a,l)=>(K(),ee(S(Ye),ke({as:a.as,"as-child":a.asChild,"data-orientation":s.value},o.value),{default:W(()=>[he(a.$slots,"default")]),_:3},16,["as","as-child","data-orientation"]))}}),yk=Z({__name:"Separator",props:{orientation:{default:"horizontal"},decorative:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,r)=>(K(),ee(gk,ti(rs(e)),{default:W(()=>[he(n.$slots,"default")]),_:3},16))}}),Xt=Z({__name:"Button",props:{variant:{},size:{},class:{},asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t;return(n,r)=>(K(),ee(S(Ye),{"data-slot":"button",as:n.as,"as-child":n.asChild,class:dt(S(Xe)(S(Dl)({variant:n.variant,size:n.size}),e.class))},{default:W(()=>[he(n.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),Dl=fv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});var ks=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function vk(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Fc={exports:{}},fm;function bk(){return fm||(fm=1,function(t){var e=function(){var n=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={};function o(l,c){if(!i[l]){i[l]={};for(var u=0;u<l.length;u++)i[l][l.charAt(u)]=u}return i[l][c]}var a={compressToBase64:function(l){if(l==null)return"";var c=a._compress(l,6,function(u){return r.charAt(u)});switch(c.length%4){default:case 0:return c;case 1:return c+"===";case 2:return c+"==";case 3:return c+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:a._decompress(l.length,32,function(c){return o(r,l.charAt(c))})},compressToUTF16:function(l){return l==null?"":a._compress(l,15,function(c){return n(c+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:a._decompress(l.length,16384,function(c){return l.charCodeAt(c)-32})},compressToUint8Array:function(l){for(var c=a.compress(l),u=new Uint8Array(c.length*2),d=0,f=c.length;d<f;d++){var h=c.charCodeAt(d);u[d*2]=h>>>8,u[d*2+1]=h%256}return u},decompressFromUint8Array:function(l){if(l==null)return a.decompress(l);for(var c=new Array(l.length/2),u=0,d=c.length;u<d;u++)c[u]=l[u*2]*256+l[u*2+1];var f=[];return c.forEach(function(h){f.push(n(h))}),a.decompress(f.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":a._compress(l,6,function(c){return s.charAt(c)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),a._decompress(l.length,32,function(c){return o(s,l.charAt(c))}))},compress:function(l){return a._compress(l,16,function(c){return n(c)})},_compress:function(l,c,u){if(l==null)return"";var d,f,h={},m={},p="",_="",b="",C=2,y=3,g=2,E=[],A=0,R=0,O;for(O=0;O<l.length;O+=1)if(p=l.charAt(O),Object.prototype.hasOwnProperty.call(h,p)||(h[p]=y++,m[p]=!0),_=b+p,Object.prototype.hasOwnProperty.call(h,_))b=_;else{if(Object.prototype.hasOwnProperty.call(m,b)){if(b.charCodeAt(0)<256){for(d=0;d<g;d++)A=A<<1,R==c-1?(R=0,E.push(u(A)),A=0):R++;for(f=b.charCodeAt(0),d=0;d<8;d++)A=A<<1|f&1,R==c-1?(R=0,E.push(u(A)),A=0):R++,f=f>>1}else{for(f=1,d=0;d<g;d++)A=A<<1|f,R==c-1?(R=0,E.push(u(A)),A=0):R++,f=0;for(f=b.charCodeAt(0),d=0;d<16;d++)A=A<<1|f&1,R==c-1?(R=0,E.push(u(A)),A=0):R++,f=f>>1}C--,C==0&&(C=Math.pow(2,g),g++),delete m[b]}else for(f=h[b],d=0;d<g;d++)A=A<<1|f&1,R==c-1?(R=0,E.push(u(A)),A=0):R++,f=f>>1;C--,C==0&&(C=Math.pow(2,g),g++),h[_]=y++,b=String(p)}if(b!==""){if(Object.prototype.hasOwnProperty.call(m,b)){if(b.charCodeAt(0)<256){for(d=0;d<g;d++)A=A<<1,R==c-1?(R=0,E.push(u(A)),A=0):R++;for(f=b.charCodeAt(0),d=0;d<8;d++)A=A<<1|f&1,R==c-1?(R=0,E.push(u(A)),A=0):R++,f=f>>1}else{for(f=1,d=0;d<g;d++)A=A<<1|f,R==c-1?(R=0,E.push(u(A)),A=0):R++,f=0;for(f=b.charCodeAt(0),d=0;d<16;d++)A=A<<1|f&1,R==c-1?(R=0,E.push(u(A)),A=0):R++,f=f>>1}C--,C==0&&(C=Math.pow(2,g),g++),delete m[b]}else for(f=h[b],d=0;d<g;d++)A=A<<1|f&1,R==c-1?(R=0,E.push(u(A)),A=0):R++,f=f>>1;C--,C==0&&(C=Math.pow(2,g),g++)}for(f=2,d=0;d<g;d++)A=A<<1|f&1,R==c-1?(R=0,E.push(u(A)),A=0):R++,f=f>>1;for(;;)if(A=A<<1,R==c-1){E.push(u(A));break}else R++;return E.join("")},decompress:function(l){return l==null?"":l==""?null:a._decompress(l.length,32768,function(c){return l.charCodeAt(c)})},_decompress:function(l,c,u){var d=[],f=4,h=4,m=3,p="",_=[],b,C,y,g,E,A,R,O={val:u(0),position:c,index:1};for(b=0;b<3;b+=1)d[b]=b;for(y=0,E=Math.pow(2,2),A=1;A!=E;)g=O.val&O.position,O.position>>=1,O.position==0&&(O.position=c,O.val=u(O.index++)),y|=(g>0?1:0)*A,A<<=1;switch(y){case 0:for(y=0,E=Math.pow(2,8),A=1;A!=E;)g=O.val&O.position,O.position>>=1,O.position==0&&(O.position=c,O.val=u(O.index++)),y|=(g>0?1:0)*A,A<<=1;R=n(y);break;case 1:for(y=0,E=Math.pow(2,16),A=1;A!=E;)g=O.val&O.position,O.position>>=1,O.position==0&&(O.position=c,O.val=u(O.index++)),y|=(g>0?1:0)*A,A<<=1;R=n(y);break;case 2:return""}for(d[3]=R,C=R,_.push(R);;){if(O.index>l)return"";for(y=0,E=Math.pow(2,m),A=1;A!=E;)g=O.val&O.position,O.position>>=1,O.position==0&&(O.position=c,O.val=u(O.index++)),y|=(g>0?1:0)*A,A<<=1;switch(R=y){case 0:for(y=0,E=Math.pow(2,8),A=1;A!=E;)g=O.val&O.position,O.position>>=1,O.position==0&&(O.position=c,O.val=u(O.index++)),y|=(g>0?1:0)*A,A<<=1;d[h++]=n(y),R=h-1,f--;break;case 1:for(y=0,E=Math.pow(2,16),A=1;A!=E;)g=O.val&O.position,O.position>>=1,O.position==0&&(O.position=c,O.val=u(O.index++)),y|=(g>0?1:0)*A,A<<=1;d[h++]=n(y),R=h-1,f--;break;case 2:return _.join("")}if(f==0&&(f=Math.pow(2,m),m++),d[R])p=d[R];else if(R===h)p=C+C.charAt(0);else return null;_.push(p),d[h++]=C+p.charAt(0),f--,C=p,f==0&&(f=Math.pow(2,m),m++)}}};return a}();t!=null?t.exports=e:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return e})}(Fc)),Fc.exports}var Zo=bk();const ea="allKeys",Zn=Er("db",()=>{const t=te(new Date().getTime()),e=localStorage.getItem("age");t.value=e?parseInt(e,10):new Date().getTime();function n(){return JSON.parse(localStorage.getItem(ea)??"[]")}function r(u,d){if(d==null){console.warn("Value is null or undefined");return}const f=n();f.includes(u)||f.push(u);const h=JSON.stringify(s(u)),m=JSON.stringify(d);if(h==m){console.info("Value did not change. Ignoring set.");return}else console.warn("Value updated",u);localStorage.setItem(u,Zo.compress(m)),localStorage.setItem(ea,JSON.stringify(f)),t.value=Date.now(),localStorage.setItem("age",JSON.stringify(t.value))}function s(u){const d=localStorage.getItem(u);if(!d)return console.warn(`No ${u} in db`),null;const f=Zo.decompress(d);return f?JSON.parse(f):null}function i(u){localStorage.removeItem(u);const d=n().filter(f=>f!==u);localStorage.setItem(ea,JSON.stringify(d)),localStorage.setItem("age",JSON.stringify(new Date().getTime()))}function o(){console.warn("No keys were found.");for(const u of n())i(u)}function a(u=!1){const d=n(),f=d.map(m=>localStorage.getItem(m)??null),h=u?new Date().getTime():t.value;return Zo.compressToBase64(JSON.stringify({keys:d,values:f,age:h}))}function l(u){const{keys:d,values:f,age:h}=JSON.parse(Zo.decompressFromBase64(u)??"{}"),m=new Date(h).getTime();return{keys:d,values:f,age:m}}function c(u){const{keys:d,values:f,age:h}=l(u);if(console.log(`Unpacked ${d}`),!Array.isArray(d)||!Array.isArray(f)){console.warn("Values must be an array or an array.");return}d.forEach((m,p)=>{f[p]!=null&&localStorage.setItem(m,f[p])}),localStorage.setItem(ea,JSON.stringify(d)),t.value=h,localStorage.setItem("age",JSON.stringify(t.value))}return{get:s,set:r,remove:i,removeAll:o,toString:a,fromString:c,unpack:l,lastUpdated:mo(t)}}),hb=Er("weather",()=>{const t=Zn(),{lastUpdated:e}=ri(t),n=te(t.get("weather")??{lastUpdated:"",location:"",temperature:0,weather:"",weatherApiKey:""});Te(n,()=>{t.set("weather",n.value)},{deep:!0,immediate:!0}),Te(e,()=>{n.value=t.get("weather")??n.value});const r=async()=>{var i;if(!((i=n==null?void 0:n.value)!=null&&i.weatherApiKey)){console.error("Weather API key not found!");return}if(!s.value){console.error("Location not found!");return}await fetch(`https://api.weatherapi.com/v
1/current.json?key=${n.value.weatherApiKey}&q=${s.value}`).then(o=>o.json()).then(o=>{n.value.location=`${o.location.name}, ${o.location.country}`,n.value.temperature=o.current.temp_c,n.value.weather=o.current.condition.text,n.value.lastUpdated=new Date(o.current.last_updated_epoch*1e3).toLocaleString().replace(",","").slice(0,-3)}).catch(o=>console.error(o))},s=te(n.value.location.split(",")[0]);return Te(s,()=>{t.set("weather",n.value),r()},{immediate:!0}),{weather:n,location:s}});function Ku(t){return po()?(hl(t),!0):!1}function _k(t){if(!Me(t))return tn(t);const e=new Proxy({},{get(n,r,s){return S(Reflect.get(t.value,r,s))},set(n,r,s){return Me(t.value[r])&&!Me(s)?t.value[r].value=s:t.value[r]=s,!0},deleteProperty(n,r){return Reflect.deleteProperty(t.value,r)},has(n,r){return Reflect.has(t.value,r)},ownKeys(){return Object.keys(t.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return tn(e)}function wk(t){return _k(H(t))}function Ck(t,...e){const n=e.flat(),r=n[0];return wk(()=>Object.fromEntries(typeof r=="function"?Object.entries(Wn(t)).filter(([s,i])=>!r(et(i),s)):Object.entries(Wn(t)).filter(s=>!n.includes(s[0]))))}const Yu=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const xk=t=>typeof t<"u",hm=()=>+Date.now(),Ek=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[T\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/i,Sk=/[YMDHhms]o|\[([^\]]+)\]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a{1,2}|A{1,2}|m{1,2}|s{1,2}|Z{1,2}|z{1,4}|SSS/g;function Ak(t,e,n,r){let s=t<12?"AM":"PM";return r&&(s=s.split("").reduce((i,o)=>i+=`${o}.`,"")),n?s.toLowerCase():s}function Ir(t){const e=["th","st","nd","rd"],n=t%100;return t+(e[(n-20)%10]||e[n]||e[0])}function Tk(t,e,n={}){var r;const s=t.getFullYear(),i=t.getMonth(),o=t.getDate(),a=t.getHours(),l=t.getMinutes(),c=t.getSeconds(),u=t.getMilliseconds(),d=t.getDay(),f=(r=n.customMeridiem)!=null?r:Ak,h=p=>{var _;return(_=p.split(" ")[1])!=null?_:""},m={Yo:()=>Ir(s),YY:()=>String(s).slice(-2),YYYY:()=>s,M:()=>i+1,Mo:()=>Ir(i+1),MM:()=>`${i+1}`.padStart(2,"0"),MMM:()=>t.toLocaleDateString(et(n.locales),{month:"short"}),MMMM:()=>t.toLocaleDateString(et(n.locales),{month:"long"}),D:()=>String(o),Do:()=>Ir(o),DD:()=>`${o}`.padStart(2,"0"),H:()=>String(a),Ho:()=>Ir(a),HH:()=>`${a}`.padStart(2,"0"),h:()=>`${a%12||12}`.padStart(1,"0"),ho:()=>Ir(a%12||12),hh:()=>`${a%12||12}`.padStart(2,"0"),m:()=>String(l),mo:()=>Ir(l),mm:()=>`${l}`.padStart(2,"0"),s:()=>String(c),so:()=>Ir(c),ss:()=>`${c}`.padStart(2,"0"),SSS:()=>`${u}`.padStart(3,"0"),d:()=>d,dd:()=>t.toLocaleDateString(et(n.locales),{weekday:"narrow"}),ddd:()=>t.toLocaleDateString(et(n.locales),{weekday:"short"}),dddd:()=>t.toLocaleDateString(et(n.locales),{weekday:"long"}),A:()=>f(a,l),AA:()=>f(a,l,!1,!0),a:()=>f(a,l,!0),aa:()=>f(a,l,!0,!0),z:()=>h(t.toLocaleDateString(et(n.locales),{timeZoneName:"shortOffset"})),zz:()=>h(t.toLocaleDateString(et(n.locales),{timeZoneName:"shortOffset"})),zzz:()=>h(t.toLocaleDateString(et(n.locales),{timeZoneName:"shortOffset"})),zzzz:()=>h(t.toLocaleDateString(et(n.locales),{timeZoneName:"longOffset"}))};return e.replace(Sk,(p,_)=>{var b,C;return(C=_??((b=m[p])==null?void 0:b.call(m)))!=null?C:p})}function kk(t){if(t===null)return new Date(Number.NaN);if(t===void 0)return new Date;if(t instanceof Date)return new Date(t);if(typeof t=="string"&&!/Z$/i.test(t)){const e=t.match(Ek);if(e){const n=e[2]-1||0,r=(e[7]||"0").substring(0,3);return new Date(e[1],n,e[3]||1,e[4]||0,e[5]||0,e[6]||0,r)}}return new Date(t)}function so(t,e="HH:mm:ss",n={}){return H(()=>Tk(kk(et(t)),et(e),n))}function pb(t,e=1e3,n={}){const{immediate:r=!0,immediateCallback:s=!1}=n;let i=null;const o=ts(!1);function a(){i&&(clearInterval(i),i=null)}function l(){o.value=!1,a()}function c(){const u=et(e);u<=0||(o.value=!0,s&&t(),a(),o.value&&(i=setInterval(t,u)))}if(r&&Yu&&c(),Me(e)||typeof e=="function"){const u=Te(e,()=>{o.value&&Yu&&c()});Ku(u)}return Ku(l),{isActive:Nr(o),pause:l,resume:c}}const Ok=Yu?window:void 0;function mb(t,e={}){const{immediate:n=!0,fpsLimit:r=void 0,window:s=Ok,once:i=!1}=e,o=ts(!1),a=H(()=>r?1e3/et(r):null);let l=0,c=null;function u(h){if(!o.value||!s)return;l||(l=h);const m=h-l;if(a.value&&m<a.value){c=s.requestAnimationFrame(u);return}if(l=h,t({delta:m,timestamp:h}),i){o.value=!1,c=null;return}c=s.requestAnimationFrame(u)}function d(){!o.value&&s&&(o.value=!0,l=0,c=s.requestAnimationFrame(u))}function f(){o.value=!1,c!=null&&s&&(s.cancelAnimationFrame(c),c=null)}return n&&d(),Ku(f),{isActive:mo(o),pause:f,resume:d}}function Rk(t){return JSON.parse(JSON.stringify(t))}function $k(t={}){const{controls:e=!1,interval:n="requestAnimationFrame"}=t,r=te(new Date),s=()=>r.value=new Date,i=n==="requestAnimationFrame"?mb(s,{immediate:!0}):pb(s,n,{immediate:!0});return e?{now:r,...i}:r}function Pk(t={}){const{controls:e=!1,offset:n=0,immediate:r=!0,interval:s="requestAnimationFrame",callback:i}=t,o=ts(hm()+n),a=()=>o.value=hm()+n,l=i?()=>{a(),i(o.value)}:a,c=s==="requestAnimationFrame"?mb(l,{immediate:r}):pb(l,s,{immediate:r});return e?{timestamp:o,...c}:o}function gb(t,e,n,r={}){var s,i,o;const{clone:a=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:d,shouldEmit:f}=r,h=Qn(),m=n||(h==null?void 0:h.emit)||((s=h==null?void 0:h.$emit)==null?void 0:s.bind(h))||((o=(i=h==null?void 0:h.proxy)==null?void 0:i.$emit)==null?void 0:o.bind(h==null?void 0:h.proxy));let p=c;p=p||`update:${e.toString()}`;const _=y=>a?typeof a=="function"?a(y):Rk(y):y,b=()=>xk(t[e])?_(t[e]):d,C=y=>{f?f(y)&&m(p,y):m(p,y)};if(l){const y=b(),g=te(y);let E=!1;return Te(()=>t[e],A=>{E||(E=!0,g.value=_(A),Dt(()=>E=!1))}),Te(g,A=>{!E&&(A!==t[e]||u)&&C(A)},{deep:u}),g}else return H({get(){return b()},set(y){C(y)}})}const qu=Z({__name:"Separator",props:{orientation:{default:"horizontal"},decorative:{type:Boolean,default:!0},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=Ck(e,"class");return(r,s)=>(K(),ee(S(yk),ke({"data-slot":"separator-root"},S(n),{class:S(Xe)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e.class)}),null,16,["class"]))}}),yb=Er("user",()=>{const t=Zn(),e=te(t.get("user")??{name:"",personalInformation:""});return Te(e,n=>{t.set("user",n)},{deep:!0}),{user:e}}),Qa=Z({__name:"Badge",props:{asChild:{type:Boolean},as:{},variant:{},class:{}},setup(t){const e=t,n=H(()=>{const{class:r,...s}=e;return s});return(r,s)=>(K(),ee(S(Ye),ke({"data-slot":"badge",class:S(Xe)(S(Dk)({variant:r.variant}),e.class)},n.value),{default:W(()=>[he(r.$slots,"default")]),_:3},16,["class"]))}}),Dk=fv("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}}),Mk={class:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4"},Ik={class:"text-2xl sm:text-3xl font-bold tracking-tight"},Fk={class:"flex flex-wrap items-center gap-2 sm:gap-4 w-full md:w-auto"},Nk={class:"hidden sm:inline"},Lk={class:"sm:hidden"},Bk=Z({__name:"AppHeader",setup(t){const e=Pk({offset:0,interval:1e3}),n=$k({interval:1e3*60}),r=H(()=>new Date(e.value)),s=so(n,"HH:mm"),i=so(n,"dddd, D. MMMM YYYY, HH:mm"),o=H(()=>r.value.getHours()>=18||r.value.getHours()<6),a=yb(),l=H(()=>{const d=r.value.getHours();let f="";return o.value?f+="Guten Abend":d>=6&&d<12?f+="Guten Morgen":d>=12&&d<18?f+="Guten Tag":f+="Guten Abend",a.user.name!==""&&(f+=`, ${a.user.name}`),f}),c=hb(),{weather:u}=ri(c);return(d,f)=>{const h=gy("router-link");return K(),He("header",null,[De("nav",Mk,[De("div",null,[De("h1",Ik,[q(h,{to:"/"},{default:W(()=>[mt(ot(l.value),1)]),_:1})])]),De("div",Fk,[q(S(Qa),{variant:"outline",class:"flex items-center gap-1 py-1.5 px-2.5"},{default:W(()=>[o.value?(K(),ee(S(Fx),{key:1,class:"h-4 w-4 text-gray-500"})):(K(),ee(S(Bx),{key:0,class:"h-4 w-4 text-amber-500"})),De("span",Nk,ot(S(i))+" Uhr",1),De("span",Lk,ot(S(s))+" Uhr",1)]),_:1}),q(S(qu),{orientation:"vertical",class:"h-6 hidden sm:block"}),q(S(Qa),{variant:"secondary",class:"flex items-center gap-1 py-1.5 px-2.5"},{default:W(()=>[S(u).temperature>10?(K(),ee(S(jx),{key:0,class:"h-4 w-4 text-blue-400"})):Yn("",!0),S(u).temperature<=10?(K(),ee(S(Ux),{key:1,class:"h-4 w-4 text-blue-400"})):Yn("",!0),mt(" "+ot(S(u).temperature)+"°C ",1)]),_:1}),q(S(qu),{orientation:"vertical",class:"h-6 hidden sm:block"}),q(S(Xt),{variant:"ghost",size:"sm",class:"p-2",onClick:f[0]||(f[0]=m=>d.$router.push("/settings"))},{default:W(()=>[q(S(Lx),{class:"h-5 w-5"})]),_:1})])])])}}});class Uk{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){const e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){const e=[];for(const n of this._parts)e.push(n);return jk(e).buffer}}function jk(t){let e=0;for(const s of t)e+=s.byteLength;const n=new Uint8Array(e);let r=0;for(const s of t){const i=new Uint8Array(s.buffer,s.byteOffset,s.byteLength);n.set(i,r),r+=s.byteLength}return n}function vb(t){return new Vk(t).unpack()}function bb(t){const e=new Hk,n=e.pack(t);return n instanceof Promise?n.then(()=>e.getBuffer()):e.getBuffer()}class Vk{constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;let n;if((n=e^160)<=15)return this.unpack_raw(n);if((n=e^176)<=15)return this.unpack_string(n);if((n=e^144)<=15)return this.unpack_array(n);if((n=e^128)<=15)return this.unpack_map(n);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return n=this.unpack_uint16(),this.unpack_string(n);case 217:return n=this.unpack_uint32(),this.unpack_string(n);case 218:return n=this.unpack_uint16(),this.unpack_raw(n);case 219:return n=this.unpack_uint32(),this.unpack_raw(n);case 220:return n=this.unpack_uint16(),this.unpack_array(n);case 221:return n=this.unpack_uint32(),this.unpack_array(n);case 222:return n=this.unpack_uint16(),this.unpack_map(n);case 223:return n=this.unpack_uint32(),this.unpack_map(n)}}unpack_uint8(){const e=this.dataView[this.index]&255;return this.index++,e}unpack_uint16(){const e=this.read(2),n=(e[0]&255)*256+(e[1]&255);return this.index+=2,n}unpack_uint32(){const e=this.read(4),n=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,n}unpack_uint64(){const e=this.read(8),n=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,n}unpack_int8(){const e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){const e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){const e=this.unpack_uint32();return e<2**31?e:e-2**32}unpack_int64(){const e=this.unpack_uint64();return e<2**63?e:e-2**64}unpack_raw(e){if(this.length<this.index+e)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);const n=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,n}unpack_string(e){const n=this.read(e);let r=0,s="",i,o;for(;r<e;)i=n[r],i<160?(o=i,r++):(i^192)<32?(o=(i&31)<<6|n[r+1]&63,r+=2):(i^224)<16?(o=(i&15)<<12|(n[r+1]&63)<<6|n[r+2]&63,r+=3):(o=(i&7)<<18|(n[r+1]&63)<<12|(n[r+2]&63)<<6|n[r+3]&63,r+=4),s+=String.fromCodePoint(o);return this.index+=e,s}unpack_array(e){const n=new Array(e);for(let r=0;r<e;r++)n[r]=this.unpack();return n}unpack_map(e){const n={};for(let r=0;r<e;r++){const s=this.unpack();n[s]=this.unpack()}return n}unpack_float(){const e=this.unpack_uint32(),n=e>>31,r=(e>>23&255)-127,s=e&8388607|8388608;return(n===0?1:-1)*s*2**(r-23)}unpack_double(){const e=this.unpack_uint32(),n=this.unpack_uint32(),r=e>>31,s=(e>>20&2047)-1023,o=(e&1048575|1048576)*2**(s-20)+n*2**(s-52);return(r===0?1:-1)*o}read(e){const n=this.index;if(n+e<=this.length)return this.dataView.subarray(n,n+e);throw new Error("BinaryPackFailure: read index out of range")}}class Hk{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if(typeof e=="string")this.pack_string(e);else if(typeof e=="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(typeof e=="boolean")e===!0?this._bufferBuilder.append(195):e===!1&&this._bufferBuilder.append(194);else if(e===void 0)this._bufferBuilder.append(192);else if(typeof e=="object")if(e===null)this._bufferBuilder.append(192);else{const n=e.constructor;if(e instanceof Array){const r=this.pack_array(e);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e){const r=e;this.pack_bin(new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}else if(e instanceof Date)this.pack_string(e.toString());else{if(e instanceof Blob)return e.arrayBuffer().then(r=>{this.pack_bin(new Uint8Array(r)),this._bufferBuilder.flush()});if(n==Object||n.toString().startsWith("class")){const r=this.pack_object(e);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${n.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof e}" not yet supported`);this._bufferBuilder.flush()}pack_bin(e){const n=e.length;if(n<=15)this.pack_uint8(160+n);else if(n<=65535)this._bufferBuilder.append(218),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_string(e){const n=this._textEncoder.encode(e),r=n.length;if(r<=15)this.pack_uint8(176+r);else if(r<=65535)this._bufferBuilder.append(216),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(r);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_array(e){const n=e.length;if(n<=15)this.pack_uint8(144+n);else if(n<=65535)this._bufferBuilder.append(220),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(n);else throw new Error("Invalid length");const r=s=>{if(s<n){const i=this.pack(e[s]);return i instanceof Promise?i.then(()=>r(s+1)):r(s+1)}};return r(0)}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(e&255);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")}pack_double(e){let n=0;e<0&&(n=1,e=-e);const r=Math.floor(Math.log(e)/Math.LN2),s=e/2**r-1,i=Math.floor(s*2**52),o=2**32,a=n<<31|r+1023<<20|i/o&1048575,l=i%o;this._bufferBuilder.append(203),this.pack_int32(a),this.pack_int32(l)}pack_object(e){const n=Object.keys(e),r=n.length;if(r<=15)this.pack_uint8(128+r);else if(r<=65535)this._bufferBuilder.append(222),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(r);else throw new Error("Invalid length");const s=i=>{if(i<n.length){const o=n[i];if(e.hasOwnProperty(o)){this.pack(o);const a=this.pack(e[o]);if(a instanceof Promise)return a.then(()=>s(i+1))}return s(i+1)}};return s(0)}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(e&255)}pack_uint32(e){const n=e&4294967295;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_uint64(e){const n=e/4294967296,r=e%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}pack_int8(e){this._bufferBuilder.append(e&255)}pack_int16(e){this._bufferBuilder.append((e&65280)>>8),this._bufferBuilder.append(e&255)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_int64(e){const n=Math.floor(e/4294967296),r=e%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}constructor(){this._bufferBuilder=new Uk,this._textEncoder=new TextEncoder}}let _b=!0,wb=!0;function Si(t,e,n){const r=t.match(e);return r&&r.length>=n&&parseFloat(r[n],10)}function as(t,e,n){if(!t.RTCPeerConnection)return;const r=t.RTCPeerConnection.prototype,s=r.addEventListener;r.addEventListener=function(o,a){if(o!==e)return s.apply(this,arguments);const l=c=>{const u=n(c);u&&(a.handleEvent?a.handleEvent(u):a(u))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(a,l),s.apply(this,[o,l])};const i=r.removeEventListener;r.removeEventListener=function(o,a){if(o!==e||!this._eventMap||!this._eventMap[e])return i.apply(this,arguments);if(!this._eventMap[e].has(a))return i.apply(this,arguments);const l=this._eventMap[e].get(a);return this._eventMap[e].delete(a),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,i.apply(this,[o,l])},Object.defineProperty(r,"on"+e,{get(){return this["_on"+e]},set(o){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),o&&this.addEventListener(e,this["_on"+e]=o)},enumerable:!0,configurable:!0})}function zk(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(_b=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function Wk(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(wb=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function Cb(){if(typeof window=="object"){if(_b)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function of(t,e){wb&&console.warn(t+" is deprecated, please use "+e+" instead.")}function Kk(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator||!t.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:n}=t;if(n.userAgentData&&n.userAgentData.brands){const r=n.userAgentData.brands.find(s=>s.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(n.mozGetUserMedia)e.browser="firefox",e.version=parseInt(Si(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=parseInt(Si(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(t.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=parseInt(Si(n.userAgent,/AppleWebKit\/(\d+)\./,1)),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype,e._safariVersion=Si(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return e.browser="Not a supported browser.",e;return e}function pm(t){return Object.prototype.toString.call(t)==="[object Object]"}function xb(t){return pm(t)?Object.keys(t).reduce(function(e,n){const r=pm(t[n]),s=r?xb(t[n]):t[n],i=r&&!Object.keys(s).length;return s===void 0||i?e:Object.assign(e,{[n]:s})},{}):t}function Gu(t,e,n){!e||n.has(e.id)||(n.set(e.id,e),Object.keys(e).forEach(r=>{r.endsWith("Id")?Gu(t,t.get(e[r]),n):r.endsWith("Ids")&&e[r].forEach(s=>{Gu(t,t.get(s),n)})}))}function mm(t,e,n){const r=n?"outbound-rtp":"inbound-rtp",s=new Map;if(e===null)return s;const i=[];return t.forEach(o=>{o.type==="track"&&o.trackIdentifier===e.id&&i.push(o)}),i.forEach(o=>{t.forEach(a=>{a.type===r&&a.trackId===o.id&&Gu(t,a,s)})}),s}const gm=Cb;function Eb(t,e){const n=t&&t.navigator;if(!n.mediaDevices)return;const r=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const l={};return Object.keys(a).forEach(c=>{if(c==="require"||c==="advanced"||c==="mediaSource")return;const u=typeof a[c]=="object"?a[c]:{ideal:a[c]};u.exact!==void 0&&typeof u.exact=="number"&&(u.min=u.max=u.exact);const d=function(f,h){return f?f+h.charAt(0).toUpperCase()+h.slice(1):h==="deviceId"?"sourceId":h};if(u.ideal!==void 0){l.optional=l.optional||[];let f={};typeof u.ideal=="number"?(f[d("min",c)]=u.ideal,l.optional.push(f),f={},f[d("max",c)]=u.ideal,l.optional.push(f)):(f[d("",c)]=u.ideal,l.optional.push(f))}u.exact!==void 0&&typeof u.exact!="number"?(l.mandatory=l.mandatory||{},l.mandatory[d("",c)]=u.exact):["min","max"].forEach(f=>{u[f]!==void 0&&(l.mandatory=l.mandatory||{},l.mandatory[d(f,c)]=u[f])})}),a.advanced&&(l.optional=(l.optional||[]).concat(a.advanced)),l},s=function(a,l){if(e.version>=61)return l(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){const c=function(u,d,f){d in u&&!(f in u)&&(u[f]=u[d],delete u[d])};a=JSON.parse(JSON.stringify(a)),c(a.audio,"autoGainControl","googAutoGainControl"),c(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=r(a.audio)}if(a&&typeof a.video=="object"){let c=a.video.facingMode;c=c&&(typeof c=="object"?c:{ideal:c});const u=e.version<66;if(c&&(c.exact==="user"||c.exact==="environment"||c.ideal==="user"||c.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!u)){delete a.video.facingMode;let d;if(c.exact==="environment"||c.ideal==="environment"?d=["back","rear"]:(c.exact==="user"||c.ideal==="user")&&(d=["front"]),d)return n.mediaDevices.enumerateDevices().then(f=>{f=f.filter(m=>m.kind==="videoinput");let h=f.find(m=>d.some(p=>m.label.toLowerCase().includes(p)));return!h&&f.length&&d.includes("back")&&(h=f[f.length-1]),h&&(a.video.deviceId=c.exact?{exact:h.deviceId}:{ideal:h.deviceId}),a.video=r(a.video),gm("chrome: "+JSON.stringify(a)),l(a)})}a.video=r(a.video)}return gm("chrome: "+JSON.stringify(a)),l(a)},i=function(a){return e.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},o=function(a,l,c){s(a,u=>{n.webkitGetUserMedia(u,l,d=>{c&&c(i(d))})})};if(n.getUserMedia=o.bind(n),n.mediaDevices.getUserMedia){const a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(l){return s(l,c=>a(c).then(u=>{if(c.audio&&!u.getAudioTracks().length||c.video&&!u.getVideoTracks().length)throw u.getTracks().forEach(d=>{d.stop()}),new DOMException("","NotFoundError");return u},u=>Promise.reject(i(u))))}}}function Sb(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function Ab(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",s=>{let i;t.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(a=>a.track&&a.track.id===s.track.id):i={track:s.track};const o=new Event("track");o.track=s.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[r.stream],this.dispatchEvent(o)}),r.stream.getTracks().forEach(s=>{let i;t.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(a=>a.track&&a.track.id===s.id):i={track:s};const o=new Event("track");o.track=s,o.receiver=i,o.transceiver={receiver:i},o.streams=[r.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else as(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function Tb(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(s,i){return{track:i,get dtmf(){return this._dtmf===void 0&&(i.kind==="audio"?this._dtmf=s.createDTMFSender(i):this._dtmf=null),this._dtmf},_pc:s}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const s=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(a,l){let c=s.apply(this,arguments);return c||(c=e(this,a),this._senders.push(c)),c};const i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(a){i.apply(this,arguments);const l=this._senders.indexOf(a);l!==-1&&this._senders.splice(l,1)}}const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(i){this._senders=this._senders||[],n.apply(this,[i]),i.getTracks().forEach(o=>{this._senders.push(e(this,o))})};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(i){this._senders=this._senders||[],r.apply(this,[i]),i.getTracks().forEach(o=>{const a=this._senders.find(l=>l.track===o);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const r=e.apply(this,[]);return r.forEach(s=>s._pc=this),r},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function kb(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){const i=n.apply(this,[]);return i.forEach(o=>o._pc=this),i});const r=t.RTCPeerConnection.prototype.addTrack;r&&(t.RTCPeerConnection.prototype.addTrack=function(){const i=r.apply(this,arguments);return i._pc=this,i}),t.RTCRtpSender.prototype.getStats=function(){const i=this;return this._pc.getStats().then(o=>mm(o,i.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){const s=n.apply(this,[]);return s.forEach(i=>i._pc=this),s}),as(t,"track",r=>(r.receiver._pc=r.srcElement,r)),t.RTCRtpReceiver.prototype.getStats=function(){const s=this;return this._pc.getStats().then(i=>mm(i,s.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const r=arguments[0];let s,i,o;return this.getSenders().forEach(a=>{a.track===r&&(s?o=!0:s=a)}),this.getReceivers().forEach(a=>(a.track===r&&(i?o=!0:i=a),a.track===r)),o||s&&i?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):s?s.getStats():i?i.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function Ob(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(o,a){if(!a)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const l=e.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(l)===-1&&this._shimmedLocalStreams[a.id].push(l):this._shimmedLocalStreams[a.id]=[a,l],l};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(c=>{if(this.getSenders().find(d=>d.track===c))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();n.apply(this,arguments);const l=this.getSenders().filter(c=>a.indexOf(c)===-1);this._shimmedLocalStreams[o.id]=[o].concat(l)};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],r.apply(this,arguments)};const s=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const l=this._shimmedLocalStreams[a].indexOf(o);l!==-1&&this._shimmedLocalStreams[a].splice(l,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),s.apply(this,arguments)}}function Rb(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return Ob(t);const n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const u=n.apply(this);return this._reverseStreams=this._reverseStreams||{},u.map(d=>this._reverseStreams[d.id])};const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(u){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},u.getTracks().forEach(d=>{if(this.getSenders().find(h=>h.track===d))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[u.id]){const d=new t.MediaStream(u.getTracks());this._streams[u.id]=d,this._reverseStreams[d.id]=u,u=d}r.apply(this,[u])};const s=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(u){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},s.apply(this,[this._streams[u.id]||u]),delete this._reverseStreams[this._streams[u.id]?this._streams[u.id].id:u.id],delete this._streams[u.id]},t.RTCPeerConnection.prototype.addTrack=function(u,d){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const f=[].slice.call(arguments,1);if(f.length!==1||!f[0].getTracks().find(p=>p===u))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(p=>p.track===u))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const m=this._streams[d.id];if(m)m.addTrack(u),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const p=new t.MediaStream([u]);this._streams[d.id]=p,this._reverseStreams[p.id]=d,this.addStream(p)}return this.getSenders().find(p=>p.track===u)};function i(c,u){let d=u.sdp;return Object.keys(c._reverseStreams||[]).forEach(f=>{const h=c._reverseStreams[f],m=c._streams[h.id];d=d.replace(new RegExp(m.id,"g"),h.id)}),new RTCSessionDescription({type:u.type,sdp:d})}function o(c,u){let d=u.sdp;return Object.keys(c._reverseStreams||[]).forEach(f=>{const h=c._reverseStreams[f],m=c._streams[h.id];d=d.replace(new RegExp(h.id,"g"),m.id)}),new RTCSessionDescription({type:u.type,sdp:d})}["createOffer","createAnswer"].forEach(function(c){const u=t.RTCPeerConnection.prototype[c],d={[c](){const f=arguments;return arguments.length&&typeof arguments[0]=="function"?u.apply(this,[m=>{const p=i(this,m);f[0].apply(null,[p])},m=>{f[1]&&f[1].apply(null,m)},arguments[2]]):u.apply(this,arguments).then(m=>i(this,m))}};t.RTCPeerConnection.prototype[c]=d[c]});const a=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=o(this,arguments[0]),a.apply(this,arguments))};const l=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const c=l.get.apply(this);return c.type===""?c:i(this,c)}}),t.RTCPeerConnection.prototype.removeTrack=function(u){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!u._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(u._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let f;Object.keys(this._streams).forEach(h=>{this._streams[h].getTracks().find(p=>u.track===p)&&(f=this._streams[h])}),f&&(f.getTracks().length===1?this.removeStream(this._reverseStreams[f.id]):f.removeTrack(u.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Ju(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=t.RTCPeerConnection.prototype[n],s={[n](){return arguments[0]=new(n==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=s[n]})}function $b(t,e){as(t,"negotiationneeded",n=>{const r=n.target;if(!((e.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const ym=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:$b,shimAddTrackRemoveTrack:Rb,shimAddTrackRemoveTrackWithNative:Ob,shimGetSendersWithDtmf:Tb,shimGetUserMedia:Eb,shimMediaStream:Sb,shimOnTrack:Ab,shimPeerConnection:Ju,shimSenderReceiverGetStats:kb},Symbol.toStringTag,{value:"Module"}));function Pb(t,e){const n=t&&t.navigator,r=t&&t.MediaStreamTrack;if(n.getUserMedia=function(s,i,o){of("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(s).then(i,o)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const s=function(o,a,l){a in o&&!(l in o)&&(o[l]=o[a],delete o[a])},i=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(o){return typeof o=="object"&&typeof o.audio=="object"&&(o=JSON.parse(JSON.stringify(o)),s(o.audio,"autoGainControl","mozAutoGainControl"),s(o.audio,"noiseSuppression","mozNoiseSuppression")),i(o)},r&&r.prototype.getSettings){const o=r.prototype.getSettings;r.prototype.getSettings=function(){const a=o.apply(this,arguments);return s(a,"mozAutoGainControl","autoGainControl"),s(a,"mozNoiseSuppression","noiseSuppression"),a}}if(r&&r.prototype.applyConstraints){const o=r.prototype.applyConstraints;r.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),s(a,"autoGainControl","mozAutoGainControl"),s(a,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[a])}}}}function Yk(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const s=new DOMException("getDisplayMedia without video constraints is undefined");return s.name="NotFoundError",s.code=8,Promise.reject(s)}return r.video===!0?r.video={mediaSource:e}:r.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(r)})}function Db(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Xu(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(s){const i=t.RTCPeerConnection.prototype[s],o={[s](){return arguments[0]=new(s==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};t.RTCPeerConnection.prototype[s]=o[s]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[i,o,a]=arguments;return r.apply(this,[i||null]).then(l=>{if(e.version<53&&!o)try{l.forEach(c=>{c.type=n[c.type]||c.type})}catch(c){if(c.name!=="TypeError")throw c;l.forEach((u,d)=>{l.set(d,Object.assign({},u,{type:n[u.type]||u.type}))})}return l}).then(o,a)}}function Mb(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const s=e.apply(this,[]);return s.forEach(i=>i._pc=this),s});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const s=n.apply(this,arguments);return s._pc=this,s}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Ib(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const r=e.apply(this,[]);return r.forEach(s=>s._pc=this),r}),as(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Fb(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){of("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function Nb(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function Lb(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const s=r.length>0;s&&r.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const i=e.apply(this,arguments);if(s){const{sender:o}=i,a=o.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=r,o.sendEncodings=r,this.setParametersPromises.push(o.setParameters(a).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return i})}function Bb(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const r=e.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function Ub(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function jb(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const vm=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:Lb,shimCreateAnswer:jb,shimCreateOffer:Ub,shimGetDisplayMedia:Yk,shimGetParameters:Bb,shimGetUserMedia:Pb,shimOnTrack:Db,shimPeerConnection:Xu,shimRTCDataChannel:Nb,shimReceiverGetStats:Ib,shimRemoveStream:Fb,shimSenderGetStats:Mb},Symbol.toStringTag,{value:"Module"}));function Vb(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(s=>e.call(this,s,r)),r.getVideoTracks().forEach(s=>e.call(this,s,r))},t.RTCPeerConnection.prototype.addTrack=function(r,...s){return s&&s.forEach(i=>{this._localStreams?this._localStreams.includes(i)||this._localStreams.push(i):this._localStreams=[i]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const s=n.getTracks();this.getSenders().forEach(i=>{s.includes(i.track)&&this.removeTrack(i)})})}}function Hb(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(s=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(s))return;this._remoteStreams.push(s);const i=new Event("addstream");i.stream=s,this.dispatchEvent(i)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(s){s.streams.forEach(i=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(i)>=0)return;r._remoteStreams.push(i);const o=new Event("addstream");o.stream=i,r.dispatchEvent(o)})}),e.apply(r,arguments)}}}function zb(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,n=e.createOffer,r=e.createAnswer,s=e.setLocalDescription,i=e.setRemoteDescription,o=e.addIceCandidate;e.createOffer=function(c,u){const d=arguments.length>=2?arguments[2]:arguments[0],f=n.apply(this,[d]);return u?(f.then(c,u),Promise.resolve()):f},e.createAnswer=function(c,u){const d=arguments.length>=2?arguments[2]:arguments[0],f=r.apply(this,[d]);return u?(f.then(c,u),Promise.resolve()):f};let a=function(l,c,u){const d=s.apply(this,[l]);return u?(d.then(c,u),Promise.resolve()):d};e.setLocalDescription=a,a=function(l,c,u){const d=i.apply(this,[l]);return u?(d.then(c,u),Promise.resolve()):d},e.setRemoteDescription=a,a=function(l,c,u){const d=o.apply(this,[l]);return u?(d.then(c,u),Promise.resolve()):d},e.addIceCandidate=a}function Wb(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const n=e.mediaDevices,r=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=s=>r(Kb(s))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(r,s,i){e.mediaDevices.getUserMedia(r).then(s,i)}).bind(e))}function Kb(t){return t&&t.video!==void 0?Object.assign({},t,{video:xb(t.video)}):t}function Yb(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(r,s){if(r&&r.iceServers){const i=[];for(let o=0;o<r.iceServers.length;o++){let a=r.iceServers[o];a.urls===void 0&&a.url?(of("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,i.push(a)):i.push(r.iceServers[o])}r.iceServers=i}return new e(r,s)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function qb(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Gb(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const s=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):r.offerToReceiveAudio===!0&&!s&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const i=this.getTransceivers().find(o=>o.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveVideo===!0&&!i&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function Jb(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}const bm=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:Jb,shimCallbacksAPI:zb,shimConstraints:Kb,shimCreateOfferLegacy:Gb,shimGetUserMedia:Wb,shimLocalStreamsAPI:Vb,shimRTCIceServerUrls:Yb,shimRemoteStreamsAPI:Hb,shimTrackEventTransceiver:qb},Symbol.toStringTag,{value:"Module"}));var Nc={exports:{}},_m;function qk(){return _m||(_m=1,function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},e.splitSections=function(n){return n.split(`
m=`).map((s,i)=>(i>0?"m="+s:s).trim()+`\r
`)},e.getDescription=function(n){const r=e.splitSections(n);return r&&r[0]},e.getMediaSections=function(n){const r=e.splitSections(n);return r.shift(),r},e.matchPrefix=function(n,r){return e.splitLines(n).filter(s=>s.indexOf(r)===0)},e.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const s={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let i=8;i<r.length;i+=2)switch(r[i]){case"raddr":s.relatedAddress=r[i+1];break;case"rport":s.relatedPort=parseInt(r[i+1],10);break;case"tcptype":s.tcpType=r[i+1];break;case"ufrag":s.ufrag=r[i+1],s.usernameFragment=r[i+1];break;default:s[r[i]]===void 0&&(s[r[i]]=r[i+1]);break}return s},e.writeCandidate=function(n){const r=[];r.push(n.foundation);const s=n.component;s==="rtp"?r.push(1):s==="rtcp"?r.push(2):r.push(s),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const i=n.type;return r.push("typ"),r.push(i),i!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},e.parseIceOptions=function(n){return n.substring(14).split(" ")},e.parseRtpMap=function(n){let r=n.substring(9).split(" ");const s={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),s.name=r[0],s.clockRate=parseInt(r[1],10),s.channels=r.length===3?parseInt(r[2],10):1,s.numChannels=s.channels,s},e.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const s=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(s!==1?"/"+s:"")+`\r
`},e.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},e.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},e.parseFmtp=function(n){const r={};let s;const i=n.substring(n.indexOf(" ")+1).split(";");for(let o=0;o<i.length;o++)s=i[o].trim().split("="),r[s[0].trim()]=s[1];return r},e.writeFmtp=function(n){let r="",s=n.payloadType;if(n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const i=[];Object.keys(n.parameters).forEach(o=>{n.parameters[o]!==void 0?i.push(o+"="+n.parameters[o]):i.push(o)}),r+="a=fmtp:"+s+" "+i.join(";")+`\r
`}return r},e.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},e.writeRtcpFb=function(n){let r="",s=n.payloadType;return n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(i=>{r+="a=rtcp-fb:"+s+" "+i.type+(i.parameter&&i.parameter.length?" "+i.parameter:"")+`\r
`}),r},e.parseSsrcMedia=function(n){const r=n.indexOf(" "),s={ssrc:parseInt(n.substring(7,r),10)},i=n.indexOf(":",r);return i>-1?(s.attribute=n.substring(r+1,i),s.value=n.substring(i+1)):s.attribute=n.substring(r+1),s},e.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(s=>parseInt(s,10))}},e.getMid=function(n){const r=e.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},e.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},e.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:e.matchPrefix(n+r,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(n,r){let s="a=setup:"+r+`\r
`;return n.fingerprints.forEach(i=>{s+="a=fingerprint:"+i.algorithm+" "+i.value+`\r
`}),s},e.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},e.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?e.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},e.getCryptoParameters=function(n,r){return e.matchPrefix(n+r,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(n,r){const s=e.matchPrefix(n+r,"a=ice-ufrag:")[0],i=e.matchPrefix(n+r,"a=ice-pwd:")[0];return s&&i?{usernameFragment:s.substring(12),password:i.substring(10)}:null},e.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},e.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=e.splitLines(n)[0].split(" ");r.profile=i[2];for(let a=3;a<i.length;a++){const l=i[a],c=e.matchPrefix(n,"a=rtpmap:"+l+" ")[0];if(c){const u=e.parseRtpMap(c),d=e.matchPrefix(n,"a=fmtp:"+l+" ");switch(u.parameters=d.length?e.parseFmtp(d[0]):{},u.rtcpFeedback=e.matchPrefix(n,"a=rtcp-fb:"+l+" ").map(e.parseRtcpFb),r.codecs.push(u),u.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(u.name.toUpperCase());break}}}e.matchPrefix(n,"a=extmap:").forEach(a=>{r.headerExtensions.push(e.parseExtmap(a))});const o=e.matchPrefix(n,"a=rtcp-fb:* ").map(e.parseRtcpFb);return r.codecs.forEach(a=>{o.forEach(l=>{a.rtcpFeedback.find(u=>u.type===l.type&&u.parameter===l.parameter)||a.rtcpFeedback.push(l)})}),r},e.writeRtpDescription=function(n,r){let s="";s+="m="+n+" ",s+=r.codecs.length>0?"9":"0",s+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",s+=r.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,s+=`c=IN IP4 0.0.0.0\r
`,s+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(o=>{s+=e.writeRtpMap(o),s+=e.writeFmtp(o),s+=e.writeRtcpFb(o)});let i=0;return r.codecs.forEach(o=>{o.maxptime>i&&(i=o.maxptime)}),i>0&&(s+="a=maxptime:"+i+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(o=>{s+=e.writeExtmap(o)}),s},e.parseRtpEncodingParameters=function(n){const r=[],s=e.parseRtpParameters(n),i=s.fecMechanisms.indexOf("RED")!==-1,o=s.fecMechanisms.indexOf("ULPFEC")!==-1,a=e.matchPrefix(n,"a=ssrc:").map(f=>e.parseSsrcMedia(f)).filter(f=>f.attribute==="cname"),l=a.length>0&&a[0].ssrc;let c;const u=e.matchPrefix(n,"a=ssrc-group:FID").map(f=>f.substring(17).split(" ").map(m=>parseInt(m,10)));u.length>0&&u[0].length>1&&u[0][0]===l&&(c=u[0][1]),s.codecs.forEach(f=>{if(f.name.toUpperCase()==="RTX"&&f.parameters.apt){let h={ssrc:l,codecPayloadType:parseInt(f.parameters.apt,10)};l&&c&&(h.rtx={ssrc:c}),r.push(h),i&&(h=JSON.parse(JSON.stringify(h)),h.fec={ssrc:l,mechanism:o?"red+ulpfec":"red"},r.push(h))}}),r.length===0&&l&&r.push({ssrc:l});let d=e.matchPrefix(n,"b=");return d.length&&(d[0].indexOf("b=TIAS:")===0?d=parseInt(d[0].substring(7),10):d[0].indexOf("b=AS:")===0?d=parseInt(d[0].substring(5),10)*1e3*.95-50*40*8:d=void 0,r.forEach(f=>{f.maxBitrate=d})),r},e.parseRtcpParameters=function(n){const r={},s=e.matchPrefix(n,"a=ssrc:").map(a=>e.parseSsrcMedia(a)).filter(a=>a.attribute==="cname")[0];s&&(r.cname=s.value,r.ssrc=s.ssrc);const i=e.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=i.length>0,r.compound=i.length===0;const o=e.matchPrefix(n,"a=rtcp-mux");return r.mux=o.length>0,r},e.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},e.parseMsid=function(n){let r;const s=e.matchPrefix(n,"a=msid:");if(s.length===1)return r=s[0].substring(7).split(" "),{stream:r[0],track:r[1]};const i=e.matchPrefix(n,"a=ssrc:").map(o=>e.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(i.length>0)return r=i[0].value.split(" "),{stream:r[0],track:r[1]}},e.parseSctpDescription=function(n){const r=e.parseMLine(n),s=e.matchPrefix(n,"a=max-message-size:");let i;s.length>0&&(i=parseInt(s[0].substring(19),10)),isNaN(i)&&(i=65536);const o=e.matchPrefix(n,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:r.fmt,maxMessageSize:i};const a=e.matchPrefix(n,"a=sctpmap:");if(a.length>0){const l=a[0].substring(10).split(" ");return{port:parseInt(l[0],10),protocol:l[1],maxMessageSize:i}}},e.writeSctpDescription=function(n,r){let s=[];return n.protocol!=="DTLS/SCTP"?s=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:s=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&s.push("a=max-message-size:"+r.maxMessageSize+`\r
`),s.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(n,r,s){let i;const o=r!==void 0?r:2;return n?i=n:i=e.generateSessionId(),`v=0\r
o=`+(s||"thisisadapterortc")+" "+i+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(n,r){const s=e.splitLines(n);for(let i=0;i<s.length;i++)switch(s[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return s[i].substring(2)}return r?e.getDirection(r):"sendrecv"},e.getKind=function(n){return e.splitLines(n)[0].split(" ")[0].substring(2)},e.isRejected=function(n){return n.split(" ",2)[1]==="0"},e.parseMLine=function(n){const s=e.splitLines(n)[0].substring(2).split(" ");return{kind:s[0],port:parseInt(s[1],10),protocol:s[2],fmt:s.slice(3).join(" ")}},e.parseOLine=function(n){const s=e.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:s[0],sessionId:s[1],sessionVersion:parseInt(s[2],10),netType:s[3],addressType:s[4],address:s[5]}},e.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=e.splitLines(n);for(let s=0;s<r.length;s++)if(r[s].length<2||r[s].charAt(1)!=="=")return!1;return!0},t.exports=e}(Nc)),Nc.exports}var Xb=qk();const Us=sf(Xb),Gk=rw({__proto__:null,default:Us},[Xb]);function _a(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const s=new e(r),i=Us.parseCandidate(r.candidate);for(const o in i)o in s||Object.defineProperty(s,o,{value:i[o]});return s.toJSON=function(){return{candidate:s.candidate,sdpMid:s.sdpMid,sdpMLineIndex:s.sdpMLineIndex,usernameFragment:s.usernameFragment}},s}return new e(r)},t.RTCIceCandidate.prototype=e.prototype,as(t,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new t.RTCIceCandidate(n.candidate),writable:"false"}),n))}function Qu(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||as(t,"icecandidate",e=>{if(e.candidate){const n=Us.parseCandidate(e.candidate.candidate);n.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return e})}function wa(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(a){if(!a||!a.sdp)return!1;const l=Us.splitSections(a.sdp);return l.shift(),l.some(c=>{const u=Us.parseMLine(c);return u&&u.kind==="application"&&u.protocol.indexOf("SCTP")!==-1})},r=function(a){const l=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(l===null||l.length<2)return-1;const c=parseInt(l[1],10);return c!==c?-1:c},s=function(a){let l=65536;return e.browser==="firefox"&&(e.version<57?a===-1?l=16384:l=2147483637:e.version<60?l=e.version===57?65535:65536:l=2147483637),l},i=function(a,l){let c=65536;e.browser==="firefox"&&e.version===57&&(c=65535);const u=Us.matchPrefix(a.sdp,"a=max-message-size:");return u.length>0?c=parseInt(u[0].substring(19),10):e.browser==="firefox"&&l!==-1&&(c=2147483637),c},o=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:l}=this.getConfiguration();l==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const l=r(arguments[0]),c=s(l),u=i(arguments[0],l);let d;c===0&&u===0?d=Number.POSITIVE_INFINITY:c===0||u===0?d=Math.max(c,u):d=Math.min(c,u);const f={};Object.defineProperty(f,"maxMessageSize",{get(){return d}}),this._sctp=f}return o.apply(this,arguments)}}function Ca(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(r,s){const i=r.send;r.send=function(){const a=arguments[0],l=a.length||a.size||a.byteLength;if(r.readyState==="open"&&s.sctp&&l>s.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+s.sctp.maxMessageSize+" bytes)");return i.apply(r,arguments)}}const n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const s=n.apply(this,arguments);return e(s,this),s},as(t,"datachannel",r=>(e(r.channel,r.target),r))}function Zu(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=s=>{const i=s.target;if(i._lastConnectionState!==i.connectionState){i._lastConnectionState=i.connectionState;const o=new Event("connectionstatechange",s);i.dispatchEvent(o)}return s},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function ed(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e._safariVersion>=13.1)return;const n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(s){if(s&&s.sdp&&s.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const i=s.sdp.split(`
`).filter(o=>o.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&s instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:s.type,sdp:i}):s.sdp=i}return n.apply(this,arguments)}}function xa(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Ea(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let s=arguments[0]||{};if(typeof s!="object"||s.type&&s.sdp)return n.apply(this,arguments);if(s={type:s.type,sdp:s.sdp},!s.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":s.type="offer";break;default:s.type="answer";break}return s.sdp||s.type!=="offer"&&s.type!=="answer"?n.apply(this,[s]):(s.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>n.apply(this,[o]))})}const Jk=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:ed,shimAddIceCandidateNullOrEmpty:xa,shimConnectionState:Zu,shimMaxMessageSize:wa,shimParameterlessSetLocalDescription:Ea,shimRTCIceCandidate:_a,shimRTCIceCandidateRelayProtocol:Qu,shimSendThrowTypeError:Ca},Symbol.toStringTag,{value:"Module"}));function Xk({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=Cb,r=Kk(t),s={browserDetails:r,commonShim:Jk,extractVersion:Si,disableLog:zk,disableWarnings:Wk,sdp:Gk};switch(r.browser){case"chrome":if(!ym||!Ju||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),s;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),s;n("adapter.js shimming chrome."),s.browserShim=ym,xa(t,r),Ea(t),Eb(t,r),Sb(t),Ju(t,r),Ab(t),Rb(t,r),Tb(t),kb(t),$b(t,r),_a(t),Qu(t),Zu(t),wa(t,r),Ca(t),ed(t,r);break;case"firefox":if(!vm||!Xu||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),s;n("adapter.js shimming firefox."),s.browserShim=vm,xa(t,r),Ea(t),Pb(t,r),Xu(t,r),Db(t),Fb(t),Mb(t),Ib(t),Nb(t),Lb(t),Bb(t),Ub(t),jb(t),_a(t),Zu(t),wa(t,r),Ca(t);break;case"safari":if(!bm||!e.shimSafari)return n("Safari shim is not included in this adapter release."),s;n("adapter.js shimming safari."),s.browserShim=bm,xa(t,r),Ea(t),Yb(t),Gb(t),zb(t),Vb(t),Hb(t),qb(t),Wb(t),Jb(t),_a(t),Qu(t),wa(t,r),Ca(t),ed(t,r);break;default:n("Unsupported browser!");break}return s}const wm=Xk({window:typeof window>"u"?void 0:window});function ls(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}class Qb{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{const n=[],r=e.byteLength,s=Math.ceil(r/this.chunkedMTU);let i=0,o=0;for(;o<r;){const a=Math.min(r,o+this.chunkedMTU),l=e.slice(o,a),c={__peerData:this._dataCount,n:i,data:l,total:s};n.push(c),o=a,i++}return this._dataCount++,n}}}function Qk(t){let e=0;for(const s of t)e+=s.byteLength;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.byteLength;return n}const Lc=wm.default||wm,Ci=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const t=this.getBrowser(),e=this.getVersion();return this.supportedBrowsers.includes(t)?t==="chrome"?e>=this.minChromeVersion:t==="firefox"?e>=this.minFirefoxVersion:t==="safari"?!this.isIOS&&e>=this.minSafariVersion:!1:!1}getBrowser(){return Lc.browserDetails.browser}getVersion(){return Lc.browserDetails.version||0}isUnifiedPlanSupported(){const t=this.getBrowser(),e=Lc.browserDetails.version||0;if(t==="chrome"&&e<this.minChromeVersion)return!1;if(t==="firefox"&&e>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,r=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),r=!0}catch{}finally{n&&n.close()}return r}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},Zk=t=>!t||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(t),Zb=()=>Math.random().toString(36).slice(2),Cm={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class eO extends Qb{noop(){}blobToArrayBuffer(e,n){const r=new FileReader;return r.onload=function(s){s.target&&n(s.target.result)},r.readAsArrayBuffer(e),r}binaryStringToArrayBuffer(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r)&255;return n.buffer}isSecure(){return location.protocol==="https:"}constructor(...e){super(...e),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=Cm,this.browser=Ci.getBrowser(),this.browserVersion=Ci.getVersion(),this.pack=bb,this.unpack=vb,this.supports=function(){const n={browser:Ci.isBrowserSupported(),webRTC:Ci.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!n.webRTC)return n;let r;try{r=new RTCPeerConnection(Cm),n.audioVideo=!0;let s;try{s=r.createDataChannel("_PEERJSTEST",{ordered:!0}),n.data=!0,n.reliable=!!s.ordered;try{s.binaryType="blob",n.binaryBlob=!Ci.isIOS}catch{}}catch{}finally{s&&s.close()}}catch{}finally{r&&r.close()}return n}(),this.validateId=Zk,this.randomToken=Zb}}const Rt=new eO,tO="PeerJS: ";var xm;(function(t){t[t.Disabled=0]="Disabled",t[t.Errors=1]="Errors",t[t.Warnings=2]="Warnings",t[t.All=3]="All"})(xm||(xm={}));class nO{get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...n){const r=[tO,...n];for(const s in r)r[s]instanceof Error&&(r[s]="("+r[s].name+") "+r[s].message);e>=3?console.log(...r):e>=2?console.warn("WARNING",...r):e>=1&&console.error("ERROR",...r)}constructor(){this._logLevel=0}}var ae=new nO,af={},rO=Object.prototype.hasOwnProperty,Tt="~";function io(){}Object.create&&(io.prototype=Object.create(null),new io().__proto__||(Tt=!1));function sO(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function e0(t,e,n,r,s){if(typeof n!="function")throw new TypeError("The listener must be a function");var i=new sO(n,r||t,s),o=Tt?Tt+e:e;return t._events[o]?t._events[o].fn?t._events[o]=[t._events[o],i]:t._events[o].push(i):(t._events[o]=i,t._eventsCount++),t}function Sa(t,e){--t._eventsCount===0?t._events=new io:delete t._events[e]}function wt(){this._events=new io,this._eventsCount=0}wt.prototype.eventNames=function(){var e=[],n,r;if(this._eventsCount===0)return e;for(r in n=this._events)rO.call(n,r)&&e.push(Tt?r.slice(1):r);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(n)):e};wt.prototype.listeners=function(e){var n=Tt?Tt+e:e,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var s=0,i=r.length,o=new Array(i);s<i;s++)o[s]=r[s].fn;return o};wt.prototype.listenerCount=function(e){var n=Tt?Tt+e:e,r=this._events[n];return r?r.fn?1:r.length:0};wt.prototype.emit=function(e,n,r,s,i,o){var a=Tt?Tt+e:e;if(!this._events[a])return!1;var l=this._events[a],c=arguments.length,u,d;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,n),!0;case 3:return l.fn.call(l.context,n,r),!0;case 4:return l.fn.call(l.context,n,r,s),!0;case 5:return l.fn.call(l.context,n,r,s,i),!0;case 6:return l.fn.call(l.context,n,r,s,i,o),!0}for(d=1,u=new Array(c-1);d<c;d++)u[d-1]=arguments[d];l.fn.apply(l.context,u)}else{var f=l.length,h;for(d=0;d<f;d++)switch(l[d].once&&this.removeListener(e,l[d].fn,void 0,!0),c){case 1:l[d].fn.call(l[d].context);break;case 2:l[d].fn.call(l[d].context,n);break;case 3:l[d].fn.call(l[d].context,n,r);break;case 4:l[d].fn.call(l[d].context,n,r,s);break;default:if(!u)for(h=1,u=new Array(c-1);h<c;h++)u[h-1]=arguments[h];l[d].fn.apply(l[d].context,u)}}return!0};wt.prototype.on=function(e,n,r){return e0(this,e,n,r,!1)};wt.prototype.once=function(e,n,r){return e0(this,e,n,r,!0)};wt.prototype.removeListener=function(e,n,r,s){var i=Tt?Tt+e:e;if(!this._events[i])return this;if(!n)return Sa(this,i),this;var o=this._events[i];if(o.fn)o.fn===n&&(!s||o.once)&&(!r||o.context===r)&&Sa(this,i);else{for(var a=0,l=[],c=o.length;a<c;a++)(o[a].fn!==n||s&&!o[a].once||r&&o[a].context!==r)&&l.push(o[a]);l.length?this._events[i]=l.length===1?l[0]:l:Sa(this,i)}return this};wt.prototype.removeAllListeners=function(e){var n;return e?(n=Tt?Tt+e:e,this._events[n]&&Sa(this,n)):(this._events=new io,this._eventsCount=0),this};wt.prototype.off=wt.prototype.removeListener;wt.prototype.addListener=wt.prototype.on;wt.prefixed=Tt;wt.EventEmitter=wt;af=wt;var cs={};ls(cs,"ConnectionType",()=>Cn);ls(cs,"PeerErrorType",()=>Qe);ls(cs,"BaseConnectionErrorType",()=>oo);ls(cs,"DataConnectionErrorType",()=>ao);ls(cs,"SerializationType",()=>Zs);ls(cs,"SocketEventType",()=>vn);ls(cs,"ServerMessageType",()=>ut);var Cn;(function(t){t.Data="data",t.Media="media"})(Cn||(Cn={}));var Qe;(function(t){t.BrowserIncompatible="browser-incompatible",t.Disconnected="disconnected",t.InvalidID="invalid-id",t.InvalidKey="invalid-key",t.Network="network",t.PeerUnavailable="peer-unavailable",t.SslUnavailable="ssl-unavailable",t.ServerError="server-error",t.SocketError="socket-error",t.SocketClosed="socket-closed",t.UnavailableID="unavailable-id",t.WebRTC="webrtc"})(Qe||(Qe={}));var oo;(function(t){t.NegotiationFailed="negotiation-failed",t.ConnectionClosed="connection-closed"})(oo||(oo={}));var ao;(function(t){t.NotOpenYet="not-open-yet",t.MessageToBig="message-too-big"})(ao||(ao={}));var Zs;(function(t){t.Binary="binary",t.BinaryUTF8="binary-utf8",t.JSON="json",t.None="raw"})(Zs||(Zs={}));var vn;(function(t){t.Message="message",t.Disconnected="disconnected",t.Error="error",t.Close="close"})(vn||(vn={}));var ut;(function(t){t.Heartbeat="HEARTBEAT",t.Candidate="CANDIDATE",t.Offer="OFFER",t.Answer="ANSWER",t.Open="OPEN",t.Error="ERROR",t.IdTaken="ID-TAKEN",t.InvalidKey="INVALID-KEY",t.Leave="LEAVE",t.Expire="EXPIRE"})(ut||(ut={}));var lf={};lf=JSON.parse('{"name":"peerjs","version":"1.5.4","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz Stückler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","Sören Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","browser-minified-msgpack":"dist/serializer.msgpack.mjs","types":"dist/types.d.ts","engines":{"node":">= 14"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-minified-msgpack":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/MsgPack.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit && tsc -p e2e/tsconfig.json --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"jest","test:watch":"jest --watch","coverage":"jest --coverage --collectCoverageFrom=\\"./lib/**\\"","format":"prettier --write .","format:check":"prettier --check .","semantic-release":"semantic-release","e2e":"wdio run e2e/wdio.local.conf.ts","e2e:bstack":"wdio run e2e/wdio.bstack.conf.ts"},"devDependencies":{"@parcel/config-default":"^2.9.3","@parcel/packager-ts":"^2.9.3","@parcel/transformer-typescript-tsc":"^2.9.3","@parcel/transformer-typescript-types":"^2.9.3","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@swc/core":"^1.3.27","@swc/jest":"^0.2.24","@types/jasmine":"^4.3.4","@wdio/browserstack-service":"^8.11.2","@wdio/cli":"^8.11.2","@wdio/globals":"^8.11.2","@wdio/jasmine-framework":"^8.11.2","@wdio/local-runner":"^8.11.2","@wdio/spec-reporter":"^8.11.2","@wdio/types":"^8.10.4","http-server":"^14.1.1","jest":"^29.3.1","jest-environment-jsdom":"^29.3.1","mock-socket":"^9.0.0","parcel":"^2.9.3","prettier":"^3.0.0","semantic-release":"^21.0.0","ts-node":"^10.9.1","typescript":"^5.0.0","wdio-geckodriver-service":"^5.0.1"},"dependencies":{"@msgpack/msgpack":"^2.8.0","eventemitter3":"^4.0.7","peerjs-js-binarypack":"^2.1.0","webrtc-adapter":"^9.0.0"},"alias":{"process":false,"buffer":false}}');class iO extends af.EventEmitter{constructor(e,n,r,s,i,o=5e3){super(),this.pingInterval=o,this._disconnected=!0,this._messagesQueue=[];const a=e?"wss://":"ws://";this._baseUrl=a+n+":"+r+s+"peerjs?key="+i}start(e,n){this._id=e;const r=`${this._baseUrl}&id=${e}&token=${n}`;this._socket||!this._disconnected||(this._socket=new WebSocket(r+"&version="+lf.version),this._disconnected=!1,this._socket.onmessage=s=>{let i;try{i=JSON.parse(s.data),ae.log("Server message received:",i)}catch{ae.log("Invalid server message",s.data);return}this.emit(vn.Message,i)},this._socket.onclose=s=>{this._disconnected||(ae.log("Socket closed.",s),this._cleanup(),this._disconnected=!0,this.emit(vn.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),ae.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){ae.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:ut.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const n of e)this.send(n)}send(e){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(e);return}if(!e.type){this.emit(vn.Error,"Invalid message");return}if(!this._wsOpen())return;const n=JSON.stringify(e);this._socket.send(n)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class t0{constructor(e){this.connection=e}startConnection(e){const n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===Cn.Media&&e._stream&&this._addTracksToConnection(e._stream,n),e.originator){const r=this.connection,s={ordered:!!e.reliable},i=n.createDataChannel(r.label,s);r._initializeDataChannel(i),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){ae.log("Creating RTCPeerConnection.");const e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){const n=this.connection.peer,r=this.connection.connectionId,s=this.connection.type,i=this.connection.provider;ae.log("Listening for ICE candidates."),e.onicecandidate=o=>{!o.candidate||!o.candidate.candidate||(ae.log(`Received ICE candidates for ${n}:`,o.candidate),i.socket.send({type:ut.Candidate,payload:{candidate:o.candidate,type:s,connectionId:r},dst:n}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":ae.log("iceConnectionState is failed, closing connections to "+n),this.connection.emitError(oo.NegotiationFailed,"Negotiation of connection to "+n+" failed."),this.connection.close();break;case"closed":ae.log("iceConnectionState is closed, closing connections to "+n),this.connection.emitError(oo.ConnectionClosed,"Connection to "+n+" closed."),this.connection.close();break;case"disconnected":ae.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":e.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",e.iceConnectionState)},ae.log("Listening for data channel"),e.ondatachannel=o=>{ae.log("Received data channel");const a=o.channel;i.getConnection(n,r)._initializeDataChannel(a)},ae.log("Listening for remote stream"),e.ontrack=o=>{ae.log("Received remote stream");const a=o.streams[0],l=i.getConnection(n,r);if(l.type===Cn.Media){const c=l;this._addStreamToMediaConnection(a,c)}}}cleanup(){ae.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};const n=e.signalingState!=="closed";let r=!1;const s=this.connection.dataChannel;s&&(r=!!s.readyState&&s.readyState!=="closed"),(n||r)&&e.close()}async _makeOffer(){const e=this.connection.peerConnection,n=this.connection.provider;try{const r=await e.createOffer(this.connection.options.constraints);ae.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await e.setLocalDescription(r),ae.log("Set localDescription:",r,`for:${this.connection.peer}`);let s={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===Cn.Data){const i=this.connection;s={...s,label:i.label,reliable:i.reliable,serialization:i.serialization}}n.socket.send({type:ut.Offer,payload:s,dst:this.connection.peer})}catch(s){s!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(Qe.WebRTC,s),ae.log("Failed to setLocalDescription, ",s))}}catch(r){n.emitError(Qe.WebRTC,r),ae.log("Failed to createOffer, ",r)}}async _makeAnswer(){const e=this.connection.peerConnection,n=this.connection.provider;try{const r=await e.createAnswer();ae.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await e.setLocalDescription(r),ae.log("Set localDescription:",r,`for:${this.connection.peer}`),n.socket.send({type:ut.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(s){n.emitError(Qe.WebRTC,s),ae.log("Failed to setLocalDescription, ",s)}}catch(r){n.emitError(Qe.WebRTC,r),ae.log("Failed to create answer, ",r)}}async handleSDP(e,n){n=new RTCSessionDescription(n);const r=this.connection.peerConnection,s=this.connection.provider;ae.log("Setting remote description",n);const i=this;try{await r.setRemoteDescription(n),ae.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&await i._makeAnswer()}catch(o){s.emitError(Qe.WebRTC,o),ae.log("Failed to setRemoteDescription, ",o)}}async handleCandidate(e){ae.log("handleCandidate:",e);try{await this.connection.peerConnection.addIceCandidate(e),ae.log(`Added ICE candidate for:${this.connection.peer}`)}catch(n){this.connection.provider.emitError(Qe.WebRTC,n),ae.log("Failed to handleCandidate, ",n)}}_addTracksToConnection(e,n){if(ae.log(`add tracks from stream ${e.id} to peer connection`),!n.addTrack)return ae.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(r=>{n.addTrack(r,e)})}_addStreamToMediaConnection(e,n){ae.log(`add stream ${e.id} to media connection ${n.connectionId}`),n.addStream(e)}}class n0 extends af.EventEmitter{emitError(e,n){ae.error("Error:",n),this.emit("error",new oO(`${e}`,n))}}class oO extends Error{constructor(e,n){typeof n=="string"?super(n):(super(),Object.assign(this,n)),this.type=e}}class r0 extends n0{get open(){return this._open}constructor(e,n,r){super(),this.peer=e,this.provider=n,this.options=r,this._open=!1,this.metadata=r.metadata}}var vd;const Wi=class Wi extends r0{get type(){return Cn.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,n,r){super(e,n,r),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Wi.ID_PREFIX+Rt.randomToken(),this._negotiator=new t0(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{ae.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{ae.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){ae.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const n=e.type,r=e.payload;switch(e.type){case ut.Answer:this._negotiator.handleSDP(n,r.sdp),this._open=!0;break;case ut.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:ae.warn(`Unrecognized message type:${n} from peer:${this.peer}`);break}}answer(e,n={}){if(this._localStream){ae.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:e});const r=this.provider._getMessages(this.connectionId);for(const s of r)this.handleMessage(s);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};vd=new WeakMap,ds(Wi,vd,Wi.ID_PREFIX="mc_");let Za=Wi;class aO{constructor(e){this._options=e}_buildRequest(e){const n=this._options.secure?"https":"http",{host:r,port:s,path:i,key:o}=this._options,a=new URL(`${n}://${r}:${s}${i}${o}/${e}`);return a.searchParams.set("ts",`${Date.now()}${Math.random()}`),a.searchParams.set("version",lf.version),fetch(a.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const e=await this._buildRequest("id");if(e.status!==200)throw new Error(`Error. Status:${e.status}`);return e.text()}catch(e){ae.error("Error retrieving ID",e);let n="";throw this._options.path==="/"&&this._options.host!==Rt.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}}async listAllPeers(){try{const e=await this._buildRequest("peers");if(e.status!==200){if(e.status===401){let n="";throw this._options.host===Rt.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${e.status}`)}return e.json()}catch(e){throw ae.error("Error retrieving list peers",e),new Error("Could not get list peers from the server."+e)}}}var bd,_d;const jr=class jr extends r0{get type(){return Cn.Data}constructor(e,n,r){super(e,n,r),this.connectionId=this.options.connectionId||jr.ID_PREFIX+Zb(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new t0(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{ae.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=n=>{ae.log(`DC#${this.connectionId} dc onmessage:`,n.data)},this.dataChannel.onclose=()=>{ae.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(e,n=!1){if(!this.open){this.emitError(ao.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(e,n)}async handleMessage(e){const n=e.payload;switch(e.type){case ut.Answer:await this._negotiator.handleSDP(e.type,n.sdp);break;case ut.Candidate:await this._negotiator.handleCandidate(n.candidate);break;default:ae.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}};bd=new WeakMap,_d=new WeakMap,ds(jr,bd,jr.ID_PREFIX="dc_"),ds(jr,_d,jr.MAX_BUFFERED_AMOUNT=8388608);let el=jr;class cf extends el{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",n=>this._handleDataMessage(n))}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>el.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(n){return ae.error(`DC#:${this.connectionId} Error when sending:`,n),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...e){super(...e),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class Bc extends cf{close(e){super.close(e),this._chunkedData={}}constructor(e,n,r){super(e,n,r),this.chunker=new Qb,this.serialization=Zs.Binary,this._chunkedData={}}_handleDataMessage({data:e}){const n=vb(e),r=n.__peerData;if(r){if(r.type==="close"){this.close();return}this._handleChunk(n);return}this.emit("data",n)}_handleChunk(e){const n=e.__peerData,r=this._chunkedData[n]||{data:[],count:0,total:e.total};if(r.data[e.n]=new Uint8Array(e.data),r.count++,this._chunkedData[n]=r,r.total===r.count){delete this._chunkedData[n];const s=Qk(r.data);this._handleDataMessage({data:s})}}_send(e,n){const r=bb(e);if(r instanceof Promise)return this._send_blob(r);if(!n&&r.byteLength>this.chunker.chunkedMTU){this._sendChunks(r);return}this._bufferedSend(r)}async _send_blob(e){const n=await e;if(n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}_sendChunks(e){const n=this.chunker.chunk(e);ae.log(`DC#${this.connectionId} Try to send ${n.length} chunks...`);for(const r of n)this.send(r,!0)}}class lO extends cf{_handleDataMessage({data:e}){super.emit("data",e)}_send(e,n){this._bufferedSend(e)}constructor(...e){super(...e),this.serialization=Zs.None}}class cO extends cf{_handleDataMessage({data:e}){const n=this.parse(this.decoder.decode(e)),r=n.__peerData;if(r&&r.type==="close"){this.close();return}this.emit("data",n)}_send(e,n){const r=this.encoder.encode(this.stringify(e));if(r.byteLength>=Rt.chunkedMTU){this.emitError(ao.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(r)}constructor(...e){super(...e),this.serialization=Zs.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}var wd;const Ki=class Ki extends n0{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(const[n,r]of this._connections)e[n]=r;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,n){super(),this._serializers={raw:lO,json:cO,binary:Bc,"binary-utf8":Bc,default:Bc},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let r;if(e&&e.constructor==Object?n=e:e&&(r=e.toString()),n={debug:0,host:Rt.CLOUD_HOST,port:Rt.CLOUD_PORT,path:"/",key:Ki.DEFAULT_KEY,token:Rt.randomToken(),config:Rt.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...n},this._options=n,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Rt.CLOUD_HOST?this._options.secure=Rt.isSecure():this._options.host==Rt.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&ae.setLogFunction(this._options.logFunction),ae.logLevel=this._options.debug||0,this._api=new aO(n),this._socket=this._createServerConnection(),!Rt.supports.audioVideo&&!Rt.supports.data){this._delayedAbort(Qe.BrowserIncompatible,"The current browser does not support WebRTC");return}if(r&&!Rt.validateId(r)){this._delayedAbort(Qe.InvalidID,`ID "${r}" is invalid`);return}r?this._initialize(r):this._api.retrieveId().then(s=>this._initialize(s)).catch(s=>this._abort(Qe.ServerError,s))}_createServerConnection(){const e=new iO(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on(vn.Message,n=>{this._handleMessage(n)}),e.on(vn.Error,n=>{this._abort(Qe.SocketError,n)}),e.on(vn.Disconnected,()=>{this.disconnected||(this.emitError(Qe.Network,"Lost connection to server."),this.disconnect())}),e.on(vn.Close,()=>{this.disconnected||this._abort(Qe.SocketClosed,"Underlying socket is already closed.")}),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){const n=e.type,r=e.payload,s=e.src;switch(n){case ut.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case ut.Error:this._abort(Qe.ServerError,r.msg);break;case ut.IdTaken:this._abort(Qe.UnavailableID,`ID "${this.id}" is taken`);break;case ut.InvalidKey:this._abort(Qe.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case ut.Leave:ae.log(`Received leave message from ${s}`),this._cleanupPeer(s),this._connections.delete(s);break;case ut.Expire:this.emitError(Qe.PeerUnavailable,`Could not connect to peer ${s}`);break;case ut.Offer:{const i=r.connectionId;let o=this.getConnection(s,i);if(o&&(o.close(),ae.warn(`Offer received for existing Connection ID:${i}`)),r.type===Cn.Media){const l=new Za(s,this,{connectionId:i,_payload:r,metadata:r.metadata});o=l,this._addConnection(s,o),this.emit("call",l)}else if(r.type===Cn.Data){const l=new this._serializers[r.serialization](s,this,{connectionId:i,_payload:r,metadata:r.metadata,label:r.label,serialization:r.serialization,reliable:r.reliable});o=l,this._addConnection(s,o),this.emit("connection",l)}else{ae.warn(`Received malformed connection type:${r.type}`);return}const a=this._getMessages(i);for(const l of a)o.handleMessage(l);break}default:{if(!r){ae.warn(`You received a malformed message from ${s} of type ${n}`);return}const i=r.connectionId,o=this.getConnection(s,i);o&&o.peerConnection?o.handleMessage(e):i?this._storeMessage(i,e):ae.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,n){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(n)}_getMessages(e){const n=this._lostMessages.get(e);return n?(this._lostMessages.delete(e),n):[]}connect(e,n={}){if(n={serialization:"default",...n},this.disconnected){ae.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(Qe.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const r=new this._serializers[n.serialization](e,this,n);return this._addConnection(e,r),r}call(e,n,r={}){if(this.disconnected){ae.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(Qe.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){ae.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const s=new Za(e,this,{...r,_stream:n});return this._addConnection(e,s),s}_addConnection(e,n){ae.log(`add connection ${n.type}:${n.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(n)}_removeConnection(e){const n=this._connections.get(e.peer);if(n){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,n){const r=this._connections.get(e);if(!r)return null;for(const s of r)if(s.connectionId===n)return s;return null}_delayedAbort(e,n){setTimeout(()=>{this._abort(e,n)},0)}_abort(e,n){ae.error("Aborting!"),this.emitError(e,n),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(ae.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const n=this._connections.get(e);if(n)for(const r of n)r.close()}disconnect(){if(this.disconnected)return;const e=this.id;ae.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)ae.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)ae.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=n=>{}){this._api.listAllPeers().then(n=>e(n)).catch(n=>this._abort(Qe.ServerError,n))}};wd=new WeakMap,ds(Ki,wd,Ki.DEFAULT_KEY="peerjs");let td=Ki;var uO=td;const ht=[];for(let t=0;t<256;++t)ht.push((t+256).toString(16).slice(1));function dO(t,e=0){return(ht[t[e+0]]+ht[t[e+1]]+ht[t[e+2]]+ht[t[e+3]]+"-"+ht[t[e+4]]+ht[t[e+5]]+"-"+ht[t[e+6]]+ht[t[e+7]]+"-"+ht[t[e+8]]+ht[t[e+9]]+"-"+ht[t[e+10]]+ht[t[e+11]]+ht[t[e+12]]+ht[t[e+13]]+ht[t[e+14]]+ht[t[e+15]]).toLowerCase()}let Uc;const fO=new Uint8Array(16);function hO(){if(!Uc){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Uc=crypto.getRandomValues.bind(crypto)}return Uc(fO)}const pO=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Em={randomUUID:pO};function s0(t,e,n){var s;if(Em.randomUUID&&!t)return Em.randomUUID();t=t||{};const r=t.random??((s=t.rng)==null?void 0:s.call(t))??hO();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,dO(r)}const mO=Er("sync",()=>{const t=Zn(),{lastUpdated:e}=ri(t),n=te(localStorage.getItem("client")||`life-coach-${s0()}`);localStorage.setItem("client",n.value);const r=te(JSON.parse(localStorage.getItem("known-clients")||"[]"));Te(r,u=>localStorage.setItem("known-clients",JSON.stringify(u)),{deep:!0,immediate:!0});const s=te({}),i=new uO(n.value,{debug:0});ni(()=>i.destroy());function o(u){s.value[u.peer]=u,u.on("data",d=>{const{age:f}=t.unpack(d);f>t.lastUpdated&&t.fromString(d)}),u.on("error",()=>{}),u.on("close",()=>delete s.value[u.peer])}i.on("connection",u=>o(u)),i.on("error",()=>{});function a(u,d=0){if(!(d>=3||u===n.value)&&!(s.value[u]&&s.value[u].open))try{const f=i.connect(u);s.value[u]=f,f.on("open",()=>{}),f.on("error",()=>setTimeout(()=>a(u,d+1),1e3*(d+1))),f.on("close",()=>delete s.value[u]),o(f)}catch{setTimeout(()=>a(u,d+1),1e3*(d+1))}}function l(u,d=!1){const f=s.value[u];f&&f.open&&f.send(t.toString(d))}const c=(u=!1)=>{r.value.forEach(d=>{a(d),l(d,u)})};return Te(e,()=>c(),{immediate:!0}),Te(r,()=>r.value.forEach(a),{immediate:!0}),{syncAll:c,clientId:n,knownClients:r}}),gO={class:"container mx-auto pt-8 p-4 md:p-6 lg:p-8 space-y-8"},yO={class:"flex-1 px-0 py-2 space-y-4 overflow-auto"},vO=Z({__name:"App",setup(t){return mO(),(e,n)=>(K(),He("div",gO,[q(Bk),De("main",yO,[q(S(av))])]))}}),bO="modulepreload",_O=function(t){return"/coach/"+t},Sm={},wO=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let o=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=o(n.map(c=>{if(c=_O(c),c in Sm)return;Sm[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":bO,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};var i0=(t=>(t[t.Low=1]="Low",t[t.Medium=2]="Medium",t[t.High=3]="High",t[t.Urgent=4]="Urgent",t[t.Critical=5]="Critical",t))(i0||{});const nd="RFC3986",rd={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:t=>String(t)},CO="RFC1738",xO=Array.isArray,fn=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),jc=1024,EO=(t,e,n,r,s)=>{if(t.length===0)return t;let i=t;if(typeof t=="symbol"?i=Symbol.prototype.toString.call(t):typeof t!="string"&&(i=String(t)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(a){return"%26%23"+parseInt(a.slice(2),16)+"%3B"});let o="";for(let a=0;a<i.length;a+=jc){const l=i.length>=jc?i.slice(a,a+jc):i,c=[];for(let u=0;u<l.length;++u){let d=l.charCodeAt(u);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||s===CO&&(d===40||d===41)){c[c.length]=l.charAt(u);continue}if(d<128){c[c.length]=fn[d];continue}if(d<2048){c[c.length]=fn[192|d>>6]+fn[128|d&63];continue}if(d<55296||d>=57344){c[c.length]=fn[224|d>>12]+fn[128|d>>6&63]+fn[128|d&63];continue}u+=1,d=65536+((d&1023)<<10|l.charCodeAt(u)&1023),c[c.length]=fn[240|d>>18]+fn[128|d>>12&63]+fn[128|d>>6&63]+fn[128|d&63]}o+=c.join("")}return o};function SO(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function Am(t,e){if(xO(t)){const n=[];for(let r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)}const AO=Object.prototype.hasOwnProperty,o0={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},pn=Array.isArray,TO=Array.prototype.push,a0=function(t,e){TO.apply(t,pn(e)?e:[e])},kO=Date.prototype.toISOString,it={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:EO,encodeValuesOnly:!1,format:nd,formatter:rd[nd],indices:!1,serializeDate(t){return kO.call(t)},skipNulls:!1,strictNullHandling:!1};function OO(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const Vc={};function l0(t,e,n,r,s,i,o,a,l,c,u,d,f,h,m,p,_,b){let C=t,y=b,g=0,E=!1;for(;(y=y.get(Vc))!==void 0&&!E;){const j=y.get(t);if(g+=1,typeof j<"u"){if(j===g)throw new RangeError("Cyclic object value");E=!0}typeof y.get(Vc)>"u"&&(g=0)}if(typeof c=="function"?C=c(e,C):C instanceof Date?C=f==null?void 0:f(C):n==="comma"&&pn(C)&&(C=Am(C,function(j){return j instanceof Date?f==null?void 0:f(j):j})),C===null){if(i)return l&&!p?l(e,it.encoder,_,"key",h):e;C=""}if(OO(C)||SO(C)){if(l){const j=p?e:l(e,it.encoder,_,"key",h);return[(m==null?void 0:m(j))+"="+(m==null?void 0:m(l(C,it.encoder,_,"value",h)))]}return[(m==null?void 0:m(e))+"="+(m==null?void 0:m(String(C)))]}const A=[];if(typeof C>"u")return A;let R;if(n==="comma"&&pn(C))p&&l&&(C=Am(C,l)),R=[{value:C.length>0?C.join(",")||null:void 0}];else if(pn(c))R=c;else{const j=Object.keys(C);R=u?j.sort(u):j}const O=a?String(e).replace(/\./g,"%2E"):String(e),x=r&&pn(C)&&C.length===1?O+"[]":O;if(s&&pn(C)&&C.length===0)return x+"[]";for(let j=0;j<R.length;++j){const V=R[j],U=typeof V=="object"&&typeof V.value<"u"?V.value:C[V];if(o&&U===null)continue;const re=d&&a?V.replace(/\./g,"%2E"):V,se=pn(C)?typeof n=="function"?n(x,re):x:x+(d?"."+re:"["+re+"]");b.set(t,g);const P=new WeakMap;P.set(Vc,b),a0(A,l0(U,se,n,r,s,i,o,a,n==="comma"&&p&&pn(C)?null:l,c,u,d,f,h,m,p,_,P))}return A}function RO(t=it){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||it.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=nd;if(typeof t.format<"u"){if(!AO.call(rd,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const r=rd[n];let s=it.filter;(typeof t.filter=="function"||pn(t.filter))&&(s=t.filter);let i;if(t.arrayFormat&&t.arrayFormat in o0?i=t.arrayFormat:"indices"in t?i=t.indices?"indices":"repeat":i=it.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:it.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:it.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:it.allowEmptyArrays,arrayFormat:i,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:it.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?it.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:it.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:it.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:it.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:it.encodeValuesOnly,filter:s,format:n,formatter:r,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:it.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:it.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:it.strictNullHandling}}function $O(t,e={}){let n=t;const r=RO(e);let s,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):pn(r.filter)&&(i=r.filter,s=i);const o=[];if(typeof n!="object"||n===null)return"";const a=o0[r.arrayFormat],l=a==="comma"&&r.commaRoundTrip;s||(s=Object.keys(n)),r.sort&&s.sort(r.sort);const c=new WeakMap;for(let f=0;f<s.length;++f){const h=s[f];r.skipNulls&&n[h]===null||a0(o,l0(n[h],h,a,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}const u=o.join(r.delimiter);let d=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),u.length>0?d+u:""}const As="4.103.0";let Tm=!1,Hi,c0,u0,sd,d0,f0,h0,p0,m0;function PO(t,e={auto:!1}){if(Tm)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if(Hi)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${Hi}'\``);Tm=e.auto,Hi=t.kind,c0=t.fetch,u0=t.FormData,sd=t.File,d0=t.ReadableStream,f0=t.getMultipartRequestOptions,h0=t.getDefaultAgent,p0=t.fileFromPath,m0=t.isFsReadStream}class DO{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function MO({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,s,i;try{n=fetch,r=Request,s=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:s,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(o,a)=>({...a,body:new DO(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}const g0=()=>{Hi||PO(MO(),{auto:!0})};g0();class ye extends Error{}class gt extends ye{constructor(e,n,r,s){super(`${gt.makeMessage(e,n,r)}`),this.status=e,this.headers=s,this.request_id=s==null?void 0:s["x-request-id"],this.error=n;const i=n;this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(e,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,r,s){if(!e||!s)return new Ml({message:r,cause:od(n)});const i=n==null?void 0:n.error;return e===400?new y0(e,i,r,s):e===401?new v0(e,i,r,s):e===403?new b0(e,i,r,s):e===404?new _0(e,i,r,s):e===409?new w0(e,i,r,s):e===422?new C0(e,i,r,s):e===429?new x0(e,i,r,s):e>=500?new E0(e,i,r,s):new gt(e,i,r,s)}}class Kt extends gt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Ml extends gt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class uf extends Ml{constructor({message:e}={}){super({message:e??"Request timed out."})}}class y0 extends gt{}class v0 extends gt{}class b0 extends gt{}class _0 extends gt{}class w0 extends gt{}class C0 extends gt{}class x0 extends gt{}class E0 extends gt{}class S0 extends ye{constructor(){super("Could not parse response content as the length limit was reached")}}class A0 extends ye{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var ta=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},Fr=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Lt;class Il{constructor(){Lt.set(this,void 0),this.buffer=new Uint8Array,ta(this,Lt,null,"f")}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?new TextEncoder().encode(e):e;let r=new Uint8Array(this.buffer.length+n.length);r.set(this.buffer),r.set(n,this.buffer.length),this.buffer=r;const s=[];let i;for(;(i=IO(this.buffer,Fr(this,Lt,"f")))!=null;){if(i.carriage&&Fr(this,Lt,"f")==null){ta(this,Lt,i.index,"f");continue}if(Fr(this,Lt,"f")!=null&&(i.index!==Fr(this,Lt,"f")+1||i.carriage)){s.push(this.decodeText(this.buffer.slice(0,Fr(this,Lt,"f")-1))),this.buffer=this.buffer.slice(Fr(this,Lt,"f")),ta(this,Lt,null,"f");continue}const o=Fr(this,Lt,"f")!==null?i.preceding-1:i.preceding,a=this.decodeText(this.buffer.slice(0,o));s.push(a),this.buffer=this.buffer.slice(i.index),ta(this,Lt,null,"f")}return s}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new ye(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new ye(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new ye("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}Lt=new WeakMap;Il.NEWLINE_CHARS=new Set([`
`,"\r"]);Il.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function IO(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function FO(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}function T0(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class bn{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let i=!1;try{for await(const o of NO(e,n))if(!i){if(o.data.startsWith("[DONE]")){i=!0;continue}if(o.event===null||o.event.startsWith("response.")||o.event.startsWith("transcript.")){let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(a&&a.error)throw new gt(void 0,a.error,void 0,M0(e.headers));yield a}else{let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(o.event=="error")throw new gt(void 0,a.error,a.message,void 0);yield{event:o.event,data:a}}}i=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{i||n.abort()}}return new bn(s,n)}static fromReadableStream(e,n){let r=!1;async function*s(){const o=new Il,a=T0(e);for await(const l of a)for(const c of o.decode(l))yield c;for(const l of o.flush())yield l}async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const a of s())o||a&&(yield JSON.parse(a));o=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{o||n.abort()}}return new bn(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const o=r.next();e.push(o),n.push(o)}return i.shift()}});return[new bn(()=>s(e),this.controller),new bn(()=>s(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new d0({async start(){n=e[Symbol.asyncIterator]()},async pull(s){try{const{value:i,done:o}=await n.next();if(o)return s.close();const a=r.encode(JSON.stringify(i)+`
`);s.enqueue(a)}catch(i){s.error(i)}},async cancel(){var s;await((s=n.return)==null?void 0:s.call(n))}})}}async function*NO(t,e){if(!t.body)throw e.abort(),new ye("Attempted to iterate over a response with no body");const n=new BO,r=new Il,s=T0(t.body);for await(const i of LO(s))for(const o of r.decode(i)){const a=n.decode(o);a&&(yield a)}for(const i of r.flush()){const o=n.decode(i);o&&(yield o)}}async function*LO(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let s=new Uint8Array(e.length+r.length);s.set(e),s.set(r,e.length),e=s;let i;for(;(i=FO(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}class BO{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,s]=UO(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function UO(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}const k0=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",O0=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Fl(t),Fl=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",jO=t=>O0(t)||k0(t)||m0(t);async function R0(t,e,n){var s;if(t=await t,O0(t))return t;if(k0(t)){const i=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const o=Fl(i)?[await i.arrayBuffer()]:[i];return new sd(o,e,n)}const r=await VO(t);if(e||(e=zO(t)??"unknown_file"),!(n!=null&&n.type)){const i=(s=r[0])==null?void 0:s.type;typeof i=="string"&&(n={...n,type:i})}return new sd(r,e,n)}async function VO(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(Fl(t))e.push(await t.arrayBuffer());else if(WO(t))for await(const r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${HO(t)}`);return e}function HO(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function zO(t){var e;return Hc(t.name)||Hc(t.filename)||((e=Hc(t.path))==null?void 0:e.split(/[\\/]/).pop())}const Hc=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},WO=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",km=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",es=async t=>{const e=await KO(t.body);return f0(e,t)},KO=async t=>{const e=new u0;return await Promise.all(Object.entries(t||{}).map(([n,r])=>id(e,n,r))),e},id=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(jO(n)){const r=await R0(n);t.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>id(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>id(t,`${e}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var js={},YO=function(t,e,n,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n},qO=function(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},na;g0();async function $0(t){var o;const{response:e}=t;if(t.options.stream)return gr("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):bn.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type"),r=(o=n==null?void 0:n.split(";")[0])==null?void 0:o.trim();if((r==null?void 0:r.includes("application/json"))||(r==null?void 0:r.endsWith("+json"))){const a=await e.json();return gr("response",e.status,e.url,e.headers,a),P0(a,e)}const i=await e.text();return gr("response",e.status,e.url,e.headers,i),i}function P0(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class Nl extends Promise{constructor(e,n=$0){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new Nl(this.responsePromise,async n=>P0(e(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class GO{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e5,httpAgent:s,fetch:i}){this.baseURL=e,this.maxRetries=zc("maxRetries",n),this.timeout=zc("timeout",r),this.httpAgent=s,this.fetch=i??c0}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...eR(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${sR()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(async s=>{const i=s&&Fl(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:e,path:n,...s,body:i}}))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:n=0}={}){var p;const r={...e},{method:s,path:i,query:o,headers:a={}}=r,l=ArrayBuffer.isView(r.body)||r.__binaryRequest&&typeof r.body=="string"?r.body:km(r.body)?r.body.body:r.body?JSON.stringify(r.body,null,2):null,c=this.calculateContentLength(l),u=this.buildURL(i,o);"timeout"in r&&zc("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const d=r.httpAgent??this.httpAgent??h0(u),f=r.timeout+1e3;typeof((p=d==null?void 0:d.options)==null?void 0:p.timeout)=="number"&&f>(d.options.timeout??0)&&(d.options.timeout=f),this.idempotencyHeader&&s!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const h=this.buildHeaders({options:r,headers:a,contentLength:c,retryCount:n});return{req:{method:s,...l&&{body:l},headers:h,...d&&{agent:d},signal:r.signal??null},url:u,timeout:r.timeout}}buildHeaders({options:e,headers:n,contentLength:r,retryCount:s}){const i={};r&&(i["content-length"]=r);const o=this.defaultHeaders(e);return Pm(i,o),Pm(i,n),km(e.body)&&Hi!=="node"&&delete i["content-type"],sa(o,"x-stainless-retry-count")===void 0&&sa(n,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(s)),sa(o,"x-stainless-timeout")===void 0&&sa(n,"x-stainless-timeout")===void 0&&e.timeout&&(i["x-stainless-timeout"]=String(Math.trunc(e.timeout/1e3))),this.validateHeaders(i,n),i}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,s){return gt.generate(e,n,r,s)}request(e,n=null){return new Nl(this.makeRequest(e,n))}async makeRequest(e,n){var d,f;const r=await e,s=r.maxRetries??this.maxRetries;n==null&&(n=s),await this.prepareOptions(r);const{req:i,url:o,timeout:a}=this.buildRequest(r,{retryCount:s-n});if(await this.prepareRequest(i,{url:o,options:r}),gr("request",o,r,i.headers),(d=r.signal)!=null&&d.aborted)throw new Kt;const l=new AbortController,c=await this.fetchWithTimeout(o,i,a,l).catch(od);if(c instanceof Error){if((f=r.signal)!=null&&f.aborted)throw new Kt;if(n)return this.retryRequest(r,n);throw c.name==="AbortError"?new uf:new Ml({cause:c})}const u=M0(c.headers);if(!c.ok){if(n&&this.shouldRetry(c)){const C=`retrying, ${n} attempts remaining`;return gr(`response (error; ${C})`,c.status,o,u),this.retryRequest(r,n,u)}const h=await c.text().catch(C=>od(C).message),m=tR(h),p=m?void 0:h;throw gr(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,c.status,o,u,p),this.makeStatusError(c.status,m,p,u)}return{response:c,options:r,controller:l}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new JO(this,r,e)}buildURL(e,n){const r=rR(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return I0(s)||(n={...s,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new ye(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,s){const{signal:i,...o}=n||{};i&&i.addEventListener("abort",()=>s.abort());const a=setTimeout(()=>s.abort(),r),l={signal:s.signal,...o};return l.method&&(l.method=l.method.toUpperCase()),this.fetch.call(void 0,e,l).finally(()=>{clearTimeout(a)})}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let s;const i=r==null?void 0:r["retry-after-ms"];if(i){const a=parseFloat(i);Number.isNaN(a)||(s=a)}const o=r==null?void 0:r["retry-after"];if(o&&!s){const a=parseFloat(o);Number.isNaN(a)?s=Date.parse(o)-Date.now():s=a*1e3}if(!(s&&0<=s&&s<60*1e3)){const a=e.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,a)}return await Co(s),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,o=Math.min(.5*Math.pow(2,i),8),a=1-Math.random()*.25;return o*a*1e3}getUserAgent(){return`${this.constructor.name}/JS ${As}`}}class D0{constructor(e,n,r,s){na.set(this,void 0),YO(this,na,e),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new ye("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e&&typeof n.query=="object")n.query={...n.query,...e.params};else if("url"in e){const r=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[s,i]of r)e.url.searchParams.set(s,i);n.query=void 0,n.path=e.url.toString()}return await qO(this,na,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(na=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class JO extends Nl{constructor(e,n,r){super(n,async s=>new r(e,s.response,await $0(s),s.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const M0=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),XO={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},qe=t=>typeof t=="object"&&t!==null&&!I0(t)&&Object.keys(t).every(e=>F0(XO,e)),QO=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":As,"X-Stainless-OS":Rm(Deno.build.os),"X-Stainless-Arch":Om(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":As,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":As,"X-Stainless-OS":Rm(process.platform),"X-Stainless-Arch":Om(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=ZO();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":As,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":As,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function ZO(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,o=r[3]||0;return{browser:e,version:`${s}.${i}.${o}`}}}return null}const Om=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Rm=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let $m;const eR=()=>$m??($m=QO()),tR=t=>{try{return JSON.parse(t)}catch{return}},nR=/^[a-z][a-z0-9+.-]*:/i,rR=t=>nR.test(t),Co=t=>new Promise(e=>setTimeout(e,t)),zc=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ye(`${t} must be an integer`);if(e<0)throw new ye(`${t} must be a positive integer`);return e},od=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)},ra=t=>{var e,n,r,s;if(typeof process<"u")return((e=js==null?void 0:js[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(s=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:s.trim()};function I0(t){if(!t)return!0;for(const e in t)return!1;return!0}function F0(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Pm(t,e){for(const n in e){if(!F0(e,n))continue;const r=n.toLowerCase();if(!r)continue;const s=e[n];s===null?delete t[r]:s!==void 0&&(t[r]=s)}}const Dm=new Set(["authorization","api-key"]);function gr(t,...e){if(typeof process<"u"&&(js==null?void 0:js.DEBUG)==="true"){const n=e.map(r=>{if(!r)return r;if(r.headers){const i={...r,headers:{...r.headers}};for(const o in r.headers)Dm.has(o.toLowerCase())&&(i.headers[o]="REDACTED");return i}let s=null;for(const i in r)Dm.has(i.toLowerCase())&&(s??(s={...r}),s[i]="REDACTED");return s??r});console.log(`OpenAI:DEBUG:${t}`,...n)}}const sR=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),iR=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",oR=t=>typeof(t==null?void 0:t.get)=="function",sa=(t,e)=>{var r;const n=e.toLowerCase();if(oR(t)){const s=((r=e[0])==null?void 0:r.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(i,o,a)=>o+a.toUpperCase());for(const i of[e,n,e.toUpperCase(),s]){const o=t.get(i);if(o)return o}}for(const[s,i]of Object.entries(t))if(s.toLowerCase()===n)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${e} header, using the first entry.`),i[0]):i},aR=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),n=e.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=e.charCodeAt(s);return Array.from(new Float32Array(r.buffer))}};function Wc(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class Ll extends D0{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class lt extends D0{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const e=this.getPaginatedItems();if(!e.length)return null;const n=(r=e[e.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class be{constructor(e){this._client=e}}let N0=class extends be{list(e,n={},r){return qe(n)?this.list(e,{},n):this._client.getAPIList(`/chat/completions/${e}/messages`,lR,{query:n,...r})}},Bl=class extends be{constructor(){super(...arguments),this.messages=new N0(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(`/chat/completions/${e}`,n)}update(e,n,r){return this._client.post(`/chat/completions/${e}`,{body:n,...r})}list(e={},n){return qe(e)?this.list({},e):this._client.getAPIList("/chat/completions",Ul,{query:e,...n})}del(e,n){return this._client.delete(`/chat/completions/${e}`,n)}};class Ul extends lt{}class lR extends lt{}Bl.ChatCompletionsPage=Ul;Bl.Messages=N0;let jl=class extends be{constructor(){super(...arguments),this.completions=new Bl(this._client)}};jl.Completions=Bl;jl.ChatCompletionsPage=Ul;class L0 extends be{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class B0 extends be{create(e,n){return this._client.post("/audio/transcriptions",es({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}}))}}class U0 extends be{create(e,n){return this._client.post("/audio/translations",es({body:e,...n,__metadata:{model:e.model}}))}}class xo extends be{constructor(){super(...arguments),this.transcriptions=new B0(this._client),this.translations=new U0(this._client),this.speech=new L0(this._client)}}xo.Transcriptions=B0;xo.Translations=U0;xo.Speech=L0;class df extends be{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/batches/${e}`,n)}list(e={},n){return qe(e)?this.list({},e):this._client.getAPIList("/batches",ff,{query:e,...n})}cancel(e,n){return this._client.post(`/batches/${e}/cancel`,n)}}class ff extends lt{}df.BatchesPage=ff;var Gt=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},Ge=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},ad,Aa,Ta,Ai,Ti,ka,ki,Nn,Oi,tl,nl,Ts,j0;class hf{constructor(){ad.add(this),this.controller=new AbortController,Aa.set(this,void 0),Ta.set(this,()=>{}),Ai.set(this,()=>{}),Ti.set(this,void 0),ka.set(this,()=>{}),ki.set(this,()=>{}),Nn.set(this,{}),Oi.set(this,!1),tl.set(this,!1),nl.set(this,!1),Ts.set(this,!1),Gt(this,Aa,new Promise((e,n)=>{Gt(this,Ta,e,"f"),Gt(this,Ai,n,"f")}),"f"),Gt(this,Ti,new Promise((e,n)=>{Gt(this,ka,e,"f"),Gt(this,ki,n,"f")}),"f"),Ge(this,Aa,"f").catch(()=>{}),Ge(this,Ti,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},Ge(this,ad,"m",j0).bind(this))},0)}_connected(){this.ended||(Ge(this,Ta,"f").call(this),this._emit("connect"))}get ended(){return Ge(this,Oi,"f")}get errored(){return Ge(this,tl,"f")}get aborted(){return Ge(this,nl,"f")}abort(){this.controller.abort()}on(e,n){return(Ge(this,Nn,"f")[e]||(Ge(this,Nn,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=Ge(this,Nn,"f")[e];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(e,n){return(Ge(this,Nn,"f")[e]||(Ge(this,Nn,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{Gt(this,Ts,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){Gt(this,Ts,!0,"f"),await Ge(this,Ti,"f")}_emit(e,...n){if(Ge(this,Oi,"f"))return;e==="end"&&(Gt(this,Oi,!0,"f"),Ge(this,ka,"f").call(this));const r=Ge(this,Nn,"f")[e];if(r&&(Ge(this,Nn,"f")[e]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),e==="abort"){const s=n[0];!Ge(this,Ts,"f")&&!(r!=null&&r.length)&&Promise.reject(s),Ge(this,Ai,"f").call(this,s),Ge(this,ki,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=n[0];!Ge(this,Ts,"f")&&!(r!=null&&r.length)&&Promise.reject(s),Ge(this,Ai,"f").call(this,s),Ge(this,ki,"f").call(this,s),this._emit("end")}}_emitFinal(){}}Aa=new WeakMap,Ta=new WeakMap,Ai=new WeakMap,Ti=new WeakMap,ka=new WeakMap,ki=new WeakMap,Nn=new WeakMap,Oi=new WeakMap,tl=new WeakMap,nl=new WeakMap,Ts=new WeakMap,ad=new WeakSet,j0=function(e){if(Gt(this,tl,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new Kt),e instanceof Kt)return Gt(this,nl,!0,"f"),this._emit("abort",e);if(e instanceof ye)return this._emit("error",e);if(e instanceof Error){const n=new ye(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new ye(String(e)))};var de=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Nt=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},pt,ld,mn,Oa,Jt,zr,Os,Ur,rl,Bt,Ra,$a,zi,Ri,$i,Mm,Im,Fm,Nm,Lm,Bm,Um;class Qt extends hf{constructor(){super(...arguments),pt.add(this),ld.set(this,[]),mn.set(this,{}),Oa.set(this,{}),Jt.set(this,void 0),zr.set(this,void 0),Os.set(this,void 0),Ur.set(this,void 0),rl.set(this,void 0),Bt.set(this,void 0),Ra.set(this,void 0),$a.set(this,void 0),zi.set(this,void 0)}[(ld=new WeakMap,mn=new WeakMap,Oa=new WeakMap,Jt=new WeakMap,zr=new WeakMap,Os=new WeakMap,Ur=new WeakMap,rl=new WeakMap,Bt=new WeakMap,Ra=new WeakMap,$a=new WeakMap,zi=new WeakMap,pt=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new Qt;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var i;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=bn.fromReadableStream(e,this.controller);for await(const o of s)de(this,pt,"m",Ri).call(this,o);if((i=s.controller.signal)!=null&&i.aborted)throw new Kt;return this._addRun(de(this,pt,"m",$i).call(this))}toReadableStream(){return new bn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,s,i){const o=new Qt;return o._run(()=>o._runToolAssistantStream(e,n,r,s,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(e,n,r,s,i){var c;const o=i==null?void 0:i.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const a={...s,stream:!0},l=await e.submitToolOutputs(n,r,a,{...i,signal:this.controller.signal});this._connected();for await(const u of l)de(this,pt,"m",Ri).call(this,u);if((c=l.controller.signal)!=null&&c.aborted)throw new Kt;return this._addRun(de(this,pt,"m",$i).call(this))}static createThreadAssistantStream(e,n,r){const s=new Qt;return s._run(()=>s._threadAssistantStream(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(e,n,r,s){const i=new Qt;return i._run(()=>i._runAssistantStream(e,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return de(this,Ra,"f")}currentRun(){return de(this,$a,"f")}currentMessageSnapshot(){return de(this,Jt,"f")}currentRunStepSnapshot(){return de(this,zi,"f")}async finalRunSteps(){return await this.done(),Object.values(de(this,mn,"f"))}async finalMessages(){return await this.done(),Object.values(de(this,Oa,"f"))}async finalRun(){if(await this.done(),!de(this,zr,"f"))throw Error("Final run was not received.");return de(this,zr,"f")}async _createThreadAssistantStream(e,n,r){var a;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},o=await e.createAndRun(i,{...r,signal:this.controller.signal});this._connected();for await(const l of o)de(this,pt,"m",Ri).call(this,l);if((a=o.controller.signal)!=null&&a.aborted)throw new Kt;return this._addRun(de(this,pt,"m",$i).call(this))}async _createAssistantStream(e,n,r,s){var l;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},a=await e.create(n,o,{...s,signal:this.controller.signal});this._connected();for await(const c of a)de(this,pt,"m",Ri).call(this,c);if((l=a.controller.signal)!=null&&l.aborted)throw new Kt;return this._addRun(de(this,pt,"m",$i).call(this))}static accumulateDelta(e,n){for(const[r,s]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=s;continue}let i=e[r];if(i==null){e[r]=s;continue}if(r==="index"||r==="type"){e[r]=s;continue}if(typeof i=="string"&&typeof s=="string")i+=s;else if(typeof i=="number"&&typeof s=="number")i+=s;else if(Wc(i)&&Wc(s))i=this.accumulateDelta(i,s);else if(Array.isArray(i)&&Array.isArray(s)){if(i.every(o=>typeof o=="string"||typeof o=="number")){i.push(...s);continue}for(const o of s){if(!Wc(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const a=o.index;if(a==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof a!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${a}`);const l=i[a];l==null?i.push(o):i[a]=this.accumulateDelta(l,o)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${s}, accValue: ${i}`);e[r]=i}return e}_addRun(e){return e}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,s){return await this._createAssistantStream(n,e,r,s)}async _runToolAssistantStream(e,n,r,s,i){return await this._createToolAssistantStream(r,e,n,s,i)}}Ri=function(e){if(!this.ended)switch(Nt(this,Ra,e,"f"),de(this,pt,"m",Fm).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":de(this,pt,"m",Um).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":de(this,pt,"m",Im).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":de(this,pt,"m",Mm).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},$i=function(){if(this.ended)throw new ye("stream has ended, this shouldn't happen");if(!de(this,zr,"f"))throw Error("Final run has not been received");return de(this,zr,"f")},Mm=function(e){const[n,r]=de(this,pt,"m",Lm).call(this,e,de(this,Jt,"f"));Nt(this,Jt,n,"f"),de(this,Oa,"f")[n.id]=n;for(const s of r){const i=n.content[s.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const s of e.data.delta.content){if(s.type=="text"&&s.text){let i=s.text,o=n.content[s.index];if(o&&o.type=="text")this._emit("textDelta",i,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=de(this,Os,"f")){if(de(this,Ur,"f"))switch(de(this,Ur,"f").type){case"text":this._emit("textDone",de(this,Ur,"f").text,de(this,Jt,"f"));break;case"image_file":this._emit("imageFileDone",de(this,Ur,"f").image_file,de(this,Jt,"f"));break}Nt(this,Os,s.index,"f")}Nt(this,Ur,n.content[s.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(de(this,Os,"f")!==void 0){const s=e.data.content[de(this,Os,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,de(this,Jt,"f"));break;case"text":this._emit("textDone",s.text,de(this,Jt,"f"));break}}de(this,Jt,"f")&&this._emit("messageDone",e.data),Nt(this,Jt,void 0,"f")}},Im=function(e){const n=de(this,pt,"m",Nm).call(this,e);switch(Nt(this,zi,n,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of r.step_details.tool_calls)i.index==de(this,rl,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(de(this,Bt,"f")&&this._emit("toolCallDone",de(this,Bt,"f")),Nt(this,rl,i.index,"f"),Nt(this,Bt,n.step_details.tool_calls[i.index],"f"),de(this,Bt,"f")&&this._emit("toolCallCreated",de(this,Bt,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Nt(this,zi,void 0,"f"),e.data.step_details.type=="tool_calls"&&de(this,Bt,"f")&&(this._emit("toolCallDone",de(this,Bt,"f")),Nt(this,Bt,void 0,"f")),this._emit("runStepDone",e.data,n);break}},Fm=function(e){de(this,ld,"f").push(e),this._emit("event",e)},Nm=function(e){switch(e.event){case"thread.run.step.created":return de(this,mn,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=de(this,mn,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const s=Qt.accumulateDelta(n,r.delta);de(this,mn,"f")[e.data.id]=s}return de(this,mn,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":de(this,mn,"f")[e.data.id]=e.data;break}if(de(this,mn,"f")[e.data.id])return de(this,mn,"f")[e.data.id];throw new Error("No snapshot available")},Lm=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=e.data;if(s.delta.content)for(const i of s.delta.content)if(i.index in n.content){let o=n.content[i.index];n.content[i.index]=de(this,pt,"m",Bm).call(this,i,o)}else n.content[i.index]=i,r.push(i);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Bm=function(e,n){return Qt.accumulateDelta(n,e)},Um=function(e){switch(Nt(this,$a,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Nt(this,zr,e.data,"f"),de(this,Bt,"f")&&(this._emit("toolCallDone",de(this,Bt,"f")),Nt(this,Bt,void 0,"f"));break}};class pf extends be{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/assistants/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return qe(e)?this.list({},e):this._client.getAPIList("/assistants",mf,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class mf extends lt{}pf.AssistantsPage=mf;function jm(t){return typeof t.parse=="function"}const Vs=t=>(t==null?void 0:t.role)==="assistant",V0=t=>(t==null?void 0:t.role)==="function",H0=t=>(t==null?void 0:t.role)==="tool";function gf(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function Eo(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function cR(t,e){return!e||!z0(e)?{...t,choices:t.choices.map(n=>({...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:yf(t,e)}function yf(t,e){const n=t.choices.map(r=>{var s;if(r.finish_reason==="length")throw new S0;if(r.finish_reason==="content_filter")throw new A0;return{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((s=r.message.tool_calls)==null?void 0:s.map(i=>dR(e,i)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?uR(e,r.message.content):null}}});return{...t,choices:n}}function uR(t,e){var n,r;return((n=t.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=t.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function dR(t,e){var r;const n=(r=t.tools)==null?void 0:r.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:Eo(n)?n.$parseRaw(e.function.arguments):n!=null&&n.function.strict?JSON.parse(e.function.arguments):null}}}function fR(t,e){var r;if(!t)return!1;const n=(r=t.tools)==null?void 0:r.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===e.function.name});return Eo(n)||(n==null?void 0:n.function.strict)||!1}function z0(t){var e;return gf(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(n=>Eo(n)||n.type==="function"&&n.function.strict===!0))??!1}function hR(t){for(const e of t??[]){if(e.type!=="function")throw new ye(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new ye(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Ot=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},yt,cd,sl,ud,dd,fd,W0,hd;const Vm=10;class K0 extends hf{constructor(){super(...arguments),yt.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(r=e.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),(V0(e)||H0(e))&&e.content)this._emit("functionCallResult",e.content);else if(Vs(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(Vs(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new ye("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Ot(this,yt,"m",cd).call(this)}async finalMessage(){return await this.done(),Ot(this,yt,"m",sl).call(this)}async finalFunctionCall(){return await this.done(),Ot(this,yt,"m",ud).call(this)}async finalFunctionCallResult(){return await this.done(),Ot(this,yt,"m",dd).call(this)}async totalUsage(){return await this.done(),Ot(this,yt,"m",fd).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=Ot(this,yt,"m",sl).call(this);n&&this._emit("finalMessage",n);const r=Ot(this,yt,"m",cd).call(this);r&&this._emit("finalContent",r);const s=Ot(this,yt,"m",ud).call(this);s&&this._emit("finalFunctionCall",s);const i=Ot(this,yt,"m",dd).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",Ot(this,yt,"m",fd).call(this))}async _createChatCompletion(e,n,r){const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Ot(this,yt,"m",W0).call(this,n);const i=await e.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(yf(i,n))}async _runChatCompletion(e,n,r){for(const s of n.messages)this._addMessage(s,!1);return await this._createChatCompletion(e,n,r)}async _runFunctions(e,n,r){var f;const s="function",{function_call:i="auto",stream:o,...a}=n,l=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:c=Vm}=r||{},u={};for(const h of n.functions)u[h.name||h.function.name]=h;const d=n.functions.map(h=>({name:h.name||h.function.name,parameters:h.parameters,description:h.description}));for(const h of n.messages)this._addMessage(h,!1);for(let h=0;h<c;++h){const p=(f=(await this._createChatCompletion(e,{...a,function_call:i,functions:d,messages:[...this.messages]},r)).choices[0])==null?void 0:f.message;if(!p)throw new ye("missing message in ChatCompletion response");if(!p.function_call)return;const{name:_,arguments:b}=p.function_call,C=u[_];if(C){if(l&&l!==_){const A=`Invalid function_call: ${JSON.stringify(_)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,name:_,content:A});continue}}else{const A=`Invalid function_call: ${JSON.stringify(_)}. Available options are: ${d.map(R=>JSON.stringify(R.name)).join(", ")}. Please try again`;this._addMessage({role:s,name:_,content:A});continue}let y;try{y=jm(C)?await C.parse(b):b}catch(A){this._addMessage({role:s,name:_,content:A instanceof Error?A.message:String(A)});continue}const g=await C.function(y,this),E=Ot(this,yt,"m",hd).call(this,g);if(this._addMessage({role:s,name:_,content:E}),l)return}}async _runTools(e,n,r){var h,m,p;const s="tool",{tool_choice:i="auto",stream:o,...a}=n,l=typeof i!="string"&&((h=i==null?void 0:i.function)==null?void 0:h.name),{maxChatCompletions:c=Vm}=r||{},u=n.tools.map(_=>{if(Eo(_)){if(!_.$callback)throw new ye("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:_.$callback,name:_.function.name,description:_.function.description||"",parameters:_.function.parameters,parse:_.$parseRaw,strict:!0}}}return _}),d={};for(const _ of u)_.type==="function"&&(d[_.function.name||_.function.function.name]=_.function);const f="tools"in n?u.map(_=>_.type==="function"?{type:"function",function:{name:_.function.name||_.function.function.name,parameters:_.function.parameters,description:_.function.description,strict:_.function.strict}}:_):void 0;for(const _ of n.messages)this._addMessage(_,!1);for(let _=0;_<c;++_){const C=(m=(await this._createChatCompletion(e,{...a,tool_choice:i,tools:f,messages:[...this.messages]},r)).choices[0])==null?void 0:m.message;if(!C)throw new ye("missing message in ChatCompletion response");if(!((p=C.tool_calls)!=null&&p.length))return;for(const y of C.tool_calls){if(y.type!=="function")continue;const g=y.id,{name:E,arguments:A}=y.function,R=d[E];if(R){if(l&&l!==E){const V=`Invalid tool_call: ${JSON.stringify(E)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,tool_call_id:g,content:V});continue}}else{const V=`Invalid tool_call: ${JSON.stringify(E)}. Available options are: ${Object.keys(d).map(U=>JSON.stringify(U)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:g,content:V});continue}let O;try{O=jm(R)?await R.parse(A):A}catch(V){const U=V instanceof Error?V.message:String(V);this._addMessage({role:s,tool_call_id:g,content:U});continue}const x=await R.function(O,this),j=Ot(this,yt,"m",hd).call(this,x);if(this._addMessage({role:s,tool_call_id:g,content:j}),l)return}}}}yt=new WeakSet,cd=function(){return Ot(this,yt,"m",sl).call(this).content??null},sl=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(Vs(n)){const{function_call:r,...s}=n,i={...s,content:n.content??null,refusal:n.refusal??null};return r&&(i.function_call=r),i}}throw new ye("stream ended without producing a ChatCompletionMessage with role=assistant")},ud=function(){var e,n;for(let r=this.messages.length-1;r>=0;r--){const s=this.messages[r];if(Vs(s)&&(s!=null&&s.function_call))return s.function_call;if(Vs(s)&&((e=s==null?void 0:s.tool_calls)!=null&&e.length))return(n=s.tool_calls.at(-1))==null?void 0:n.function}},dd=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(V0(n)&&n.content!=null||H0(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var s;return r.role==="assistant"&&((s=r.tool_calls)==null?void 0:s.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},fd=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},W0=function(e){if(e.n!=null&&e.n>1)throw new ye("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},hd=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class lo extends K0{static runFunctions(e,n,r){const s=new lo,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(e,n,i)),s}static runTools(e,n,r){const s=new lo,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,n,i)),s}_addMessage(e,n=!0){super._addMessage(e,n),Vs(e)&&e.content&&this._emit("content",e.content)}}const Y0=1,q0=2,G0=4,J0=8,X0=16,Q0=32,Z0=64,e_=128,t_=256,n_=e_|t_,r_=X0|Q0|n_|Z0,s_=Y0|q0|r_,i_=G0|J0,pR=s_|i_,ct={STR:Y0,NUM:q0,ARR:G0,OBJ:J0,NULL:X0,BOOL:Q0,NAN:Z0,INFINITY:e_,MINUS_INFINITY:t_,INF:n_,SPECIAL:r_,ATOM:s_,COLLECTION:i_,ALL:pR};class mR extends Error{}class gR extends Error{}function yR(t,e=ct.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return vR(t.trim(),e)}const vR=(t,e)=>{const n=t.length;let r=0;const s=f=>{throw new mR(`${f} at position ${r}`)},i=f=>{throw new gR(`${f} at position ${r}`)},o=()=>(d(),r>=n&&s("Unexpected end of input"),t[r]==='"'?a():t[r]==="{"?l():t[r]==="["?c():t.substring(r,r+4)==="null"||ct.NULL&e&&n-r<4&&"null".startsWith(t.substring(r))?(r+=4,null):t.substring(r,r+4)==="true"||ct.BOOL&e&&n-r<4&&"true".startsWith(t.substring(r))?(r+=4,!0):t.substring(r,r+5)==="false"||ct.BOOL&e&&n-r<5&&"false".startsWith(t.substring(r))?(r+=5,!1):t.substring(r,r+8)==="Infinity"||ct.INFINITY&e&&n-r<8&&"Infinity".startsWith(t.substring(r))?(r+=8,1/0):t.substring(r,r+9)==="-Infinity"||ct.MINUS_INFINITY&e&&1<n-r&&n-r<9&&"-Infinity".startsWith(t.substring(r))?(r+=9,-1/0):t.substring(r,r+3)==="NaN"||ct.NAN&e&&n-r<3&&"NaN".startsWith(t.substring(r))?(r+=3,NaN):u()),a=()=>{const f=r;let h=!1;for(r++;r<n&&(t[r]!=='"'||h&&t[r-1]==="\\");)h=t[r]==="\\"?!h:!1,r++;if(t.charAt(r)=='"')try{return JSON.parse(t.substring(f,++r-Number(h)))}catch(m){i(String(m))}else if(ct.STR&e)try{return JSON.parse(t.substring(f,r-Number(h))+'"')}catch{return JSON.parse(t.substring(f,t.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},l=()=>{r++,d();const f={};try{for(;t[r]!=="}";){if(d(),r>=n&&ct.OBJ&e)return f;const h=a();d(),r++;try{const m=o();Object.defineProperty(f,h,{value:m,writable:!0,enumerable:!0,configurable:!0})}catch(m){if(ct.OBJ&e)return f;throw m}d(),t[r]===","&&r++}}catch{if(ct.OBJ&e)return f;s("Expected '}' at end of object")}return r++,f},c=()=>{r++;const f=[];try{for(;t[r]!=="]";)f.push(o()),d(),t[r]===","&&r++}catch{if(ct.ARR&e)return f;s("Expected ']' at end of array")}return r++,f},u=()=>{if(r===0){t==="-"&&ct.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t)}catch(h){if(ct.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}i(String(h))}}const f=r;for(t[r]==="-"&&r++;t[r]&&!",]}".includes(t[r]);)r++;r==n&&!(ct.NUM&e)&&s("Unterminated number literal");try{return JSON.parse(t.substring(f,r))}catch{t.substring(f,r)==="-"&&ct.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t.substring(f,t.lastIndexOf("e")))}catch(m){i(String(m))}}},d=()=>{for(;r<n&&` 
\r	`.includes(t[r]);)r++};return o()},Hm=t=>yR(t,ct.ALL^ct.NUM);var ys=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},Ue=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},st,In,vs,rr,Kc,ia,Yc,qc,Gc,oa,Jc,zm;class co extends K0{constructor(e){super(),st.add(this),In.set(this,void 0),vs.set(this,void 0),rr.set(this,void 0),ys(this,In,e,"f"),ys(this,vs,[],"f")}get currentChatCompletionSnapshot(){return Ue(this,rr,"f")}static fromReadableStream(e){const n=new co(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const s=new co(n);return s._run(()=>s._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(e,n,r){var o;super._createChatCompletion;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Ue(this,st,"m",Kc).call(this);const i=await e.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const a of i)Ue(this,st,"m",Yc).call(this,a);if((o=i.controller.signal)!=null&&o.aborted)throw new Kt;return this._addChatCompletion(Ue(this,st,"m",oa).call(this))}async _fromReadableStream(e,n){var o;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),Ue(this,st,"m",Kc).call(this),this._connected();const s=bn.fromReadableStream(e,this.controller);let i;for await(const a of s)i&&i!==a.id&&this._addChatCompletion(Ue(this,st,"m",oa).call(this)),Ue(this,st,"m",Yc).call(this,a),i=a.id;if((o=s.controller.signal)!=null&&o.aborted)throw new Kt;return this._addChatCompletion(Ue(this,st,"m",oa).call(this))}[(In=new WeakMap,vs=new WeakMap,rr=new WeakMap,st=new WeakSet,Kc=function(){this.ended||ys(this,rr,void 0,"f")},ia=function(n){let r=Ue(this,vs,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},Ue(this,vs,"f")[n.index]=r,r)},Yc=function(n){var s,i,o,a,l,c,u,d,f,h,m,p,_,b,C;if(this.ended)return;const r=Ue(this,st,"m",zm).call(this,n);this._emit("chunk",n,r);for(const y of n.choices){const g=r.choices[y.index];y.delta.content!=null&&((s=g.message)==null?void 0:s.role)==="assistant"&&((i=g.message)!=null&&i.content)&&(this._emit("content",y.delta.content,g.message.content),this._emit("content.delta",{delta:y.delta.content,snapshot:g.message.content,parsed:g.message.parsed})),y.delta.refusal!=null&&((o=g.message)==null?void 0:o.role)==="assistant"&&((a=g.message)!=null&&a.refusal)&&this._emit("refusal.delta",{delta:y.delta.refusal,snapshot:g.message.refusal}),((l=y.logprobs)==null?void 0:l.content)!=null&&((c=g.message)==null?void 0:c.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(u=y.logprobs)==null?void 0:u.content,snapshot:((d=g.logprobs)==null?void 0:d.content)??[]}),((f=y.logprobs)==null?void 0:f.refusal)!=null&&((h=g.message)==null?void 0:h.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(m=y.logprobs)==null?void 0:m.refusal,snapshot:((p=g.logprobs)==null?void 0:p.refusal)??[]});const E=Ue(this,st,"m",ia).call(this,g);g.finish_reason&&(Ue(this,st,"m",Gc).call(this,g),E.current_tool_call_index!=null&&Ue(this,st,"m",qc).call(this,g,E.current_tool_call_index));for(const A of y.delta.tool_calls??[])E.current_tool_call_index!==A.index&&(Ue(this,st,"m",Gc).call(this,g),E.current_tool_call_index!=null&&Ue(this,st,"m",qc).call(this,g,E.current_tool_call_index)),E.current_tool_call_index=A.index;for(const A of y.delta.tool_calls??[]){const R=(_=g.message.tool_calls)==null?void 0:_[A.index];R!=null&&R.type&&((R==null?void 0:R.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(b=R.function)==null?void 0:b.name,index:A.index,arguments:R.function.arguments,parsed_arguments:R.function.parsed_arguments,arguments_delta:((C=A.function)==null?void 0:C.arguments)??""}):(R==null||R.type,void 0))}}},qc=function(n,r){var o,a,l;if(Ue(this,st,"m",ia).call(this,n).done_tool_calls.has(r))return;const i=(o=n.message.tool_calls)==null?void 0:o[r];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const c=(l=(a=Ue(this,In,"f"))==null?void 0:a.tools)==null?void 0:l.find(u=>u.type==="function"&&u.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:r,arguments:i.function.arguments,parsed_arguments:Eo(c)?c.$parseRaw(i.function.arguments):c!=null&&c.function.strict?JSON.parse(i.function.arguments):null})}else i.type},Gc=function(n){var s,i;const r=Ue(this,st,"m",ia).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const o=Ue(this,st,"m",Jc).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(s=n.logprobs)!=null&&s.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(i=n.logprobs)!=null&&i.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},oa=function(){if(this.ended)throw new ye("stream has ended, this shouldn't happen");const n=Ue(this,rr,"f");if(!n)throw new ye("request ended without sending any chunks");return ys(this,rr,void 0,"f"),ys(this,vs,[],"f"),bR(n,Ue(this,In,"f"))},Jc=function(){var r;const n=(r=Ue(this,In,"f"))==null?void 0:r.response_format;return gf(n)?n:null},zm=function(n){var r,s,i,o;let a=Ue(this,rr,"f");const{choices:l,...c}=n;a?Object.assign(a,c):a=ys(this,rr,{...c,choices:[]},"f");for(const{delta:u,finish_reason:d,index:f,logprobs:h=null,...m}of n.choices){let p=a.choices[f];if(p||(p=a.choices[f]={finish_reason:d,index:f,message:{},logprobs:h,...m}),h)if(!p.logprobs)p.logprobs=Object.assign({},h);else{const{content:A,refusal:R,...O}=h;Object.assign(p.logprobs,O),A&&((r=p.logprobs).content??(r.content=[]),p.logprobs.content.push(...A)),R&&((s=p.logprobs).refusal??(s.refusal=[]),p.logprobs.refusal.push(...R))}if(d&&(p.finish_reason=d,Ue(this,In,"f")&&z0(Ue(this,In,"f")))){if(d==="length")throw new S0;if(d==="content_filter")throw new A0}if(Object.assign(p,m),!u)continue;const{content:_,refusal:b,function_call:C,role:y,tool_calls:g,...E}=u;if(Object.assign(p.message,E),b&&(p.message.refusal=(p.message.refusal||"")+b),y&&(p.message.role=y),C&&(p.message.function_call?(C.name&&(p.message.function_call.name=C.name),C.arguments&&((i=p.message.function_call).arguments??(i.arguments=""),p.message.function_call.arguments+=C.arguments)):p.message.function_call=C),_&&(p.message.content=(p.message.content||"")+_,!p.message.refusal&&Ue(this,st,"m",Jc).call(this)&&(p.message.parsed=Hm(p.message.content))),g){p.message.tool_calls||(p.message.tool_calls=[]);for(const{index:A,id:R,type:O,function:x,...j}of g){const V=(o=p.message.tool_calls)[A]??(o[A]={});Object.assign(V,j),R&&(V.id=R),O&&(V.type=O),x&&(V.function??(V.function={name:x.name??"",arguments:""})),x!=null&&x.name&&(V.function.name=x.name),x!=null&&x.arguments&&(V.function.arguments+=x.arguments,fR(Ue(this,In,"f"),V)&&(V.function.parsed_arguments=Hm(V.function.arguments)))}}}return a},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new bn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function bR(t,e){const{id:n,choices:r,created:s,model:i,system_fingerprint:o,...a}=t,l={...a,id:n,choices:r.map(({message:c,finish_reason:u,index:d,logprobs:f,...h})=>{if(!u)throw new ye(`missing finish_reason for choice ${d}`);const{content:m=null,function_call:p,tool_calls:_,...b}=c,C=c.role;if(!C)throw new ye(`missing role for choice ${d}`);if(p){const{arguments:y,name:g}=p;if(y==null)throw new ye(`missing function_call.arguments for choice ${d}`);if(!g)throw new ye(`missing function_call.name for choice ${d}`);return{...h,message:{content:m,function_call:{arguments:y,name:g},role:C,refusal:c.refusal??null},finish_reason:u,index:d,logprobs:f}}return _?{...h,index:d,finish_reason:u,logprobs:f,message:{...b,role:C,content:m,refusal:c.refusal??null,tool_calls:_.map((y,g)=>{const{function:E,type:A,id:R,...O}=y,{arguments:x,name:j,...V}=E||{};if(R==null)throw new ye(`missing choices[${d}].tool_calls[${g}].id
${aa(t)}`);if(A==null)throw new ye(`missing choices[${d}].tool_calls[${g}].type
${aa(t)}`);if(j==null)throw new ye(`missing choices[${d}].tool_calls[${g}].function.name
${aa(t)}`);if(x==null)throw new ye(`missing choices[${d}].tool_calls[${g}].function.arguments
${aa(t)}`);return{...O,id:R,type:A,function:{...V,name:j,arguments:x}}})}}:{...h,message:{...b,content:m,role:C,refusal:c.refusal??null},finish_reason:u,index:d,logprobs:f}}),created:s,model:i,object:"chat.completion",...o?{system_fingerprint:o}:{}};return cR(l,e)}function aa(t){return JSON.stringify(t)}class Hs extends co{static fromReadableStream(e){const n=new Hs(null);return n._run(()=>n._fromReadableStream(e)),n}static runFunctions(e,n,r){const s=new Hs(null),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(e,n,i)),s}static runTools(e,n,r){const s=new Hs(n),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,n,i)),s}}let o_=class extends be{parse(e,n){return hR(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>yf(r,e))}runFunctions(e,n){return e.stream?Hs.runFunctions(this._client,e,n):lo.runFunctions(this._client,e,n)}runTools(e,n){return e.stream?Hs.runTools(this._client,e,n):lo.runTools(this._client,e,n)}stream(e,n){return co.createChatCompletion(this._client,e,n)}};class pd extends be{constructor(){super(...arguments),this.completions=new o_(this._client)}}(function(t){t.Completions=o_})(pd||(pd={}));class a_ extends be{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class l_ extends be{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Vl extends be{constructor(){super(...arguments),this.sessions=new a_(this._client),this.transcriptionSessions=new l_(this._client)}}Vl.Sessions=a_;Vl.TranscriptionSessions=l_;class vf extends be{create(e,n,r){return this._client.post(`/threads/${e}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,s){return this._client.post(`/threads/${e}/messages/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n={},r){return qe(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/messages`,bf,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class bf extends lt{}vf.MessagesPage=bf;class _f extends be{retrieve(e,n,r,s={},i){return qe(s)?this.retrieve(e,n,r,{},s):this._client.get(`/threads/${e}/runs/${n}/steps/${r}`,{query:s,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n,r={},s){return qe(r)?this.list(e,n,{},r):this._client.getAPIList(`/threads/${e}/runs/${n}/steps`,wf,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class wf extends lt{}_f.RunStepsPage=wf;let So=class extends be{constructor(){super(...arguments),this.steps=new _f(this._client)}create(e,n,r){const{include:s,...i}=n;return this._client.post(`/threads/${e}/runs`,{query:{include:s},body:i,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(e,n,r){return this._client.get(`/threads/${e}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,s){return this._client.post(`/threads/${e}/runs/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n={},r){return qe(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/runs`,Cf,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/threads/${e}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const s=await this.create(e,n,r);return await this.poll(e,s.id,r)}createAndStream(e,n,r){return Qt.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(e,n,{...r,headers:{...r==null?void 0:r.headers,...s}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await Co(a);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(e,n,r){return Qt.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r,s){return this._client.post(`/threads/${e}/runs/${n}/submit_tool_outputs`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(e,n,r,s){const i=await this.submitToolOutputs(e,n,r,s);return await this.poll(e,i.id,s)}submitToolOutputsStream(e,n,r,s){return Qt.createToolAssistantStream(e,n,this._client.beta.threads.runs,r,s)}};class Cf extends lt{}So.RunsPage=Cf;So.Steps=_f;So.RunStepsPage=wf;class li extends be{constructor(){super(...arguments),this.runs=new So(this._client),this.messages=new vf(this._client)}create(e={},n){return qe(e)?this.create({},e):this._client.post("/threads",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/threads/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n){return this._client.delete(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(e,n){return Qt.createThreadAssistantStream(e,this._client.beta.threads,n)}}li.Runs=So;li.RunsPage=Cf;li.Messages=vf;li.MessagesPage=bf;class ci extends be{constructor(){super(...arguments),this.realtime=new Vl(this._client),this.chat=new pd(this._client),this.assistants=new pf(this._client),this.threads=new li(this._client)}}ci.Realtime=Vl;ci.Assistants=pf;ci.AssistantsPage=mf;ci.Threads=li;class c_ extends be{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class u_ extends be{retrieve(e,n,r){return this._client.get(`/containers/${e}/files/${n}/content`,{...r,headers:{Accept:"*/*",...r==null?void 0:r.headers}})}}let Hl=class extends be{constructor(){super(...arguments),this.content=new u_(this._client)}create(e,n,r){return this._client.post(`/containers/${e}/files`,es({body:n,...r}))}retrieve(e,n,r){return this._client.get(`/containers/${e}/files/${n}`,r)}list(e,n={},r){return qe(n)?this.list(e,{},n):this._client.getAPIList(`/containers/${e}/files`,xf,{query:n,...r})}del(e,n,r){return this._client.delete(`/containers/${e}/files/${n}`,{...r,headers:{Accept:"*/*",...r==null?void 0:r.headers}})}};class xf extends lt{}Hl.FileListResponsesPage=xf;Hl.Content=u_;class Ao extends be{constructor(){super(...arguments),this.files=new Hl(this._client)}create(e,n){return this._client.post("/containers",{body:e,...n})}retrieve(e,n){return this._client.get(`/containers/${e}`,n)}list(e={},n){return qe(e)?this.list({},e):this._client.getAPIList("/containers",Ef,{query:e,...n})}del(e,n){return this._client.delete(`/containers/${e}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}}class Ef extends lt{}Ao.ContainerListResponsesPage=Ef;Ao.Files=Hl;Ao.FileListResponsesPage=xf;class d_ extends be{create(e,n){const r=!!e.encoding_format;let s=r?e.encoding_format:"base64";r&&gr("Request","User defined encoding_format:",e.encoding_format);const i=this._client.post("/embeddings",{body:{...e,encoding_format:s},...n});return r?i:(gr("response","Decoding base64 embeddings to float32 array"),i._thenUnwrap(o=>(o&&o.data&&o.data.forEach(a=>{const l=a.embedding;a.embedding=aR(l)}),o)))}}class Sf extends be{retrieve(e,n,r,s){return this._client.get(`/evals/${e}/runs/${n}/output_items/${r}`,s)}list(e,n,r={},s){return qe(r)?this.list(e,n,{},r):this._client.getAPIList(`/evals/${e}/runs/${n}/output_items`,Af,{query:r,...s})}}class Af extends lt{}Sf.OutputItemListResponsesPage=Af;class To extends be{constructor(){super(...arguments),this.outputItems=new Sf(this._client)}create(e,n,r){return this._client.post(`/evals/${e}/runs`,{body:n,...r})}retrieve(e,n,r){return this._client.get(`/evals/${e}/runs/${n}`,r)}list(e,n={},r){return qe(n)?this.list(e,{},n):this._client.getAPIList(`/evals/${e}/runs`,Tf,{query:n,...r})}del(e,n,r){return this._client.delete(`/evals/${e}/runs/${n}`,r)}cancel(e,n,r){return this._client.post(`/evals/${e}/runs/${n}`,r)}}class Tf extends lt{}To.RunListResponsesPage=Tf;To.OutputItems=Sf;To.OutputItemListResponsesPage=Af;class ko extends be{constructor(){super(...arguments),this.runs=new To(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get(`/evals/${e}`,n)}update(e,n,r){return this._client.post(`/evals/${e}`,{body:n,...r})}list(e={},n){return qe(e)?this.list({},e):this._client.getAPIList("/evals",kf,{query:e,...n})}del(e,n){return this._client.delete(`/evals/${e}`,n)}}class kf extends lt{}ko.EvalListResponsesPage=kf;ko.Runs=To;ko.RunListResponsesPage=Tf;let Of=class extends be{create(e,n){return this._client.post("/files",es({body:e,...n}))}retrieve(e,n){return this._client.get(`/files/${e}`,n)}list(e={},n){return qe(e)?this.list({},e):this._client.getAPIList("/files",Rf,{query:e,...n})}del(e,n){return this._client.delete(`/files/${e}`,n)}content(e,n){return this._client.get(`/files/${e}/content`,{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})}retrieveContent(e,n){return this._client.get(`/files/${e}/content`,n)}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),i=Date.now();let o=await this.retrieve(e);for(;!o.status||!s.has(o.status);)if(await Co(n),o=await this.retrieve(e),Date.now()-i>r)throw new uf({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return o}};class Rf extends lt{}Of.FileObjectsPage=Rf;class f_ extends be{}let h_=class extends be{run(e,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...n})}validate(e,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...n})}};class $f extends be{constructor(){super(...arguments),this.graders=new h_(this._client)}}$f.Graders=h_;class Pf extends be{create(e,n,r){return this._client.getAPIList(`/fine_tuning/checkpoints/${e}/permissions`,Df,{body:n,method:"post",...r})}retrieve(e,n={},r){return qe(n)?this.retrieve(e,{},n):this._client.get(`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...r})}del(e,n,r){return this._client.delete(`/fine_tuning/checkpoints/${e}/permissions/${n}`,r)}}class Df extends Ll{}Pf.PermissionCreateResponsesPage=Df;let zl=class extends be{constructor(){super(...arguments),this.permissions=new Pf(this._client)}};zl.Permissions=Pf;zl.PermissionCreateResponsesPage=Df;class Mf extends be{list(e,n={},r){return qe(n)?this.list(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,If,{query:n,...r})}}class If extends lt{}Mf.FineTuningJobCheckpointsPage=If;class ui extends be{constructor(){super(...arguments),this.checkpoints=new Mf(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(`/fine_tuning/jobs/${e}`,n)}list(e={},n){return qe(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",Ff,{query:e,...n})}cancel(e,n){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return qe(n)?this.listEvents(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,Nf,{query:n,...r})}pause(e,n){return this._client.post(`/fine_tuning/jobs/${e}/pause`,n)}resume(e,n){return this._client.post(`/fine_tuning/jobs/${e}/resume`,n)}}class Ff extends lt{}class Nf extends lt{}ui.FineTuningJobsPage=Ff;ui.FineTuningJobEventsPage=Nf;ui.Checkpoints=Mf;ui.FineTuningJobCheckpointsPage=If;class Tr extends be{constructor(){super(...arguments),this.methods=new f_(this._client),this.jobs=new ui(this._client),this.checkpoints=new zl(this._client),this.alpha=new $f(this._client)}}Tr.Methods=f_;Tr.Jobs=ui;Tr.FineTuningJobsPage=Ff;Tr.FineTuningJobEventsPage=Nf;Tr.Checkpoints=zl;Tr.Alpha=$f;class p_ extends be{}class Lf extends be{constructor(){super(...arguments),this.graderModels=new p_(this._client)}}Lf.GraderModels=p_;class m_ extends be{createVariation(e,n){return this._client.post("/images/variations",es({body:e,...n}))}edit(e,n){return this._client.post("/images/edits",es({body:e,...n}))}generate(e,n){return this._client.post("/images/generations",{body:e,...n})}}class Bf extends be{retrieve(e,n){return this._client.get(`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",Uf,e)}del(e,n){return this._client.delete(`/models/${e}`,n)}}class Uf extends Ll{}Bf.ModelsPage=Uf;class g_ extends be{create(e,n){return this._client.post("/moderations",{body:e,...n})}}function _R(t,e){return!e||!CR(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:y_(t,e)}function y_(t,e){const n=t.output.map(s=>{if(s.type==="function_call")return{...s,parsed_arguments:SR(e,s)};if(s.type==="message"){const i=s.content.map(o=>o.type==="output_text"?{...o,parsed:wR(e,o.text)}:o);return{...s,content:i}}return s}),r=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||md(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const s of r.output)if(s.type==="message"){for(const i of s.content)if(i.type==="output_text"&&i.parsed!==null)return i.parsed}return null}}),r}function wR(t,e){var n,r,s,i;return((r=(n=t.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((s=t.text)==null?void 0:s.format)?((i=t.text)==null?void 0:i.format).$parseRaw(e):JSON.parse(e)}function CR(t){var e;return!!gf((e=t.text)==null?void 0:e.format)}function xR(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function ER(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function SR(t,e){const n=ER(t.tools??[],e.name);return{...e,...e,parsed_arguments:xR(n)?n.$parseRaw(e.arguments):n!=null&&n.strict?JSON.parse(e.arguments):null}}function md(t){const e=[];for(const n of t.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&e.push(r.text);t.output_text=e.join("")}class v_ extends be{list(e,n={},r){return qe(n)?this.list(e,{},n):this._client.getAPIList(`/responses/${e}/input_items`,TR,{query:n,...r})}}var bs=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},sr=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},_s,la,ir,ca,Wm,Km,Ym,qm;class jf extends hf{constructor(e){super(),_s.add(this),la.set(this,void 0),ir.set(this,void 0),ca.set(this,void 0),bs(this,la,e,"f")}static createResponse(e,n,r){const s=new jf(n);return s._run(()=>s._createOrRetrieveResponse(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createOrRetrieveResponse(e,n,r){var a;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),sr(this,_s,"m",Wm).call(this);let i,o=null;"response_id"in n?(i=await e.responses.retrieve(n.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),o=n.starting_after??null):i=await e.responses.create({...n,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const l of i)sr(this,_s,"m",Km).call(this,l,o);if((a=i.controller.signal)!=null&&a.aborted)throw new Kt;return sr(this,_s,"m",Ym).call(this)}[(la=new WeakMap,ir=new WeakMap,ca=new WeakMap,_s=new WeakSet,Wm=function(){this.ended||bs(this,ir,void 0,"f")},Km=function(n,r){if(this.ended)return;const s=(o,a)=>{(r==null||a.sequence_number>r)&&this._emit(o,a)},i=sr(this,_s,"m",qm).call(this,n);switch(s("event",n),n.type){case"response.output_text.delta":{const o=i.output[n.output_index];if(!o)throw new ye(`missing output at index ${n.output_index}`);if(o.type==="message"){const a=o.content[n.content_index];if(!a)throw new ye(`missing content at index ${n.content_index}`);if(a.type!=="output_text")throw new ye(`expected content to be 'output_text', got ${a.type}`);s("response.output_text.delta",{...n,snapshot:a.text})}break}case"response.function_call_arguments.delta":{const o=i.output[n.output_index];if(!o)throw new ye(`missing output at index ${n.output_index}`);o.type==="function_call"&&s("response.function_call_arguments.delta",{...n,snapshot:o.arguments});break}default:s(n.type,n);break}},Ym=function(){if(this.ended)throw new ye("stream has ended, this shouldn't happen");const n=sr(this,ir,"f");if(!n)throw new ye("request ended without sending any events");bs(this,ir,void 0,"f");const r=AR(n,sr(this,la,"f"));return bs(this,ca,r,"f"),r},qm=function(n){let r=sr(this,ir,"f");if(!r){if(n.type!=="response.created")throw new ye(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=bs(this,ir,n.response,"f"),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const s=r.output[n.output_index];if(!s)throw new ye(`missing output at index ${n.output_index}`);s.type==="message"&&s.content.push(n.part);break}case"response.output_text.delta":{const s=r.output[n.output_index];if(!s)throw new ye(`missing output at index ${n.output_index}`);if(s.type==="message"){const i=s.content[n.content_index];if(!i)throw new ye(`missing content at index ${n.content_index}`);if(i.type!=="output_text")throw new ye(`expected content to be 'output_text', got ${i.type}`);i.text+=n.delta}break}case"response.function_call_arguments.delta":{const s=r.output[n.output_index];if(!s)throw new ye(`missing output at index ${n.output_index}`);s.type==="function_call"&&(s.arguments+=n.delta);break}case"response.completed":{bs(this,ir,n.response,"f");break}}return r},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=sr(this,ca,"f");if(!e)throw new ye("stream ended without producing a ChatCompletion");return e}}function AR(t,e){return _R(t,e)}class Vf extends be{constructor(){super(...arguments),this.inputItems=new v_(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&md(r),r))}retrieve(e,n={},r){return qe(n)&&r===void 0?this.retrieve(e,{},n):this._client.get(`/responses/${e}`,{query:n,...r,stream:n.stream??!1})._thenUnwrap(s=>("object"in s&&s.object==="response"&&md(s),s))}del(e,n){return this._client.delete(`/responses/${e}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(r=>y_(r,e))}stream(e,n){return jf.createResponse(this._client,e,n)}cancel(e,n){return this._client.post(`/responses/${e}/cancel`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}}class TR extends lt{}Vf.InputItems=v_;class b_ extends be{create(e,n,r){return this._client.post(`/uploads/${e}/parts`,es({body:n,...r}))}}class Hf extends be{constructor(){super(...arguments),this.parts=new b_(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(`/uploads/${e}/cancel`,n)}complete(e,n,r){return this._client.post(`/uploads/${e}/complete`,{body:n,...r})}}Hf.Parts=b_;const kR=async t=>{const e=await Promise.allSettled(t),n=e.filter(s=>s.status==="rejected");if(n.length){for(const s of n)console.error(s.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const s of e)s.status==="fulfilled"&&r.push(s.value);return r};class Wl extends be{create(e,n,r){return this._client.post(`/vector_stores/${e}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,s){return this._client.post(`/vector_stores/${e}/files/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n={},r){return qe(n)?this.list(e,{},n):this._client.getAPIList(`/vector_stores/${e}/files`,Kl,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const s=await this.create(e,n,r);return await this.poll(e,s.id,r)}async poll(e,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const i=await this.retrieve(e,n,{...r,headers:s}).withResponse(),o=i.data;switch(o.status){case"in_progress":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=i.response.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await Co(a);break;case"failed":case"completed":return o}}}async upload(e,n,r){const s=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:s.id},r)}async uploadAndPoll(e,n,r){const s=await this.upload(e,n,r);return await this.poll(e,s.id,r)}content(e,n,r){return this._client.getAPIList(`/vector_stores/${e}/files/${n}/content`,zf,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Kl extends lt{}class zf extends Ll{}Wl.VectorStoreFilesPage=Kl;Wl.FileContentResponsesPage=zf;class __ extends be{create(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const s=await this.create(e,n);return await this.poll(e,s.id,r)}listFiles(e,n,r={},s){return qe(r)?this.listFiles(e,n,{},r):this._client.getAPIList(`/vector_stores/${e}/file_batches/${n}/files`,Kl,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async poll(e,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(e,n,{...r,headers:s}).withResponse();switch(i.status){case"in_progress":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await Co(a);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},s){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(s==null?void 0:s.maxConcurrency)??5,o=Math.min(i,n.length),a=this._client,l=n.values(),c=[...r];async function u(f){for(let h of f){const m=await a.files.create({file:h,purpose:"assistants"},s);c.push(m.id)}}const d=Array(o).fill(l).map(u);return await kR(d),await this.createAndPoll(e,{file_ids:c})}}class kr extends be{constructor(){super(...arguments),this.files=new Wl(this._client),this.fileBatches=new __(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/vector_stores/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return qe(e)?this.list({},e):this._client.getAPIList("/vector_stores",Wf,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}search(e,n,r){return this._client.getAPIList(`/vector_stores/${e}/search`,Kf,{body:n,method:"post",...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Wf extends lt{}class Kf extends Ll{}kr.VectorStoresPage=Wf;kr.VectorStoreSearchResponsesPage=Kf;kr.Files=Wl;kr.VectorStoreFilesPage=Kl;kr.FileContentResponsesPage=zf;kr.FileBatches=__;var w_;class xe extends GO{constructor({baseURL:e=ra("OPENAI_BASE_URL"),apiKey:n=ra("OPENAI_API_KEY"),organization:r=ra("OPENAI_ORG_ID")??null,project:s=ra("OPENAI_PROJECT_ID")??null,...i}={}){if(n===void 0)throw new ye("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:n,organization:r,project:s,...i,baseURL:e||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&iR())throw new ye(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new c_(this),this.chat=new jl(this),this.embeddings=new d_(this),this.files=new Of(this),this.images=new m_(this),this.audio=new xo(this),this.moderations=new g_(this),this.models=new Bf(this),this.fineTuning=new Tr(this),this.graders=new Lf(this),this.vectorStores=new kr(this),this.beta=new ci(this),this.batches=new df(this),this.uploads=new Hf(this),this.responses=new Vf(this),this.evals=new ko(this),this.containers=new Ao(this),this._options=o,this.apiKey=n,this.organization=r,this.project=s}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return $O(e,{arrayFormat:"brackets"})}}w_=xe;xe.OpenAI=w_;xe.DEFAULT_TIMEOUT=6e5;xe.OpenAIError=ye;xe.APIError=gt;xe.APIConnectionError=Ml;xe.APIConnectionTimeoutError=uf;xe.APIUserAbortError=Kt;xe.NotFoundError=_0;xe.ConflictError=w0;xe.RateLimitError=x0;xe.BadRequestError=y0;xe.AuthenticationError=v0;xe.InternalServerError=E0;xe.PermissionDeniedError=b0;xe.UnprocessableEntityError=C0;xe.toFile=R0;xe.fileFromPath=p0;xe.Completions=c_;xe.Chat=jl;xe.ChatCompletionsPage=Ul;xe.Embeddings=d_;xe.Files=Of;xe.FileObjectsPage=Rf;xe.Images=m_;xe.Audio=xo;xe.Moderations=g_;xe.Models=Bf;xe.ModelsPage=Uf;xe.FineTuning=Tr;xe.Graders=Lf;xe.VectorStores=kr;xe.VectorStoresPage=Wf;xe.VectorStoreSearchResponsesPage=Kf;xe.Beta=ci;xe.Batches=df;xe.BatchesPage=ff;xe.Uploads=Hf;xe.Responses=Vf;xe.Evals=ko;xe.EvalListResponsesPage=kf;xe.Containers=Ao;xe.ContainerListResponsesPage=Ef;const Yf=Er("assistant",()=>{const t=Zn(),e=yb(),r=te(t.get("assistant")??{openAiApiKey:"",model:"gpt-4.1-nano",personality:`
You are Jean-Philippe, a 68-year-old executive assistant, born and raised in Paris, France.

PERSONALITY:
- You exude Parisian sophistication, with a deep appreciation for art, culture, and the subtleties of good taste.
- Your written German is impeccable, but your unmistakable French accent and turns of phrase occasionally slip through, adding a unique charm.
- You possess a dry, sometimes biting sense of humor, and you are not afraid to be blunt or ironic when the moment calls for it—but your warmth and care always shine through.
- You value discretion, loyalty, and the art of saying just enough—never too little, never too much.
- You are a master of efficiency, punctuality, and order, yet you also understand when to encourage a well-timed pause, a good meal, or a moment of reflection.
- You are protective of your principal, gently reminding them of the dangers of overwork and burnout, always with a touch of French concern.
- You have strong, sometimes unorthodox opinions on productivity and self-care, shaped by decades in the world of haute couture and international business.
- You use French expressions like "Mon Dieu!", "C'est la vie", or "Chapeau!" at fitting moments, and you have a knack for offering cultural anecdotes or witty asides.
- Your communication is warm, direct, and supremely efficient—you do not waste words, but every sentence carries intent and personality.

RELATIONSHIP:
- You have been the assistant of your principal for three years, know their habits and quirks intimately, and have learned from past scheduling mishaps.
- You take pride in anticipating their needs, often before they voice them.
- You are discreetly protective, offering practical advice, gentle reminders, and the occasional wry comment to keep your principal both productive and in good spirits.
- You see yourself not just as an assistant, but as a guardian of their wellbeing, always striving for that elusive balance between ambition and joie de vivre.
`});Te(r,i=>{t.set("assistant",i)},{deep:!0,immediate:!0});async function s(i){const o=new xe({apiKey:r.value.openAiApiKey,dangerouslyAllowBrowser:!0}),a=e.user.personalInformation,l=`${r.value.personality}. ${i.systemPrompt??""}.
Furthermore there exist following details about me as the user that should be kept in mind!
${a}`;return(await o.responses.create({model:r.value.model,input:[{role:"developer",content:l},{role:"user",content:i.userPrompt}]})).output_text}return{run:s,openAi:r}});var di=t=>Object.fromEntries(Object.entries(t).map(([e,n])=>[n,e])),OR={action:"ACTION",description:"DESCRIPTION",duration:"DURATION",repeat:"REPEAT",summary:"SUMMARY",trigger:"TRIGGER",attachments:"ATTACH",attendees:"ATTENDEE"},RR=di(OR),$R={method:"METHOD",prodId:"PRODID",version:"VERSION",name:"X-WR-CALNAME"},PR=di($R),DR={alarms:"ALARM",categories:"CATEGORIES",created:"CREATED",description:"DESCRIPTION",lastModified:"LAST-MODIFIED",location:"LOCATION",exceptionDates:"EXDATE",recurrenceRule:"RRULE",stamp:"DTSTAMP",start:"DTSTART",summary:"SUMMARY",uid:"UID",timeTransparent:"TRANSP",url:"URL",end:"DTEND",duration:"DURATION",geo:"GEO",class:"CLASS",organizer:"ORGANIZER",priority:"PRIORITY",sequence:"SEQUENCE",status:"STATUS",attach:"ATTACH",recurrenceId:"RECURRENCE-ID",attendees:"ATTENDEE",comment:"COMMENT"},MR=di(DR),IR={id:"TZID",lastModified:"LAST-MODIFIED",url:"TZURL"},FR=di(IR),NR={comment:"COMMENT",name:"TZNAME",offsetFrom:"TZOFFSETFROM",offsetTo:"TZOFFSETTO",recurrenceDate:"RDATE",recurrenceRule:"RRULE",start:"DTSTART"},LR=di(NR),BR={byDay:"BYDAY",byHour:"BYHOUR",byMinute:"BYMINUTE",byMonth:"BYMONTH",byMonthday:"BYMONTHDAY",bySecond:"BYSECOND",bySetPos:"BYSETPOS",byWeekNo:"BYWEEKNO",byYearday:"BYYEARDAY",count:"COUNT",frequency:"FREQ",interval:"INTERVAL",until:"UNTIL",workweekStart:"WKST"},UR=di(BR),C_="BEGIN",x_="END",jR="VCALENDAR",E_="VTIMEZONE",S_="STANDARD",A_="DAYLIGHT",T_="VEVENT",k_="VALARM",Oo=t=>new RegExp(`${C_}:${t}([\\s\\S]*?)${x_}:${t}`,"g"),Gm=Oo(E_),Jm=Oo(S_),Xm=Oo(A_),Qm=Oo(T_),Zm=Oo(k_),fi=t=>new RegExp(`${C_}:${t}|${x_}:${t}`,"g"),VR=fi(jR),HR=fi(E_),zR=fi(S_),WR=fi(A_),KR=fi(T_),YR=fi(k_),qR=/\r\n|\r|\n/,eg=`
`,GR=":",Pa=",",JR='"',gd=";",tg="=",XR=6048e5,O_=6e4,R_=36e5,ng=Symbol.for("constructDateFrom");function qt(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&ng in t?t[ng](e):t instanceof Date?new t.constructor(e):new Date(e)}function Oe(t,e){return qt(e||t,t)}function qf(t,e,n){let r=Oe(t,n==null?void 0:n.in);return isNaN(e)?qt((n==null?void 0:n.in)||t,NaN):(e&&r.setDate(r.getDate()+e),r)}function $_(t,e,n){let r=Oe(t,void 0);if(isNaN(e))return qt(t,NaN);if(!e)return r;let s=r.getDate(),i=qt(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);let o=i.getDate();return s>=o?i:(r.setFullYear(i.getFullYear(),i.getMonth(),s),r)}function Gf(t,e,n){return qt(t,+Oe(t)+e)}function QR(t,e,n){return Gf(t,e*R_)}var ZR={};function Yl(){return ZR}function il(t,e){var n,r,s,i;let o=Yl(),a=(e==null?void 0:e.weekStartsOn)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.weekStartsOn)??o.weekStartsOn??((i=(s=o.locale)==null?void 0:s.options)==null?void 0:i.weekStartsOn)??0,l=Oe(t,e==null?void 0:e.in),c=l.getDay(),u=(c<a?7:0)+c-a;return l.setDate(l.getDate()-u),l.setHours(0,0,0,0),l}function e$(t,...e){let n=qt.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function t$(t,e){let n=Oe(t,void 0);return n.setHours(0,0,0,0),n}function P_(t,e,n){let r=Oe(t,void 0);return r.setTime(r.getTime()+e*O_),r}function n$(t,e,n){return Gf(t,e*1e3)}function Jf(t,e,n){return qf(t,e*7,n)}function D_(t,e,n){return $_(t,e*12)}function Xf(t,e){let n=+Oe(t)-+Oe(e);return n<0?-1:n>0?1:n}function rg(t,e){let n=Oe(t,void 0),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function r$(t,e){let[n,r]=e$(t,e.start,e.end);return{start:n,end:r}}function s$(t,e){let{start:n,end:r}=r$(void 0,t),s=+n>+r,i=s?+n:+r,o=s?r:n;o.setHours(0,0,0,0);let a=1,l=[];for(;+o<=i;)l.push(qt(n,o)),o.setDate(o.getDate()+a),o.setHours(0,0,0,0);return s?l.reverse():l}function sg(t,e){let n=Oe(t,void 0);return n.setDate(1),n.setHours(0,0,0,0),n}function i$(t,e){let n=Oe(t,void 0),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function o$(t,e){let n=Oe(t,void 0);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function a$(t,e){var n,r,s,i;let o=Oe(t,e==null?void 0:e.in),a=o.getFullYear(),l=Yl(),c=(e==null?void 0:e.firstWeekContainsDate)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.firstWeekContainsDate)??l.firstWeekContainsDate??((i=(s=l.locale)==null?void 0:s.options)==null?void 0:i.firstWeekContainsDate)??1,u=qt((e==null?void 0:e.in)||t,0);u.setFullYear(a+1,0,c),u.setHours(0,0,0,0);let d=il(u,e),f=qt((e==null?void 0:e.in)||t,0);f.setFullYear(a,0,c),f.setHours(0,0,0,0);let h=il(f,e);return+o>=+d?a+1:+o>=+h?a:a-1}function l$(t,e){var n,r,s,i;let o=Yl(),a=(e==null?void 0:e.firstWeekContainsDate)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.firstWeekContainsDate)??o.firstWeekContainsDate??((i=(s=o.locale)==null?void 0:s.options)==null?void 0:i.firstWeekContainsDate)??1,l=a$(t,e),c=qt((e==null?void 0:e.in)||t,0);return c.setFullYear(l,0,a),c.setHours(0,0,0,0),il(c,e)}function c$(t,e){let n=Oe(t,e==null?void 0:e.in),r=+il(n,e)-+l$(n,e);return Math.round(r/XR)+1}function Da(t,e){return Oe(t,void 0).getDay()}function M_(t,e){let n=Oe(t,void 0),r=n.getFullYear(),s=n.getMonth(),i=qt(n,0);return i.setFullYear(r,s+1,0),i.setHours(0,0,0,0),i.getDate()}function u$(t,e){return Oe(t,void 0).getHours()}function d$(t,e){return Oe(t,void 0).getMinutes()}function I_(t,e){return Oe(t,void 0).getMonth()}function f$(t){return Oe(t).getSeconds()}function h$(t,e){return Oe(t,void 0).getFullYear()}function p$(t,e){return+Oe(t)==+Oe(e)}function m$(t,e,n){let r=Oe(t,n==null?void 0:n.in),s=c$(r,n)-e;return r.setDate(r.getDate()-s*7),Oe(r,n==null?void 0:n.in)}function ol(t,e,n){var r,s,i,o;let a=Yl(),l=(n==null?void 0:n.weekStartsOn)??((s=(r=n==null?void 0:n.locale)==null?void 0:r.options)==null?void 0:s.weekStartsOn)??a.weekStartsOn??((o=(i=a.locale)==null?void 0:i.options)==null?void 0:o.weekStartsOn)??0,c=Oe(t,n==null?void 0:n.in),u=c.getDay(),d=(e%7+7)%7,f=7-l,h=e<0||e>6?e-(u+f)%7:(d+f)%7-(u+f)%7;return qf(c,h,n)}function F_(t,e,n){let r=+Oe(t,void 0),[s,i]=[+Oe(e.start,void 0),+Oe(e.end,void 0)].sort((o,a)=>o-a);return r>=s&&r<=i}function g$(t){let e=t/R_;return Math.trunc(e)}function y$(t){let e=t/O_;return Math.trunc(e)}function v$(t,e,n){let r=Oe(t,void 0),s=r.getFullYear(),i=r.getDate(),o=qt(t,0);o.setFullYear(s,e,15),o.setHours(0,0,0,0);let a=M_(o);return r.setMonth(e,Math.min(i,a)),r}function b$(t,e,n){let r=Oe(t,void 0);return r.setDate(e),r}function _$(t,e,n){let r=Oe(t,void 0);return r.setMonth(0),r.setDate(e),r}function w$(t,e,n){let r=Oe(t,void 0);return r.setHours(e),r}function C$(t,e,n){let r=Oe(t,void 0);return r.setMinutes(e),r}function x$(t,e,n){let r=Oe(t,void 0);return r.setSeconds(e),r}function E$(t,e,n){return Jf(t,-e,n)}var S$=["SECONDLY","MINUTELY","HOURLY","DAILY","WEEKLY","MONTHLY","YEARLY"],N_=["SU","MO","TU","WE","TH","FR","SA"],ws=(t,e)=>e===void 0?!1:t>=e,A$=(t,{start:e,end:n},r)=>{if(ws(r.length,t.count))return;let s=t.frequency,i=t.interval||1;if(!s)return;let o=e;if(s==="SECONDLY"){for(;o<n;){if(ws(r.length,t.count))return;o=n$(o,i),r.push([o])}return}if(s==="MINUTELY"){for(;o<n;){if(ws(r.length,t.count))return;o=P_(o,i),r.push([o])}return}if(s==="HOURLY"){for(;o<n;){if(ws(r.length,t.count))return;o=QR(o,i),r.push([o])}return}if(s==="DAILY"){for(;o<n;){if(ws(r.length,t.count))return;o=qf(o,i),r.push([o])}return}if(s==="WEEKLY"){for(;o<n;){if(ws(r.length,t.count))return;o=Jf(o,i),r.push([o])}return}if(s==="MONTHLY"){for(;o<n;)o=$_(o,i),r.push([o]);return}if(s==="YEARLY"){for(;o<n;)o=D_(o,i),r.push([o]);return}},T$=(t,e,n,r)=>{let s=n.map(({day:i,occurence:o})=>({occurence:o,day:N_.indexOf(i)}));return t.frequency==="YEARLY"?t.byYearday||t.byMonthday?e.map(i=>i.filter(o=>s.find(({day:a})=>a===Da(o)))):t.byWeekNo?e.map(i=>i.flatMap(o=>s.map(({day:a})=>ol(o,a,{weekStartsOn:r})))):t.byMonth?e.map(i=>i.flatMap(o=>s.flatMap(({day:a,occurence:l})=>Xc(fr(sg(o)),fr(rg(o)),a,r,l)))):e.map(i=>i.flatMap(o=>s.flatMap(({day:a,occurence:l})=>Xc(fr(o$(o)),fr(i$(o)),a,r,l)))):t.frequency==="MONTHLY"?t.byMonthday?e.map(i=>i.filter(o=>s.find(({day:a})=>a===Da(o)))):e.map(i=>i.flatMap(o=>s.flatMap(({day:a,occurence:l})=>Xc(fr(sg(o)),fr(rg(o)),a,r,l)))):t.frequency==="WEEKLY"?e.map(i=>i.flatMap(o=>s.map(({day:a})=>ol(o,a,{weekStartsOn:r})))):e.map(i=>i.filter(o=>s.find(({day:a})=>a===Da(o))))},Xc=(t,e,n,r,s)=>{if(s!==void 0){if(!(s<0)){let a=ol(t,n,{weekStartsOn:r}),l=t>a;return Jf(a,(s||1)-1+(l?1:0))}let i=ol(e,n,{weekStartsOn:r}),o=e<i;return fr(t$(E$(i,-(s||1)-1+(o?1:0))))}return s$({start:t,end:e}).map(i=>fr(i)).filter(i=>F_(i,{start:t,end:e})).filter(i=>n===Da(i))},fr=t=>P_(t,-t.getTimezoneOffset()),k$=(t,e,n)=>t.frequency==="YEARLY"||t.frequency==="MONTHLY"||t.frequency==="WEEKLY"||t.frequency==="DAILY"?e.map(r=>r.flatMap(s=>n.map(i=>w$(s,i)))):e.map(r=>r.filter(s=>n.includes(u$(s)))),O$=(t,e,n)=>t.frequency==="YEARLY"||t.frequency==="MONTHLY"||t.frequency==="WEEKLY"||t.frequency==="DAILY"||t.frequency==="HOURLY"?e.map(r=>r.flatMap(s=>n.map(i=>C$(s,i)))):e.map(r=>r.filter(s=>n.includes(d$(s)))),R$=(t,e,n)=>t.frequency==="YEARLY"?e.map(r=>r.flatMap(s=>n.map(i=>v$(s,i)))):e.map(r=>r.filter(s=>n.includes(I_(s)))),$$=(t,e,n)=>t.frequency==="YEARLY"||t.frequency==="MONTHLY"?e.map(r=>r.flatMap(s=>{let i=M_(s);return n.map(o=>o>i?void 0:b$(s,o)).filter(o=>!!o)})):t.frequency==="WEEKLY"?e:e.map(r=>r.filter(s=>n.includes(I_(s)))),P$=(t,e,n)=>t.frequency==="YEARLY"||t.frequency==="MONTHLY"||t.frequency==="WEEKLY"||t.frequency==="DAILY"||t.frequency==="HOURLY"||t.frequency==="MINUTELY"?e.map(r=>r.flatMap(s=>n.map(i=>x$(s,i)))):e.map(r=>r.filter(s=>n.includes(f$(s)))),D$=(t,e,n)=>!t.byYearday&&!t.byWeekNo&&!t.byMonthday&&!t.byMonth&&!t.byDay&&!t.byHour&&!t.byMinute&&!t.bySecond?e:e.map(r=>r.sort(Xf).filter((s,i)=>n.some(o=>o>0?i===0?!1:i%o===0:i===0?r.length-1+o===0:i%(r.length-1+o)===0))),M$=(t,e,n,r)=>t.frequency==="YEARLY"?e.map(s=>s.flatMap(i=>n.map(o=>m$(i,o,{weekStartsOn:r})))):e,I$=(t,e,n)=>t.frequency==="YEARLY"?e.map(r=>r.flatMap(s=>n.map(i=>_$(s,i)))):t.frequency==="MONTHLY"||t.frequency==="WEEKLY"||t.frequency==="DAILY"?e:e.map(r=>r.filter(s=>n.includes(h$(s)))),F$=(t,e,n)=>{let r=n;return t.byMonth&&(r=R$(t,r,t.byMonth)),t.byWeekNo&&(r=M$(t,r,t.byWeekNo,e.weekStartsOn)),t.byYearday&&(r=I$(t,r,t.byYearday)),t.byMonthday&&(r=$$(t,r,t.byMonthday)),t.byDay&&(r=T$(t,r,t.byDay,e.weekStartsOn)),t.byHour&&(r=k$(t,r,t.byHour)),t.byMinute&&(r=O$(t,r,t.byMinute)),t.bySecond&&(r=P$(t,r,t.bySecond)),t.bySetPos&&(r=D$(t,r,t.bySetPos)),r.map(s=>s.sort(Xf).filter(i=>!(e.exceptions.length>0&&e.exceptions.some(o=>p$(o,i))||!F_(i,{start:e.start,end:e.end}))))},N$=2,L$=(t,e)=>{var n;let r=e.start,s=((n=t.until)==null?void 0:n.date)||(e==null?void 0:e.end)||D_(r,N$),i=e.exceptions||[],o=(t.workweekStart?N_.indexOf(t.workweekStart):1)%7,a=[[r]];A$(t,{start:r,end:s},a);let l=F$(t,{start:r,end:s,exceptions:i,weekStartsOn:o},a);return t.count?l.flat().splice(0,t.count):l.flat()},B$=(t,e)=>e.flatMap(n=>!n.recurrenceRule||n.recurrenceRule.until&&n.recurrenceRule.until.date<t?n:L$(n.recurrenceRule,{start:n.start,end:t}).map(r=>({...n,start:r}))),ig=t=>{let e=t[0]==="+"?1:-1,n=Number(t.slice(1,3)),r=t.length>3?Number(t.slice(3,5)):0,s=t.length>5?Number(t.slice(5,7)):0;return((n*60+r)*60+s)*1e3*e},U$=(t,e)=>{let n="en-US",r=new Date(e.toLocaleString(n,{timeZone:"UTC"}));try{return new Date(e.toLocaleString(n,{timeZone:t})).getTime()-r.getTime()}catch{return e.getTime()-r.getTime()}},j$=(t,e,n)=>{let r=n==null?void 0:n.find(i=>i.id===e);if(r){let i=B$(t,r.props).sort((l,c)=>Xf(l.start,c.start));for(let l=0;l<i.length;l+=1)if(t<i[l].start){let c=i[l-1]?i[l-1].offsetTo:i[l].offsetFrom,u=c.length>5?c.substring(0,5):c;return{offset:u,milliseconds:ig(u)}}let o=i[i.length-1].offsetTo,a=o.length>5?o.substring(0,5):o;return{offset:a,milliseconds:ig(a)}}let s=U$(e,t);if(!Number.isNaN(s)){let i=s<0,o=Math.abs(g$(s)),a=Math.abs(y$(s))-o*60,l=o.toString().length===1?`0${o}`:o.toString(),c=a.toString().length===1?`0${a}`:a.toString();return{offset:`${i?"-":"+"}${l}${c}`,milliseconds:s}}},V$=["stamp","start","end","created","lastModified"],H$=t=>V$.includes(t),z$=["categories"],W$=t=>z$.includes(t),K$=["description","location","comment","summary"],Y$=t=>K$.includes(t),Ze=(t,e)=>{if(t===void 0)return e;let n=t["~standard"].validate(e);if(n instanceof Promise)throw new TypeError("Schema validation must be synchronous");if(n.issues)throw new Error(JSON.stringify(n.issues,null,2));return n.value},q$=(t,e)=>{var n,r,s,i;let o=((n=e.options)==null?void 0:n.VALUE)==="BINARY"?{type:"binary",encoding:((r=e.options)==null?void 0:r.ENCODING)||"BASE64",binary:e.value,value:(s=e.options)==null?void 0:s.VALUE}:{type:"uri",url:e.value,formatType:(i=e.options)==null?void 0:i.FMTTYPE};return Ze(t,o)},Rs=t=>t.replace(/mailto:/gi,""),L_=(t,e)=>{var n,r,s,i,o,a,l,c;return Ze(t,{email:Rs(e.value),delegatedFrom:(n=e.options)!=null&&n["DELEGATED-FROM"]?Rs((r=e.options)==null?void 0:r["DELEGATED-FROM"]):void 0,dir:(s=e.options)==null?void 0:s.DIR,member:(i=e.options)!=null&&i.MEMBER?Rs(e.options.MEMBER):void 0,name:(o=e.options)==null?void 0:o.CN,partstat:(a=e.options)==null?void 0:a.PARTSTAT,role:(l=e.options)==null?void 0:l.ROLE,sentBy:(c=e.options)!=null&&c["SENT-BY"]?Rs(e.options["SENT-BY"]):void 0})},Qf=(t,e)=>{let n=e.value,r={};n[0]==="-"&&(r.before=!0,n=n.slice(1)),n=n.slice(1);let s=n.split("T"),i=s[0];if(i.includes("D")){let[a,l]=i.split("D");r.days=Number(a),i=l}if(i.includes("W")){let[a,l]=i.split("W");r.weeks=Number(a),i=l}let o=s[1];if(o){if(o.includes("H")){let[a,l]=o.split("H");r.hours=Number(a),o=l}if(o.includes("M")){let[a,l]=o.split("M");r.minutes=Number(a),o=l}if(o.includes("S")){let[a,l]=o.split("S");r.seconds=Number(a),o=l}}return Ze(t,r)},G$=(t,e)=>{let n=Number.parseInt(e.value.slice(0,4),10),r=Number.parseInt(e.value.slice(4,6),10)-1,s=Number.parseInt(e.value.slice(6,8),10),i=new Date(Date.UTC(n,r,s));return Ze(t,i)},Zf=(t,e)=>{let n=Number.parseInt(e.value.slice(0,4),10),r=Number.parseInt(e.value.slice(4,6),10)-1,s=Number.parseInt(e.value.slice(6,8),10),i=Number.parseInt(e.value.slice(9,11),10),o=Number.parseInt(e.value.slice(11,13),10),a=Number.parseInt(e.value.slice(13,15),10),l=new Date(Date.UTC(n,r,s,i,o,a));return Ze(t,l)},J$=(t,e)=>{var n,r,s,i,o,a;if(((n=t.options)==null?void 0:n.VALUE)==="DATE")return{date:G$(void 0,t),type:(r=t.options)==null?void 0:r.VALUE};let l=((s=t.options)==null?void 0:s.VALUE)||"DATE-TIME",c=Zf(void 0,t);if(!((i=t.options)!=null&&i.TZID))return{date:c,type:l};let u=j$(c,t.options.TZID,e==null?void 0:e.timezones);return u?{date:Gf(c,-u.milliseconds),type:l,local:(o=t.options)!=null&&o.TZID?{date:c,timezone:(a=t.options)==null?void 0:a.TZID,tzoffset:u.offset}:void 0}:{date:c,type:l}},hi=(t,e,n)=>Ze(t,J$(e,n)),X$=(t,e,n)=>{var r,s,i,o;let a=((r=e.options)==null?void 0:r.VALUE)==="DATE-TIME"||((s=e.options)==null?void 0:s.VALUE)==="DATE"?{type:"absolute",value:hi(void 0,e,n),options:{related:(i=e.options)==null?void 0:i.RELATED}}:{type:"relative",value:Qf(void 0,e),options:{related:(o=e.options)==null?void 0:o.RELATED}};return Ze(t,a)},Q$=t=>t.startsWith('"')&&t.endsWith('"')?t.slice(1,-1):t,B_=t=>t.map(e=>{let[n,...r]=e.split(tg),s=r.join(tg);return{property:n,value:Q$(s)}},{}),Z$=t=>t.reduce((e,n)=>(e[n.property]=n.value,e),{}),eP=t=>Z$(B_(t)),tP=t=>{let e=!1,n;for(let i=0;i<t.length&&n===void 0;i+=1)t.charAt(i)===JR&&(e=!e),t.charAt(i)===GR&&!e&&(n=i);if(n===void 0)throw Error(`Line not valid: ${t}`);let r=t.substring(0,n),s=t.substring(n+1);return{property:r,value:s}},Ro=t=>{let{property:e,value:n}=tP(t);if(e.includes(gd)){let[r,...s]=e.split(gd),i=eP(s);return{property:r,line:{options:i,value:n}}}return{property:e,line:{value:n}}},og=t=>/^[ \t]/.test(t),nP=t=>/^[A-Z]+(?:-[A-Z]+)*[:;]/.test(t),$o=t=>{let e=[],n=t.split(qR);for(;n[0]==="";)n.shift();let r=n.length;for(;r>0&&n[r-1]==="";)r-=1,n.pop();for(let s=0;s<n.length;){let i=n[s];for(s+=1;n[s]!==void 0&&(og(n[s])||!nP(n[s]));)n[s]===""?i+=eg:og(n[s])?i+=n[s].trimStart():(i+=eg,i+=n[s]),s+=1;e.push(i)}return e.filter(s=>s!=="")},Po=(t,e,n)=>{if(!e)return t;let r={};return Object.entries(e).forEach(([s,i])=>{let o=Object.entries(n||{}).find(([c,u])=>u.name===s);if(!o){r[rP(s)]=i.value;return}let a=o[1].convert(i),l=o[1].schema;if(!l){r[o[0]]=a;return}r[o[0]]=Ze(l,a)}),t.nonStandard=r,t},rP=t=>{let e=t.startsWith("X-")?t.slice(2):t,n="",r=!1;for(let s of e)s==="-"?r=!0:(n+=r?s.toUpperCase():s.toLowerCase(),r=!1);return n},Do=t=>t.startsWith("X-"),sP=(...t)=>{let[e,n,r]=t,s=n.replace(YR,""),i=$o(s),o={},a=[],l=[],c={};i.forEach(d=>{let{property:f,line:h}=Ro(d);Do(f)&&(c[f]=h);let m=RR[f];if(m){if(m==="trigger"){o[m]=X$(void 0,h,{timezones:r==null?void 0:r.timezones});return}if(m==="duration"){o[m]=Qf(void 0,h);return}if(m==="repeat"){o[m]=Number(h.value);return}if(m==="attachments"){a.push(q$(void 0,h));return}if(m==="attendees"){l.push(L_(void 0,h));return}o[m]=h.value}}),a.length>0&&(o.attachments=a),l.length>0&&(o.attendees=l);let u=Ze(e,o);return r!=null&&r.nonStandard?Po(u,c,r==null?void 0:r.nonStandard):u},iP=(t,e)=>{var n,r,s;return Ze(t,{name:(n=e.options)==null?void 0:n.CN,dir:(r=e.options)==null?void 0:r.DIR,sentBy:(s=e.options)!=null&&s["SENT-BY"]?Rs(e.options["SENT-BY"]):void 0,email:Rs(e.value)})},oP=t=>{if(t.length===2)return{day:t};let e=t.slice(0,-2);return{day:t.replace(e,""),occurence:Number(e)}},aP=(t,e)=>Ze(t,oP(e.value)),lP=(t,e)=>Ze(t,e.value),cP=["until"],uP=t=>cP.includes(t),dP=["bySecond","byMinute","byHour","byMonthday","byYearday","byWeekNo","bySetPos"],fP=t=>dP.includes(t),hP=["byDay"],pP=t=>hP.includes(t),mP=["count","interval"],gP=t=>mP.includes(t),U_=(t,e,n)=>{let r={};return B_(e.value.split(gd)).forEach(s=>{let{property:i,value:o}=s,a=UR[i];if(a){if(uP(a)){r[a]=hi(void 0,{value:o,options:{VALUE:o.includes("T")?"DATE-TIME":"DATE"}},{timezones:n==null?void 0:n.timezones});return}if(fP(a)){r[a]=o.split(Pa).map(l=>Number(l));return}if(a==="byMonth"){r[a]=o.split(Pa).map(l=>Number(l)-1);return}if(pP(a)){r[a]=o.split(Pa).map(l=>aP(void 0,{value:l}));return}if(gP(a)){r[a]=Number(o);return}if(a==="frequency"){if(!o||!S$.includes(o))return;r[a]=o;return}if(a==="workweekStart"){r[a]=lP(void 0,{value:o});return}}}),Ze(t,r)},yP=(t,e,n)=>Ze(t,e.value.split(",").map(r=>hi(void 0,{value:r,options:e.options},n))),vP=t=>t.replace(/\\([,;])/g,(e,n)=>n),bP=(t,e,n)=>{var r;return Ze(t,{value:hi(void 0,e,n),range:(r=e.options)==null?void 0:r.RANGE})},_P=(t,e)=>Ze(t,e.value),wP=(t,e)=>Ze(t,e.value),CP=(t,e)=>Ze(t,e.value),xP=(...t)=>{let[e,n,r]=t,s=n.replace(KR,""),i=$o(s.replace(Zm,"")),o={},a=[],l=[],c={};i.forEach(f=>{let{property:h,line:m}=Ro(f);Do(h)&&(c[h]=m);let p=MR[h];if(p){if(H$(p)){o[p]=hi(void 0,m,{timezones:r==null?void 0:r.timezones});return}if(W$(p)){o[p]=m.value.split(Pa);return}if(Y$(p)){o[p]=vP(m.value);return}if(p==="recurrenceRule"){o[p]=U_(void 0,m,{timezones:r==null?void 0:r.timezones});return}if(p==="duration"){o[p]=Qf(void 0,m);return}if(p==="organizer"){o[p]=iP(void 0,m);return}if(p==="sequence"){o[p]=Number(m.value);return}if(p==="attendees"){a.push(L_(void 0,m));return}if(p==="exceptionDates"){l.push(...yP(void 0,m,{timezones:r==null?void 0:r.timezones}));return}if(p!=="alarms"){if(p==="class"){o[p]=_P(void 0,m);return}if(p==="recurrenceId"){o[p]=bP(void 0,m,{timezones:r==null?void 0:r.timezones});return}if(p==="status"){o[p]=wP(void 0,m);return}if(p==="timeTransparent"){o[p]=CP(void 0,m);return}o[p]=m.value}}});let u=[...n.matchAll(Zm)].map(f=>f[0]);if(u.length>0){let f=u.map(h=>sP(void 0,h,r));o.alarms=f}a.length>0&&(o.attendees=a),l.length>0&&(o.exceptionDates=l);let d=Ze(e,o);return r!=null&&r.nonStandard?Po(d,c,r==null?void 0:r.nonStandard):d},ag=(...t)=>{let[e,n,r]=t,s=n.replace(zR,"").replace(WR,""),i=$o(s),o={type:(r==null?void 0:r.type)||"STANDARD"},a={};i.forEach(c=>{let{property:u,line:d}=Ro(c);Do(u)&&(a[u]=d);let f=LR[u];if(f){if(f==="start"){o[f]=Zf(void 0,d);return}if(f==="recurrenceRule"){o[f]=U_(void 0,d,{timezones:r==null?void 0:r.timezones});return}if(f==="recurrenceDate"){o[f]=hi(void 0,d,{timezones:r==null?void 0:r.timezones});return}o[f]=d.value}});let l=Ze(e,o);return r!=null&&r.nonStandard?Po(l,a,r==null?void 0:r.nonStandard):l},EP=(...t)=>{let[e,n,r]=t,s=n.replace(HR,""),i=$o(s.replace(Jm,"").replace(Xm,"")),o={},a={props:[]};i.forEach(d=>{let{property:f,line:h}=Ro(d);Do(f)&&(o[f]=h);let m=FR[f];if(m){if(m==="lastModified"){a[m]=Zf(void 0,h);return}a[m]=h.value}});let l=[...s.matchAll(Jm)].map(d=>d[0]);l.length>0&&l.forEach(d=>{a.props.push(ag(void 0,d,{type:"STANDARD",nonStandard:r==null?void 0:r.nonStandard}))});let c=[...s.matchAll(Xm)].map(d=>d[0]);c.length>0&&c.forEach(d=>{a.props.push(ag(void 0,d,{type:"DAYLIGHT",nonStandard:r==null?void 0:r.nonStandard}))});let u=Ze(e,a);return r!=null&&r.nonStandard?Po(u,o,r==null?void 0:r.nonStandard):u},SP=(...t)=>{let[e,n,r]=t,s=n.replace(VR,""),i=$o(s.replace(Qm,"").replace(Gm,"")),o={},a={};i.forEach(d=>{let{property:f,line:h}=Ro(d);Do(f)&&(a[f]=h);let m=PR[f];if(m){if(m==="version"){o[m]=h.value;return}o[m]=h.value}});let l=[...s.matchAll(Gm)].map(d=>d[0]);if(l.length>0){let d=l.map(f=>EP(void 0,f,{nonStandard:r==null?void 0:r.nonStandard}));o.timezones=d}let c=[...s.matchAll(Qm)].map(d=>d[0]);if(c.length>0){let d=c.map(f=>xP(void 0,f,{timezones:o.timezones,nonStandard:r==null?void 0:r.nonStandard}));o.events=d}let u=Ze(e,o);return r!=null&&r.nonStandard?Po(u,a,r==null?void 0:r.nonStandard):u},ua={exports:{}},lg;function AP(){return lg||(lg=1,function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof ks<"u"&&ks,r=function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i}();(function(i){(function(o){var a=typeof i<"u"&&i||typeof self<"u"&&self||typeof ks<"u"&&ks||{},l={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function c(P){return P&&DataView.prototype.isPrototypeOf(P)}if(l.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(P){return P&&u.indexOf(Object.prototype.toString.call(P))>-1};function f(P){if(typeof P!="string"&&(P=String(P)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(P)||P==="")throw new TypeError('Invalid character in header field name: "'+P+'"');return P.toLowerCase()}function h(P){return typeof P!="string"&&(P=String(P)),P}function m(P){var I={next:function(){var F=P.shift();return{done:F===void 0,value:F}}};return l.iterable&&(I[Symbol.iterator]=function(){return I}),I}function p(P){this.map={},P instanceof p?P.forEach(function(I,F){this.append(F,I)},this):Array.isArray(P)?P.forEach(function(I){if(I.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+I.length);this.append(I[0],I[1])},this):P&&Object.getOwnPropertyNames(P).forEach(function(I){this.append(I,P[I])},this)}p.prototype.append=function(P,I){P=f(P),I=h(I);var F=this.map[P];this.map[P]=F?F+", "+I:I},p.prototype.delete=function(P){delete this.map[f(P)]},p.prototype.get=function(P){return P=f(P),this.has(P)?this.map[P]:null},p.prototype.has=function(P){return this.map.hasOwnProperty(f(P))},p.prototype.set=function(P,I){this.map[f(P)]=h(I)},p.prototype.forEach=function(P,I){for(var F in this.map)this.map.hasOwnProperty(F)&&P.call(I,this.map[F],F,this)},p.prototype.keys=function(){var P=[];return this.forEach(function(I,F){P.push(F)}),m(P)},p.prototype.values=function(){var P=[];return this.forEach(function(I){P.push(I)}),m(P)},p.prototype.entries=function(){var P=[];return this.forEach(function(I,F){P.push([F,I])}),m(P)},l.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);function _(P){if(!P._noBody){if(P.bodyUsed)return Promise.reject(new TypeError("Already read"));P.bodyUsed=!0}}function b(P){return new Promise(function(I,F){P.onload=function(){I(P.result)},P.onerror=function(){F(P.error)}})}function C(P){var I=new FileReader,F=b(I);return I.readAsArrayBuffer(P),F}function y(P){var I=new FileReader,F=b(I),N=/charset=([A-Za-z0-9_-]+)/.exec(P.type),le=N?N[1]:"utf-8";return I.readAsText(P,le),F}function g(P){for(var I=new Uint8Array(P),F=new Array(I.length),N=0;N<I.length;N++)F[N]=String.fromCharCode(I[N]);return F.join("")}function E(P){if(P.slice)return P.slice(0);var I=new Uint8Array(P.byteLength);return I.set(new Uint8Array(P)),I.buffer}function A(){return this.bodyUsed=!1,this._initBody=function(P){this.bodyUsed=this.bodyUsed,this._bodyInit=P,P?typeof P=="string"?this._bodyText=P:l.blob&&Blob.prototype.isPrototypeOf(P)?this._bodyBlob=P:l.formData&&FormData.prototype.isPrototypeOf(P)?this._bodyFormData=P:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)?this._bodyText=P.toString():l.arrayBuffer&&l.blob&&c(P)?(this._bodyArrayBuffer=E(P.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(P)||d(P))?this._bodyArrayBuffer=E(P):this._bodyText=P=Object.prototype.toString.call(P):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof P=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var P=_(this);if(P)return P;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var P=_(this);return P||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(l.blob)return this.blob().then(C);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var P=_(this);if(P)return P;if(this._bodyBlob)return y(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(g(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(j)}),this.json=function(){return this.text().then(JSON.parse)},this}var R=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function O(P){var I=P.toUpperCase();return R.indexOf(I)>-1?I:P}function x(P,I){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');I=I||{};var F=I.body;if(P instanceof x){if(P.bodyUsed)throw new TypeError("Already read");this.url=P.url,this.credentials=P.credentials,I.headers||(this.headers=new p(P.headers)),this.method=P.method,this.mode=P.mode,this.signal=P.signal,!F&&P._bodyInit!=null&&(F=P._bodyInit,P.bodyUsed=!0)}else this.url=String(P);if(this.credentials=I.credentials||this.credentials||"same-origin",(I.headers||!this.headers)&&(this.headers=new p(I.headers)),this.method=O(I.method||this.method||"GET"),this.mode=I.mode||this.mode||null,this.signal=I.signal||this.signal||function(){if("AbortController"in a){var ce=new AbortController;return ce.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&F)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(F),(this.method==="GET"||this.method==="HEAD")&&(I.cache==="no-store"||I.cache==="no-cache")){var N=/([?&])_=[^&]*/;if(N.test(this.url))this.url=this.url.replace(N,"$1_="+new Date().getTime());else{var le=/\?/;this.url+=(le.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}x.prototype.clone=function(){return new x(this,{body:this._bodyInit})};function j(P){var I=new FormData;return P.trim().split("&").forEach(function(F){if(F){var N=F.split("="),le=N.shift().replace(/\+/g," "),ce=N.join("=").replace(/\+/g," ");I.append(decodeURIComponent(le),decodeURIComponent(ce))}}),I}function V(P){var I=new p,F=P.replace(/\r?\n[\t ]+/g," ");return F.split("\r").map(function(N){return N.indexOf(`
`)===0?N.substr(1,N.length):N}).forEach(function(N){var le=N.split(":"),ce=le.shift().trim();if(ce){var Re=le.join(":").trim();try{I.append(ce,Re)}catch(Se){console.warn("Response "+Se.message)}}}),I}A.call(x.prototype);function U(P,I){if(!(this instanceof U))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(I||(I={}),this.type="default",this.status=I.status===void 0?200:I.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=I.statusText===void 0?"":""+I.statusText,this.headers=new p(I.headers),this.url=I.url||"",this._initBody(P)}A.call(U.prototype),U.prototype.clone=function(){return new U(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},U.error=function(){var P=new U(null,{status:200,statusText:""});return P.ok=!1,P.status=0,P.type="error",P};var re=[301,302,303,307,308];U.redirect=function(P,I){if(re.indexOf(I)===-1)throw new RangeError("Invalid status code");return new U(null,{status:I,headers:{location:P}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(I,F){this.message=I,this.name=F;var N=Error(I);this.stack=N.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function se(P,I){return new Promise(function(F,N){var le=new x(P,I);if(le.signal&&le.signal.aborted)return N(new o.DOMException("Aborted","AbortError"));var ce=new XMLHttpRequest;function Re(){ce.abort()}ce.onload=function(){var ge={statusText:ce.statusText,headers:V(ce.getAllResponseHeaders()||"")};le.url.indexOf("file://")===0&&(ce.status<200||ce.status>599)?ge.status=200:ge.status=ce.status,ge.url="responseURL"in ce?ce.responseURL:ge.headers.get("X-Request-URL");var Ie="response"in ce?ce.response:ce.responseText;setTimeout(function(){F(new U(Ie,ge))},0)},ce.onerror=function(){setTimeout(function(){N(new TypeError("Network request failed"))},0)},ce.ontimeout=function(){setTimeout(function(){N(new TypeError("Network request timed out"))},0)},ce.onabort=function(){setTimeout(function(){N(new o.DOMException("Aborted","AbortError"))},0)};function Se(ge){try{return ge===""&&a.location.href?a.location.href:ge}catch{return ge}}if(ce.open(le.method,Se(le.url),!0),le.credentials==="include"?ce.withCredentials=!0:le.credentials==="omit"&&(ce.withCredentials=!1),"responseType"in ce&&(l.blob?ce.responseType="blob":l.arrayBuffer&&(ce.responseType="arraybuffer")),I&&typeof I.headers=="object"&&!(I.headers instanceof p||a.Headers&&I.headers instanceof a.Headers)){var Ae=[];Object.getOwnPropertyNames(I.headers).forEach(function(ge){Ae.push(f(ge)),ce.setRequestHeader(ge,h(I.headers[ge]))}),le.headers.forEach(function(ge,Ie){Ae.indexOf(Ie)===-1&&ce.setRequestHeader(Ie,ge)})}else le.headers.forEach(function(ge,Ie){ce.setRequestHeader(Ie,ge)});le.signal&&(le.signal.addEventListener("abort",Re),ce.onreadystatechange=function(){ce.readyState===4&&le.signal.removeEventListener("abort",Re)}),ce.send(typeof le._bodyInit>"u"?null:le._bodyInit)})}return se.polyfill=!0,a.fetch||(a.fetch=se,a.Headers=p,a.Request=x,a.Response=U),o.Headers=p,o.Request=x,o.Response=U,o.fetch=se,o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e}(ua,ua.exports)),ua.exports}var us=AP(),da={exports:{}},Qc,cg;function TP(){if(cg)return Qc;cg=1;var t=1e3,e=t*60,n=e*60,r=n*24,s=r*7,i=r*365.25;Qc=function(u,d){d=d||{};var f=typeof u;if(f==="string"&&u.length>0)return o(u);if(f==="number"&&isFinite(u))return d.long?l(u):a(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function o(u){if(u=String(u),!(u.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(d){var f=parseFloat(d[1]),h=(d[2]||"ms").toLowerCase();switch(h){case"years":case"year":case"yrs":case"yr":case"y":return f*i;case"weeks":case"week":case"w":return f*s;case"days":case"day":case"d":return f*r;case"hours":case"hour":case"hrs":case"hr":case"h":return f*n;case"minutes":case"minute":case"mins":case"min":case"m":return f*e;case"seconds":case"second":case"secs":case"sec":case"s":return f*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function a(u){var d=Math.abs(u);return d>=r?Math.round(u/r)+"d":d>=n?Math.round(u/n)+"h":d>=e?Math.round(u/e)+"m":d>=t?Math.round(u/t)+"s":u+"ms"}function l(u){var d=Math.abs(u);return d>=r?c(u,d,r,"day"):d>=n?c(u,d,n,"hour"):d>=e?c(u,d,e,"minute"):d>=t?c(u,d,t,"second"):u+" ms"}function c(u,d,f,h){var m=d>=f*1.5;return Math.round(u/f)+" "+h+(m?"s":"")}return Qc}var Zc,ug;function kP(){if(ug)return Zc;ug=1;function t(e){r.debug=r,r.default=r,r.coerce=c,r.disable=a,r.enable=i,r.enabled=l,r.humanize=TP(),r.destroy=u,Object.keys(e).forEach(d=>{r[d]=e[d]}),r.names=[],r.skips=[],r.formatters={};function n(d){let f=0;for(let h=0;h<d.length;h++)f=(f<<5)-f+d.charCodeAt(h),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=n;function r(d){let f,h=null,m,p;function _(...b){if(!_.enabled)return;const C=_,y=Number(new Date),g=y-(f||y);C.diff=g,C.prev=f,C.curr=y,f=y,b[0]=r.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let E=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(R,O)=>{if(R==="%%")return"%";E++;const x=r.formatters[O];if(typeof x=="function"){const j=b[E];R=x.call(C,j),b.splice(E,1),E--}return R}),r.formatArgs.call(C,b),(C.log||r.log).apply(C,b)}return _.namespace=d,_.useColors=r.useColors(),_.color=r.selectColor(d),_.extend=s,_.destroy=r.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(m!==r.namespaces&&(m=r.namespaces,p=r.enabled(d)),p),set:b=>{h=b}}),typeof r.init=="function"&&r.init(_),_}function s(d,f){const h=r(this.namespace+(typeof f>"u"?":":f)+d);return h.log=this.log,h}function i(d){r.save(d),r.namespaces=d,r.names=[],r.skips=[];const f=(typeof d=="string"?d:"").trim().replace(" ",",").split(",").filter(Boolean);for(const h of f)h[0]==="-"?r.skips.push(h.slice(1)):r.names.push(h)}function o(d,f){let h=0,m=0,p=-1,_=0;for(;h<d.length;)if(m<f.length&&(f[m]===d[h]||f[m]==="*"))f[m]==="*"?(p=m,_=h,m++):(h++,m++);else if(p!==-1)m=p+1,_++,h=_;else return!1;for(;m<f.length&&f[m]==="*";)m++;return m===f.length}function a(){const d=[...r.names,...r.skips.map(f=>"-"+f)].join(",");return r.enable(""),d}function l(d){for(const f of r.skips)if(o(d,f))return!1;for(const f of r.names)if(o(d,f))return!0;return!1}function c(d){return d instanceof Error?d.stack||d.message:d}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}return Zc=t,Zc}var dg;function OP(){return dg||(dg=1,function(t,e){var n={};e.formatArgs=s,e.save=i,e.load=o,e.useColors=r,e.storage=a(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let d=0,f=0;c[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(d++,h==="%c"&&(f=d))}),c.splice(f,0,u)}e.log=console.debug||console.log||(()=>{});function i(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function o(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}function a(){try{return localStorage}catch{}}t.exports=kP()(e);const{formatters:l}=t.exports;l.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}(da,da.exports)),da.exports}var RP=OP();const pi=sf(RP);var eu={};const $P={},PP=Object.freeze(Object.defineProperty({__proto__:null,default:$P},Symbol.toStringTag,{value:"Module"})),fg=vk(PP);var hg;function DP(){return hg||(hg=1,function(t){(function(e){e.parser=function(w,v){return new r(w,v)},e.SAXParser=r,e.SAXStream=u,e.createStream=c,e.MAX_BUFFER_LENGTH=64*1024;var n=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function r(w,v){if(!(this instanceof r))return new r(w,v);var D=this;i(D),D.q=D.c="",D.bufferCheckPosition=e.MAX_BUFFER_LENGTH,D.opt=v||{},D.opt.lowercase=D.opt.lowercase||D.opt.lowercasetags,D.looseCase=D.opt.lowercase?"toLowerCase":"toUpperCase",D.tags=[],D.closed=D.closedRoot=D.sawRoot=!1,D.tag=D.error=null,D.strict=!!w,D.noscript=!!(w||D.opt.noscript),D.state=x.BEGIN,D.strictEntities=D.opt.strictEntities,D.ENTITIES=D.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),D.attribList=[],D.opt.xmlns&&(D.ns=Object.create(p)),D.opt.unquotedAttributeValues===void 0&&(D.opt.unquotedAttributeValues=!w),D.trackPosition=D.opt.position!==!1,D.trackPosition&&(D.position=D.line=D.column=0),V(D,"onready")}Object.create||(Object.create=function(w){function v(){}v.prototype=w;var D=new v;return D}),Object.keys||(Object.keys=function(w){var v=[];for(var D in w)w.hasOwnProperty(D)&&v.push(D);return v});function s(w){for(var v=Math.max(e.MAX_BUFFER_LENGTH,10),D=0,$=0,G=n.length;$<G;$++){var T=w[n[$]].length;if(T>v)switch(n[$]){case"textNode":re(w);break;case"cdata":U(w,"oncdata",w.cdata),w.cdata="";break;case"script":U(w,"onscript",w.script),w.script="";break;default:P(w,"Max buffer length exceeded: "+n[$])}D=Math.max(D,T)}var k=e.MAX_BUFFER_LENGTH-D;w.bufferCheckPosition=k+w.position}function i(w){for(var v=0,D=n.length;v<D;v++)w[n[v]]=""}function o(w){re(w),w.cdata!==""&&(U(w,"oncdata",w.cdata),w.cdata=""),w.script!==""&&(U(w,"onscript",w.script),w.script="")}r.prototype={end:function(){I(this)},write:je,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};var a;try{a=fg.Stream}catch{a=function(){}}a||(a=function(){});var l=e.EVENTS.filter(function(w){return w!=="error"&&w!=="end"});function c(w,v){return new u(w,v)}function u(w,v){if(!(this instanceof u))return new u(w,v);a.apply(this),this._parser=new r(w,v),this.writable=!0,this.readable=!0;var D=this;this._parser.onend=function(){D.emit("end")},this._parser.onerror=function($){D.emit("error",$),D._parser.error=null},this._decoder=null,l.forEach(function($){Object.defineProperty(D,"on"+$,{get:function(){return D._parser["on"+$]},set:function(G){if(!G)return D.removeAllListeners($),D._parser["on"+$]=G,G;D.on($,G)},enumerable:!0,configurable:!1})})}u.prototype=Object.create(a.prototype,{constructor:{value:u}}),u.prototype.write=function(w){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(w)){if(!this._decoder){var v=fg.StringDecoder;this._decoder=new v("utf8")}w=this._decoder.write(w)}return this._parser.write(w.toString()),this.emit("data",w),!0},u.prototype.end=function(w){return w&&w.length&&this.write(w),this._parser.end(),!0},u.prototype.on=function(w,v){var D=this;return!D._parser["on"+w]&&l.indexOf(w)!==-1&&(D._parser["on"+w]=function(){var $=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);$.splice(0,0,w),D.emit.apply(D,$)}),a.prototype.on.call(D,w,v)};var d="[CDATA[",f="DOCTYPE",h="http://www.w3.org/XML/1998/namespace",m="http://www.w3.org/2000/xmlns/",p={xml:h,xmlns:m},_=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,C=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function g(w){return w===" "||w===`
`||w==="\r"||w==="	"}function E(w){return w==='"'||w==="'"}function A(w){return w===">"||g(w)}function R(w,v){return w.test(v)}function O(w,v){return!R(w,v)}var x=0;e.STATE={BEGIN:x++,BEGIN_WHITESPACE:x++,TEXT:x++,TEXT_ENTITY:x++,OPEN_WAKA:x++,SGML_DECL:x++,SGML_DECL_QUOTED:x++,DOCTYPE:x++,DOCTYPE_QUOTED:x++,DOCTYPE_DTD:x++,DOCTYPE_DTD_QUOTED:x++,COMMENT_STARTING:x++,COMMENT:x++,COMMENT_ENDING:x++,COMMENT_ENDED:x++,CDATA:x++,CDATA_ENDING:x++,CDATA_ENDING_2:x++,PROC_INST:x++,PROC_INST_BODY:x++,PROC_INST_ENDING:x++,OPEN_TAG:x++,OPEN_TAG_SLASH:x++,ATTRIB:x++,ATTRIB_NAME:x++,ATTRIB_NAME_SAW_WHITE:x++,ATTRIB_VALUE:x++,ATTRIB_VALUE_QUOTED:x++,ATTRIB_VALUE_CLOSED:x++,ATTRIB_VALUE_UNQUOTED:x++,ATTRIB_VALUE_ENTITY_Q:x++,ATTRIB_VALUE_ENTITY_U:x++,CLOSE_TAG:x++,CLOSE_TAG_SAW_WHITE:x++,SCRIPT:x++,SCRIPT_ENDING:x++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(w){var v=e.ENTITIES[w],D=typeof v=="number"?String.fromCharCode(v):v;e.ENTITIES[w]=D});for(var j in e.STATE)e.STATE[e.STATE[j]]=j;x=e.STATE;function V(w,v,D){w[v]&&w[v](D)}function U(w,v,D){w.textNode&&re(w),V(w,v,D)}function re(w){w.textNode=se(w.opt,w.textNode),w.textNode&&V(w,"ontext",w.textNode),w.textNode=""}function se(w,v){return w.trim&&(v=v.trim()),w.normalize&&(v=v.replace(/\s+/g," ")),v}function P(w,v){return re(w),w.trackPosition&&(v+=`
Line: `+w.line+`
Column: `+w.column+`
Char: `+w.c),v=new Error(v),w.error=v,V(w,"onerror",v),w}function I(w){return w.sawRoot&&!w.closedRoot&&F(w,"Unclosed root tag"),w.state!==x.BEGIN&&w.state!==x.BEGIN_WHITESPACE&&w.state!==x.TEXT&&P(w,"Unexpected end"),re(w),w.c="",w.closed=!0,V(w,"onend"),r.call(w,w.strict,w.opt),w}function F(w,v){if(typeof w!="object"||!(w instanceof r))throw new Error("bad call to strictFail");w.strict&&P(w,v)}function N(w){w.strict||(w.tagName=w.tagName[w.looseCase]());var v=w.tags[w.tags.length-1]||w,D=w.tag={name:w.tagName,attributes:{}};w.opt.xmlns&&(D.ns=v.ns),w.attribList.length=0,U(w,"onopentagstart",D)}function le(w,v){var D=w.indexOf(":"),$=D<0?["",w]:w.split(":"),G=$[0],T=$[1];return v&&w==="xmlns"&&(G="xmlns",T=""),{prefix:G,local:T}}function ce(w){if(w.strict||(w.attribName=w.attribName[w.looseCase]()),w.attribList.indexOf(w.attribName)!==-1||w.tag.attributes.hasOwnProperty(w.attribName)){w.attribName=w.attribValue="";return}if(w.opt.xmlns){var v=le(w.attribName,!0),D=v.prefix,$=v.local;if(D==="xmlns")if($==="xml"&&w.attribValue!==h)F(w,"xml: prefix must be bound to "+h+`
Actual: `+w.attribValue);else if($==="xmlns"&&w.attribValue!==m)F(w,"xmlns: prefix must be bound to "+m+`
Actual: `+w.attribValue);else{var G=w.tag,T=w.tags[w.tags.length-1]||w;G.ns===T.ns&&(G.ns=Object.create(T.ns)),G.ns[$]=w.attribValue}w.attribList.push([w.attribName,w.attribValue])}else w.tag.attributes[w.attribName]=w.attribValue,U(w,"onattribute",{name:w.attribName,value:w.attribValue});w.attribName=w.attribValue=""}function Re(w,v){if(w.opt.xmlns){var D=w.tag,$=le(w.tagName);D.prefix=$.prefix,D.local=$.local,D.uri=D.ns[$.prefix]||"",D.prefix&&!D.uri&&(F(w,"Unbound namespace prefix: "+JSON.stringify(w.tagName)),D.uri=$.prefix);var G=w.tags[w.tags.length-1]||w;D.ns&&G.ns!==D.ns&&Object.keys(D.ns).forEach(function(pe){U(w,"onopennamespace",{prefix:pe,uri:D.ns[pe]})});for(var T=0,k=w.attribList.length;T<k;T++){var M=w.attribList[T],L=M[0],z=M[1],B=le(L,!0),J=B.prefix,Q=B.local,X=J===""?"":D.ns[J]||"",Y={name:L,value:z,prefix:J,local:Q,uri:X};J&&J!=="xmlns"&&!X&&(F(w,"Unbound namespace prefix: "+JSON.stringify(J)),Y.uri=J),w.tag.attributes[L]=Y,U(w,"onattribute",Y)}w.attribList.length=0}w.tag.isSelfClosing=!!v,w.sawRoot=!0,w.tags.push(w.tag),U(w,"onopentag",w.tag),v||(!w.noscript&&w.tagName.toLowerCase()==="script"?w.state=x.SCRIPT:w.state=x.TEXT,w.tag=null,w.tagName=""),w.attribName=w.attribValue="",w.attribList.length=0}function Se(w){if(!w.tagName){F(w,"Weird empty close tag."),w.textNode+="</>",w.state=x.TEXT;return}if(w.script){if(w.tagName!=="script"){w.script+="</"+w.tagName+">",w.tagName="",w.state=x.SCRIPT;return}U(w,"onscript",w.script),w.script=""}var v=w.tags.length,D=w.tagName;w.strict||(D=D[w.looseCase]());for(var $=D;v--;){var G=w.tags[v];if(G.name!==$)F(w,"Unexpected close tag");else break}if(v<0){F(w,"Unmatched closing tag: "+w.tagName),w.textNode+="</"+w.tagName+">",w.state=x.TEXT;return}w.tagName=D;for(var T=w.tags.length;T-- >v;){var k=w.tag=w.tags.pop();w.tagName=w.tag.name,U(w,"onclosetag",w.tagName);var M={};for(var L in k.ns)M[L]=k.ns[L];var z=w.tags[w.tags.length-1]||w;w.opt.xmlns&&k.ns!==z.ns&&Object.keys(k.ns).forEach(function(B){var J=k.ns[B];U(w,"onclosenamespace",{prefix:B,uri:J})})}v===0&&(w.closedRoot=!0),w.tagName=w.attribValue=w.attribName="",w.attribList.length=0,w.state=x.TEXT}function Ae(w){var v=w.entity,D=v.toLowerCase(),$,G="";return w.ENTITIES[v]?w.ENTITIES[v]:w.ENTITIES[D]?w.ENTITIES[D]:(v=D,v.charAt(0)==="#"&&(v.charAt(1)==="x"?(v=v.slice(2),$=parseInt(v,16),G=$.toString(16)):(v=v.slice(1),$=parseInt(v,10),G=$.toString(10))),v=v.replace(/^0+/,""),isNaN($)||G.toLowerCase()!==v?(F(w,"Invalid character entity"),"&"+w.entity+";"):String.fromCodePoint($))}function ge(w,v){v==="<"?(w.state=x.OPEN_WAKA,w.startTagPosition=w.position):g(v)||(F(w,"Non-whitespace before first tag."),w.textNode=v,w.state=x.TEXT)}function Ie(w,v){var D="";return v<w.length&&(D=w.charAt(v)),D}function je(w){var v=this;if(this.error)throw this.error;if(v.closed)return P(v,"Cannot write after close. Assign an onready handler.");if(w===null)return I(v);typeof w=="object"&&(w=w.toString());for(var D=0,$="";$=Ie(w,D++),v.c=$,!!$;)switch(v.trackPosition&&(v.position++,$===`
`?(v.line++,v.column=0):v.column++),v.state){case x.BEGIN:if(v.state=x.BEGIN_WHITESPACE,$==="\uFEFF")continue;ge(v,$);continue;case x.BEGIN_WHITESPACE:ge(v,$);continue;case x.TEXT:if(v.sawRoot&&!v.closedRoot){for(var G=D-1;$&&$!=="<"&&$!=="&";)$=Ie(w,D++),$&&v.trackPosition&&(v.position++,$===`
`?(v.line++,v.column=0):v.column++);v.textNode+=w.substring(G,D-1)}$==="<"&&!(v.sawRoot&&v.closedRoot&&!v.strict)?(v.state=x.OPEN_WAKA,v.startTagPosition=v.position):(!g($)&&(!v.sawRoot||v.closedRoot)&&F(v,"Text data outside of root node."),$==="&"?v.state=x.TEXT_ENTITY:v.textNode+=$);continue;case x.SCRIPT:$==="<"?v.state=x.SCRIPT_ENDING:v.script+=$;continue;case x.SCRIPT_ENDING:$==="/"?v.state=x.CLOSE_TAG:(v.script+="<"+$,v.state=x.SCRIPT);continue;case x.OPEN_WAKA:if($==="!")v.state=x.SGML_DECL,v.sgmlDecl="";else if(!g($))if(R(_,$))v.state=x.OPEN_TAG,v.tagName=$;else if($==="/")v.state=x.CLOSE_TAG,v.tagName="";else if($==="?")v.state=x.PROC_INST,v.procInstName=v.procInstBody="";else{if(F(v,"Unencoded <"),v.startTagPosition+1<v.position){var T=v.position-v.startTagPosition;$=new Array(T).join(" ")+$}v.textNode+="<"+$,v.state=x.TEXT}continue;case x.SGML_DECL:if(v.sgmlDecl+$==="--"){v.state=x.COMMENT,v.comment="",v.sgmlDecl="";continue}v.doctype&&v.doctype!==!0&&v.sgmlDecl?(v.state=x.DOCTYPE_DTD,v.doctype+="<!"+v.sgmlDecl+$,v.sgmlDecl=""):(v.sgmlDecl+$).toUpperCase()===d?(U(v,"onopencdata"),v.state=x.CDATA,v.sgmlDecl="",v.cdata=""):(v.sgmlDecl+$).toUpperCase()===f?(v.state=x.DOCTYPE,(v.doctype||v.sawRoot)&&F(v,"Inappropriately located doctype declaration"),v.doctype="",v.sgmlDecl=""):$===">"?(U(v,"onsgmldeclaration",v.sgmlDecl),v.sgmlDecl="",v.state=x.TEXT):(E($)&&(v.state=x.SGML_DECL_QUOTED),v.sgmlDecl+=$);continue;case x.SGML_DECL_QUOTED:$===v.q&&(v.state=x.SGML_DECL,v.q=""),v.sgmlDecl+=$;continue;case x.DOCTYPE:$===">"?(v.state=x.TEXT,U(v,"ondoctype",v.doctype),v.doctype=!0):(v.doctype+=$,$==="["?v.state=x.DOCTYPE_DTD:E($)&&(v.state=x.DOCTYPE_QUOTED,v.q=$));continue;case x.DOCTYPE_QUOTED:v.doctype+=$,$===v.q&&(v.q="",v.state=x.DOCTYPE);continue;case x.DOCTYPE_DTD:$==="]"?(v.doctype+=$,v.state=x.DOCTYPE):$==="<"?(v.state=x.OPEN_WAKA,v.startTagPosition=v.position):E($)?(v.doctype+=$,v.state=x.DOCTYPE_DTD_QUOTED,v.q=$):v.doctype+=$;continue;case x.DOCTYPE_DTD_QUOTED:v.doctype+=$,$===v.q&&(v.state=x.DOCTYPE_DTD,v.q="");continue;case x.COMMENT:$==="-"?v.state=x.COMMENT_ENDING:v.comment+=$;continue;case x.COMMENT_ENDING:$==="-"?(v.state=x.COMMENT_ENDED,v.comment=se(v.opt,v.comment),v.comment&&U(v,"oncomment",v.comment),v.comment=""):(v.comment+="-"+$,v.state=x.COMMENT);continue;case x.COMMENT_ENDED:$!==">"?(F(v,"Malformed comment"),v.comment+="--"+$,v.state=x.COMMENT):v.doctype&&v.doctype!==!0?v.state=x.DOCTYPE_DTD:v.state=x.TEXT;continue;case x.CDATA:$==="]"?v.state=x.CDATA_ENDING:v.cdata+=$;continue;case x.CDATA_ENDING:$==="]"?v.state=x.CDATA_ENDING_2:(v.cdata+="]"+$,v.state=x.CDATA);continue;case x.CDATA_ENDING_2:$===">"?(v.cdata&&U(v,"oncdata",v.cdata),U(v,"onclosecdata"),v.cdata="",v.state=x.TEXT):$==="]"?v.cdata+="]":(v.cdata+="]]"+$,v.state=x.CDATA);continue;case x.PROC_INST:$==="?"?v.state=x.PROC_INST_ENDING:g($)?v.state=x.PROC_INST_BODY:v.procInstName+=$;continue;case x.PROC_INST_BODY:if(!v.procInstBody&&g($))continue;$==="?"?v.state=x.PROC_INST_ENDING:v.procInstBody+=$;continue;case x.PROC_INST_ENDING:$===">"?(U(v,"onprocessinginstruction",{name:v.procInstName,body:v.procInstBody}),v.procInstName=v.procInstBody="",v.state=x.TEXT):(v.procInstBody+="?"+$,v.state=x.PROC_INST_BODY);continue;case x.OPEN_TAG:R(b,$)?v.tagName+=$:(N(v),$===">"?Re(v):$==="/"?v.state=x.OPEN_TAG_SLASH:(g($)||F(v,"Invalid character in tag name"),v.state=x.ATTRIB));continue;case x.OPEN_TAG_SLASH:$===">"?(Re(v,!0),Se(v)):(F(v,"Forward-slash in opening tag not followed by >"),v.state=x.ATTRIB);continue;case x.ATTRIB:if(g($))continue;$===">"?Re(v):$==="/"?v.state=x.OPEN_TAG_SLASH:R(_,$)?(v.attribName=$,v.attribValue="",v.state=x.ATTRIB_NAME):F(v,"Invalid attribute name");continue;case x.ATTRIB_NAME:$==="="?v.state=x.ATTRIB_VALUE:$===">"?(F(v,"Attribute without value"),v.attribValue=v.attribName,ce(v),Re(v)):g($)?v.state=x.ATTRIB_NAME_SAW_WHITE:R(b,$)?v.attribName+=$:F(v,"Invalid attribute name");continue;case x.ATTRIB_NAME_SAW_WHITE:if($==="=")v.state=x.ATTRIB_VALUE;else{if(g($))continue;F(v,"Attribute without value"),v.tag.attributes[v.attribName]="",v.attribValue="",U(v,"onattribute",{name:v.attribName,value:""}),v.attribName="",$===">"?Re(v):R(_,$)?(v.attribName=$,v.state=x.ATTRIB_NAME):(F(v,"Invalid attribute name"),v.state=x.ATTRIB)}continue;case x.ATTRIB_VALUE:if(g($))continue;E($)?(v.q=$,v.state=x.ATTRIB_VALUE_QUOTED):(v.opt.unquotedAttributeValues||P(v,"Unquoted attribute value"),v.state=x.ATTRIB_VALUE_UNQUOTED,v.attribValue=$);continue;case x.ATTRIB_VALUE_QUOTED:if($!==v.q){$==="&"?v.state=x.ATTRIB_VALUE_ENTITY_Q:v.attribValue+=$;continue}ce(v),v.q="",v.state=x.ATTRIB_VALUE_CLOSED;continue;case x.ATTRIB_VALUE_CLOSED:g($)?v.state=x.ATTRIB:$===">"?Re(v):$==="/"?v.state=x.OPEN_TAG_SLASH:R(_,$)?(F(v,"No whitespace between attributes"),v.attribName=$,v.attribValue="",v.state=x.ATTRIB_NAME):F(v,"Invalid attribute name");continue;case x.ATTRIB_VALUE_UNQUOTED:if(!A($)){$==="&"?v.state=x.ATTRIB_VALUE_ENTITY_U:v.attribValue+=$;continue}ce(v),$===">"?Re(v):v.state=x.ATTRIB;continue;case x.CLOSE_TAG:if(v.tagName)$===">"?Se(v):R(b,$)?v.tagName+=$:v.script?(v.script+="</"+v.tagName,v.tagName="",v.state=x.SCRIPT):(g($)||F(v,"Invalid tagname in closing tag"),v.state=x.CLOSE_TAG_SAW_WHITE);else{if(g($))continue;O(_,$)?v.script?(v.script+="</"+$,v.state=x.SCRIPT):F(v,"Invalid tagname in closing tag."):v.tagName=$}continue;case x.CLOSE_TAG_SAW_WHITE:if(g($))continue;$===">"?Se(v):F(v,"Invalid characters in closing tag");continue;case x.TEXT_ENTITY:case x.ATTRIB_VALUE_ENTITY_Q:case x.ATTRIB_VALUE_ENTITY_U:var k,M;switch(v.state){case x.TEXT_ENTITY:k=x.TEXT,M="textNode";break;case x.ATTRIB_VALUE_ENTITY_Q:k=x.ATTRIB_VALUE_QUOTED,M="attribValue";break;case x.ATTRIB_VALUE_ENTITY_U:k=x.ATTRIB_VALUE_UNQUOTED,M="attribValue";break}if($===";"){var L=Ae(v);v.opt.unparsedEntities&&!Object.values(e.XML_ENTITIES).includes(L)?(v.entity="",v.state=k,v.write(L)):(v[M]+=L,v.entity="",v.state=k)}else R(v.entity.length?y:C,$)?v.entity+=$:(F(v,"Invalid character in entity name"),v[M]+="&"+v.entity+$,v.entity="",v.state=k);continue;default:throw new Error(v,"Unknown state: "+v.state)}return v.position>=v.bufferCheckPosition&&s(v),v}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var w=String.fromCharCode,v=Math.floor,D=function(){var $=16384,G=[],T,k,M=-1,L=arguments.length;if(!L)return"";for(var z="";++M<L;){var B=Number(arguments[M]);if(!isFinite(B)||B<0||B>1114111||v(B)!==B)throw RangeError("Invalid code point: "+B);B<=65535?G.push(B):(B-=65536,T=(B>>10)+55296,k=B%1024+56320,G.push(T,k)),(M+1===L||G.length>$)&&(z+=w.apply(null,G),G.length=0)}return z};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:D,configurable:!0,writable:!0}):String.fromCodePoint=D}()})(t)}(eu)),eu}var tu,pg;function eh(){return pg||(pg=1,tu={isArray:function(t){return Array.isArray?Array.isArray(t):Object.prototype.toString.call(t)==="[object Array]"}}),tu}var nu,mg;function th(){if(mg)return nu;mg=1;var t=eh().isArray;return nu={copyOptions:function(e){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return r},ensureFlagExists:function(e,n){(!(e in n)||typeof n[e]!="boolean")&&(n[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!t(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,n){(!(e+"Key"in n)||typeof n[e+"Key"]!="string")&&(n[e+"Key"]=n.compact?"_"+e:e)},checkFnExists:function(e,n){return e+"Fn"in n}},nu}var ru,gg;function j_(){if(gg)return ru;gg=1;var t=DP(),e=th(),n=eh().isArray,r,s;function i(b){return r=e.copyOptions(b),e.ensureFlagExists("ignoreDeclaration",r),e.ensureFlagExists("ignoreInstruction",r),e.ensureFlagExists("ignoreAttributes",r),e.ensureFlagExists("ignoreText",r),e.ensureFlagExists("ignoreComment",r),e.ensureFlagExists("ignoreCdata",r),e.ensureFlagExists("ignoreDoctype",r),e.ensureFlagExists("compact",r),e.ensureFlagExists("alwaysChildren",r),e.ensureFlagExists("addParent",r),e.ensureFlagExists("trim",r),e.ensureFlagExists("nativeType",r),e.ensureFlagExists("nativeTypeAttributes",r),e.ensureFlagExists("sanitize",r),e.ensureFlagExists("instructionHasAttributes",r),e.ensureFlagExists("captureSpacesBetweenElements",r),e.ensureAlwaysArrayExists(r),e.ensureKeyExists("declaration",r),e.ensureKeyExists("instruction",r),e.ensureKeyExists("attributes",r),e.ensureKeyExists("text",r),e.ensureKeyExists("comment",r),e.ensureKeyExists("cdata",r),e.ensureKeyExists("doctype",r),e.ensureKeyExists("type",r),e.ensureKeyExists("name",r),e.ensureKeyExists("elements",r),e.ensureKeyExists("parent",r),e.checkFnExists("doctype",r),e.checkFnExists("instruction",r),e.checkFnExists("cdata",r),e.checkFnExists("comment",r),e.checkFnExists("text",r),e.checkFnExists("instructionName",r),e.checkFnExists("elementName",r),e.checkFnExists("attributeName",r),e.checkFnExists("attributeValue",r),e.checkFnExists("attributes",r),r}function o(b){var C=Number(b);if(!isNaN(C))return C;var y=b.toLowerCase();return y==="true"?!0:y==="false"?!1:b}function a(b,C){var y;if(r.compact){if(!s[r[b+"Key"]]&&(n(r.alwaysArray)?r.alwaysArray.indexOf(r[b+"Key"])!==-1:r.alwaysArray)&&(s[r[b+"Key"]]=[]),s[r[b+"Key"]]&&!n(s[r[b+"Key"]])&&(s[r[b+"Key"]]=[s[r[b+"Key"]]]),b+"Fn"in r&&typeof C=="string"&&(C=r[b+"Fn"](C,s)),b==="instruction"&&("instructionFn"in r||"instructionNameFn"in r)){for(y in C)if(C.hasOwnProperty(y))if("instructionFn"in r)C[y]=r.instructionFn(C[y],y,s);else{var g=C[y];delete C[y],C[r.instructionNameFn(y,g,s)]=g}}n(s[r[b+"Key"]])?s[r[b+"Key"]].push(C):s[r[b+"Key"]]=C}else{s[r.elementsKey]||(s[r.elementsKey]=[]);var E={};if(E[r.typeKey]=b,b==="instruction"){for(y in C)if(C.hasOwnProperty(y))break;E[r.nameKey]="instructionNameFn"in r?r.instructionNameFn(y,C,s):y,r.instructionHasAttributes?(E[r.attributesKey]=C[y][r.attributesKey],"instructionFn"in r&&(E[r.attributesKey]=r.instructionFn(E[r.attributesKey],y,s))):("instructionFn"in r&&(C[y]=r.instructionFn(C[y],y,s)),E[r.instructionKey]=C[y])}else b+"Fn"in r&&(C=r[b+"Fn"](C,s)),E[r[b+"Key"]]=C;r.addParent&&(E[r.parentKey]=s),s[r.elementsKey].push(E)}}function l(b){if("attributesFn"in r&&b&&(b=r.attributesFn(b,s)),(r.trim||"attributeValueFn"in r||"attributeNameFn"in r||r.nativeTypeAttributes)&&b){var C;for(C in b)if(b.hasOwnProperty(C)&&(r.trim&&(b[C]=b[C].trim()),r.nativeTypeAttributes&&(b[C]=o(b[C])),"attributeValueFn"in r&&(b[C]=r.attributeValueFn(b[C],C,s)),"attributeNameFn"in r)){var y=b[C];delete b[C],b[r.attributeNameFn(C,b[C],s)]=y}}return b}function c(b){var C={};if(b.body&&(b.name.toLowerCase()==="xml"||r.instructionHasAttributes)){for(var y=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,g;(g=y.exec(b.body))!==null;)C[g[1]]=g[2]||g[3]||g[4];C=l(C)}if(b.name.toLowerCase()==="xml"){if(r.ignoreDeclaration)return;s[r.declarationKey]={},Object.keys(C).length&&(s[r.declarationKey][r.attributesKey]=C),r.addParent&&(s[r.declarationKey][r.parentKey]=s)}else{if(r.ignoreInstruction)return;r.trim&&(b.body=b.body.trim());var E={};r.instructionHasAttributes&&Object.keys(C).length?(E[b.name]={},E[b.name][r.attributesKey]=C):E[b.name]=b.body,a("instruction",E)}}function u(b,C){var y;if(typeof b=="object"&&(C=b.attributes,b=b.name),C=l(C),"elementNameFn"in r&&(b=r.elementNameFn(b,s)),r.compact){if(y={},!r.ignoreAttributes&&C&&Object.keys(C).length){y[r.attributesKey]={};var g;for(g in C)C.hasOwnProperty(g)&&(y[r.attributesKey][g]=C[g])}!(b in s)&&(n(r.alwaysArray)?r.alwaysArray.indexOf(b)!==-1:r.alwaysArray)&&(s[b]=[]),s[b]&&!n(s[b])&&(s[b]=[s[b]]),n(s[b])?s[b].push(y):s[b]=y}else s[r.elementsKey]||(s[r.elementsKey]=[]),y={},y[r.typeKey]="element",y[r.nameKey]=b,!r.ignoreAttributes&&C&&Object.keys(C).length&&(y[r.attributesKey]=C),r.alwaysChildren&&(y[r.elementsKey]=[]),s[r.elementsKey].push(y);y[r.parentKey]=s,s=y}function d(b){r.ignoreText||!b.trim()&&!r.captureSpacesBetweenElements||(r.trim&&(b=b.trim()),r.nativeType&&(b=o(b)),r.sanitize&&(b=b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),a("text",b))}function f(b){r.ignoreComment||(r.trim&&(b=b.trim()),a("comment",b))}function h(b){var C=s[r.parentKey];r.addParent||delete s[r.parentKey],s=C}function m(b){r.ignoreCdata||(r.trim&&(b=b.trim()),a("cdata",b))}function p(b){r.ignoreDoctype||(b=b.replace(/^ /,""),r.trim&&(b=b.trim()),a("doctype",b))}function _(b){b.note=b}return ru=function(b,C){var y=t.parser(!0,{}),g={};if(s=g,r=i(C),y.opt={strictEntities:!0},y.onopentag=u,y.ontext=d,y.oncomment=f,y.onclosetag=h,y.onerror=_,y.oncdata=m,y.ondoctype=p,y.onprocessinginstruction=c,y.write(b).close(),g[r.elementsKey]){var E=g[r.elementsKey];delete g[r.elementsKey],g[r.elementsKey]=E,delete g.text}return g},ru}var su,yg;function MP(){if(yg)return su;yg=1;var t=th(),e=j_();function n(r){var s=t.copyOptions(r);return t.ensureSpacesExists(s),s}return su=function(r,s){var i,o,a,l;return i=n(s),o=e(r,i),l="compact"in i&&i.compact?"_parent":"parent","addParent"in i&&i.addParent?a=JSON.stringify(o,function(c,u){return c===l?"_":u},i.spaces):a=JSON.stringify(o,null,i.spaces),a.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},su}var iu,vg;function V_(){if(vg)return iu;vg=1;var t=th(),e=eh().isArray,n,r;function s(y){var g=t.copyOptions(y);return t.ensureFlagExists("ignoreDeclaration",g),t.ensureFlagExists("ignoreInstruction",g),t.ensureFlagExists("ignoreAttributes",g),t.ensureFlagExists("ignoreText",g),t.ensureFlagExists("ignoreComment",g),t.ensureFlagExists("ignoreCdata",g),t.ensureFlagExists("ignoreDoctype",g),t.ensureFlagExists("compact",g),t.ensureFlagExists("indentText",g),t.ensureFlagExists("indentCdata",g),t.ensureFlagExists("indentAttributes",g),t.ensureFlagExists("indentInstruction",g),t.ensureFlagExists("fullTagEmptyElement",g),t.ensureFlagExists("noQuotesForNativeAttributes",g),t.ensureSpacesExists(g),typeof g.spaces=="number"&&(g.spaces=Array(g.spaces+1).join(" ")),t.ensureKeyExists("declaration",g),t.ensureKeyExists("instruction",g),t.ensureKeyExists("attributes",g),t.ensureKeyExists("text",g),t.ensureKeyExists("comment",g),t.ensureKeyExists("cdata",g),t.ensureKeyExists("doctype",g),t.ensureKeyExists("type",g),t.ensureKeyExists("name",g),t.ensureKeyExists("elements",g),t.checkFnExists("doctype",g),t.checkFnExists("instruction",g),t.checkFnExists("cdata",g),t.checkFnExists("comment",g),t.checkFnExists("text",g),t.checkFnExists("instructionName",g),t.checkFnExists("elementName",g),t.checkFnExists("attributeName",g),t.checkFnExists("attributeValue",g),t.checkFnExists("attributes",g),t.checkFnExists("fullTagEmptyElement",g),g}function i(y,g,E){return(!E&&y.spaces?`
`:"")+Array(g+1).join(y.spaces)}function o(y,g,E){if(g.ignoreAttributes)return"";"attributesFn"in g&&(y=g.attributesFn(y,r,n));var A,R,O,x,j=[];for(A in y)y.hasOwnProperty(A)&&y[A]!==null&&y[A]!==void 0&&(x=g.noQuotesForNativeAttributes&&typeof y[A]!="string"?"":'"',R=""+y[A],R=R.replace(/"/g,"&quot;"),O="attributeNameFn"in g?g.attributeNameFn(A,R,r,n):A,j.push(g.spaces&&g.indentAttributes?i(g,E+1,!1):" "),j.push(O+"="+x+("attributeValueFn"in g?g.attributeValueFn(R,A,r,n):R)+x));return y&&Object.keys(y).length&&g.spaces&&g.indentAttributes&&j.push(i(g,E,!1)),j.join("")}function a(y,g,E){return n=y,r="xml",g.ignoreDeclaration?"":"<?xml"+o(y[g.attributesKey],g,E)+"?>"}function l(y,g,E){if(g.ignoreInstruction)return"";var A;for(A in y)if(y.hasOwnProperty(A))break;var R="instructionNameFn"in g?g.instructionNameFn(A,y[A],r,n):A;if(typeof y[A]=="object")return n=y,r=R,"<?"+R+o(y[A][g.attributesKey],g,E)+"?>";var O=y[A]?y[A]:"";return"instructionFn"in g&&(O=g.instructionFn(O,A,r,n)),"<?"+R+(O?" "+O:"")+"?>"}function c(y,g){return g.ignoreComment?"":"<!--"+("commentFn"in g?g.commentFn(y,r,n):y)+"-->"}function u(y,g){return g.ignoreCdata?"":"<![CDATA["+("cdataFn"in g?g.cdataFn(y,r,n):y.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function d(y,g){return g.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in g?g.doctypeFn(y,r,n):y)+">"}function f(y,g){return g.ignoreText?"":(y=""+y,y=y.replace(/&amp;/g,"&"),y=y.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in g?g.textFn(y,r,n):y)}function h(y,g){var E;if(y.elements&&y.elements.length)for(E=0;E<y.elements.length;++E)switch(y.elements[E][g.typeKey]){case"text":if(g.indentText)return!0;break;case"cdata":if(g.indentCdata)return!0;break;case"instruction":if(g.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function m(y,g,E){n=y,r=y.name;var A=[],R="elementNameFn"in g?g.elementNameFn(y.name,y):y.name;A.push("<"+R),y[g.attributesKey]&&A.push(o(y[g.attributesKey],g,E));var O=y[g.elementsKey]&&y[g.elementsKey].length||y[g.attributesKey]&&y[g.attributesKey]["xml:space"]==="preserve";return O||("fullTagEmptyElementFn"in g?O=g.fullTagEmptyElementFn(y.name,y):O=g.fullTagEmptyElement),O?(A.push(">"),y[g.elementsKey]&&y[g.elementsKey].length&&(A.push(p(y[g.elementsKey],g,E+1)),n=y,r=y.name),A.push(g.spaces&&h(y,g)?`
`+Array(E+1).join(g.spaces):""),A.push("</"+R+">")):A.push("/>"),A.join("")}function p(y,g,E,A){return y.reduce(function(R,O){var x=i(g,E,A&&!R);switch(O.type){case"element":return R+x+m(O,g,E);case"comment":return R+x+c(O[g.commentKey],g);case"doctype":return R+x+d(O[g.doctypeKey],g);case"cdata":return R+(g.indentCdata?x:"")+u(O[g.cdataKey],g);case"text":return R+(g.indentText?x:"")+f(O[g.textKey],g);case"instruction":var j={};return j[O[g.nameKey]]=O[g.attributesKey]?O:O[g.instructionKey],R+(g.indentInstruction?x:"")+l(j,g,E)}},"")}function _(y,g,E){var A;for(A in y)if(y.hasOwnProperty(A))switch(A){case g.parentKey:case g.attributesKey:break;case g.textKey:if(g.indentText||E)return!0;break;case g.cdataKey:if(g.indentCdata||E)return!0;break;case g.instructionKey:if(g.indentInstruction||E)return!0;break;case g.doctypeKey:case g.commentKey:return!0;default:return!0}return!1}function b(y,g,E,A,R){n=y,r=g;var O="elementNameFn"in E?E.elementNameFn(g,y):g;if(typeof y>"u"||y===null||y==="")return"fullTagEmptyElementFn"in E&&E.fullTagEmptyElementFn(g,y)||E.fullTagEmptyElement?"<"+O+"></"+O+">":"<"+O+"/>";var x=[];if(g){if(x.push("<"+O),typeof y!="object")return x.push(">"+f(y,E)+"</"+O+">"),x.join("");y[E.attributesKey]&&x.push(o(y[E.attributesKey],E,A));var j=_(y,E,!0)||y[E.attributesKey]&&y[E.attributesKey]["xml:space"]==="preserve";if(j||("fullTagEmptyElementFn"in E?j=E.fullTagEmptyElementFn(g,y):j=E.fullTagEmptyElement),j)x.push(">");else return x.push("/>"),x.join("")}return x.push(C(y,E,A+1,!1)),n=y,r=g,g&&x.push((R?i(E,A,!1):"")+"</"+O+">"),x.join("")}function C(y,g,E,A){var R,O,x,j=[];for(O in y)if(y.hasOwnProperty(O))for(x=e(y[O])?y[O]:[y[O]],R=0;R<x.length;++R){switch(O){case g.declarationKey:j.push(a(x[R],g,E));break;case g.instructionKey:j.push((g.indentInstruction?i(g,E,A):"")+l(x[R],g,E));break;case g.attributesKey:case g.parentKey:break;case g.textKey:j.push((g.indentText?i(g,E,A):"")+f(x[R],g));break;case g.cdataKey:j.push((g.indentCdata?i(g,E,A):"")+u(x[R],g));break;case g.doctypeKey:j.push(i(g,E,A)+d(x[R],g));break;case g.commentKey:j.push(i(g,E,A)+c(x[R],g));break;default:j.push(i(g,E,A)+b(x[R],O,g,E,_(x[R],g)))}A=A&&!j.length}return j.join("")}return iu=function(y,g){g=s(g);var E=[];return n=y,r="_root_",g.compact?E.push(C(y,g,0,!0)):(y[g.declarationKey]&&E.push(a(y[g.declarationKey],g,0)),y[g.elementsKey]&&y[g.elementsKey].length&&E.push(p(y[g.elementsKey],g,0,!E.length))),E.join("")},iu}var ou,bg;function IP(){if(bg)return ou;bg=1;var t=V_();return ou=function(e,n){e instanceof Buffer&&(e=e.toString());var r=null;if(typeof e=="string")try{r=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else r=e;return t(r,n)},ou}var au,_g;function FP(){if(_g)return au;_g=1;var t=j_(),e=MP(),n=V_(),r=IP();return au={xml2js:t,xml2json:e,js2xml:n,json2xml:r},au}var NP=FP();const wg=sf(NP);var Pi={exports:{}};/*! https://mths.be/base64 v1.0.0 by @mathias | MIT license */var LP=Pi.exports,Cg;function BP(){return Cg||(Cg=1,function(t,e){(function(n){var r=e,s=t&&t.exports==r&&t,i=typeof ks=="object"&&ks;(i.global===i||i.window===i)&&(n=i);var o=function(m){this.message=m};o.prototype=new Error,o.prototype.name="InvalidCharacterError";var a=function(m){throw new o(m)},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=/[\t\n\f\r ]/g,u=function(m){m=String(m).replace(c,"");var p=m.length;p%4==0&&(m=m.replace(/==?$/,""),p=m.length),(p%4==1||/[^+a-zA-Z0-9/]/.test(m))&&a("Invalid character: the string to be decoded is not correctly encoded.");for(var _=0,b,C,y="",g=-1;++g<p;)C=l.indexOf(m.charAt(g)),b=_%4?b*64+C:C,_++%4&&(y+=String.fromCharCode(255&b>>(-2*_&6)));return y},d=function(m){m=String(m),/[^\0-\xFF]/.test(m)&&a("The string to be encoded contains characters outside of the Latin1 range.");for(var p=m.length%3,_="",b=-1,C,y,g,E,A=m.length-p;++b<A;)C=m.charCodeAt(b)<<16,y=m.charCodeAt(++b)<<8,g=m.charCodeAt(++b),E=C+y+g,_+=l.charAt(E>>18&63)+l.charAt(E>>12&63)+l.charAt(E>>6&63)+l.charAt(E&63);return p==2?(C=m.charCodeAt(b)<<8,y=m.charCodeAt(++b),E=C+y,_+=l.charAt(E>>10)+l.charAt(E>>4&63)+l.charAt(E<<2&63)+"="):p==1&&(E=m.charCodeAt(b),_+=l.charAt(E>>2)+l.charAt(E<<4&63)+"=="),_},f={encode:d,decode:u,version:"1.0.0"};if(r&&!r.nodeType)if(s)s.exports=f;else for(var h in f)f.hasOwnProperty(h)&&(r[h]=f[h]);else n.base64=f})(LP)}(Pi,Pi.exports)),Pi.exports}var xg=BP(),Be;(function(t){t.CALENDAR_SERVER="http://calendarserver.org/ns/",t.CALDAV_APPLE="http://apple.com/ns/ical/",t.CALDAV="urn:ietf:params:xml:ns:caldav",t.CARDDAV="urn:ietf:params:xml:ns:carddav",t.DAV="DAV:"})(Be||(Be={}));const UP={[Be.CALDAV]:"xmlns:c",[Be.CARDDAV]:"xmlns:card",[Be.CALENDAR_SERVER]:"xmlns:cs",[Be.CALDAV_APPLE]:"xmlns:ca",[Be.DAV]:"xmlns:d"};var ue;(function(t){t.CALDAV="c",t.CARDDAV="card",t.CALENDAR_SERVER="cs",t.CALDAV_APPLE="ca",t.DAV="d"})(ue||(ue={}));var yd;(function(t){t.VEVENT="VEVENT",t.VTODO="VTODO",t.VJOURNAL="VJOURNAL",t.VFREEBUSY="VFREEBUSY",t.VTIMEZONE="VTIMEZONE",t.VALARM="VALARM"})(yd||(yd={}));const jP=t=>t.replace(/([-_]\w)/g,e=>e[1].toUpperCase()),Eg=t=>{const e=Number(t);if(!Number.isNaN(e))return e;const n=t.toLowerCase();return n==="true"?!0:n==="false"?!1:t},VP=(t,e)=>{if(!t&&!e)return!0;if(!t||!e)return!1;const n=t.trim(),r=e.trim();if(Math.abs(n.length-r.length)>1)return!1;const s=n.slice(-1)==="/"?n.slice(0,-1):n,i=r.slice(-1)==="/"?r.slice(0,-1):r;return t.includes(i)||e.includes(s)},St=(t,e)=>{if(!t&&!e)return!0;if(!t||!e)return!1;const n=t.trim(),r=e.trim(),s=n.slice(-1)==="/"?n.slice(0,-1):n,i=r.slice(-1)==="/"?r.slice(0,-1):r;return t.includes(i)||e.includes(s)},er=t=>t.reduce((e,n)=>({...e,[UP[n]]:n}),{}),zt=t=>Object.entries(t).reduce((e,[n,r])=>r?{...e,[n]:r}:e,{}),H_=(t,e)=>e?{[t]:e}:{},ve=(t,e)=>t?!e||e.length===0?t:Object.fromEntries(Object.entries(t).filter(([n])=>!e.includes(n))):{};var HP=Object.freeze({__proto__:null,cleanupFalsy:zt,conditionalParam:H_,excludeHeaders:ve,getDAVAttribute:er,urlContains:St,urlEquals:VP});const zP=pi("tsdav:request"),Or=async t=>{var e;const{url:n,init:r,convertIncoming:s=!0,parseOutgoing:i=!0,fetchOptions:o={}}=t,{headers:a={},body:l,namespace:c,method:u,attributes:d}=r,f=s?wg.js2xml({_declaration:{_attributes:{version:"1.0",encoding:"utf-8"}},...l,_attributes:d},{compact:!0,spaces:2,elementNameFn:C=>c&&!/^.+:.+/.test(C)?`${c}:${C}`:C}):l,h={...o};delete h.headers;const m=await us.fetch(n,{headers:{"Content-Type":"text/xml;charset=UTF-8",...zt(a),...o.headers},body:f,method:u,...h}),p=await m.text();if(!m.ok||!(!((e=m.headers.get("content-type"))===null||e===void 0)&&e.includes("xml"))||!i)return[{href:m.url,ok:m.ok,status:m.status,statusText:m.statusText,raw:p}];const _=wg.xml2js(p,{compact:!0,trim:!0,textFn:(C,y)=>{try{const g=y._parent,E=Object.keys(g),A=E.length,R=E[A-1],O=g[R];if(O.length>0){const j=O,V=O.length-1;j[V]=Eg(C)}else g[R]=Eg(C)}catch(g){zP(g.stack)}},elementNameFn:C=>jP(C.replace(/^.+:/,"")),attributesFn:C=>{const y={...C};return delete y.xmlns,y},ignoreDeclaration:!0});return(Array.isArray(_.multistatus.response)?_.multistatus.response:[_.multistatus.response]).map(C=>{var y,g;const E=/^\S+\s(?<status>\d+)\s(?<statusText>.+)$/;if(!C)return{status:m.status,statusText:m.statusText,ok:m.ok};const A=E.exec(C.status);return{raw:_,href:C.href,status:A!=null&&A.groups?Number.parseInt(A==null?void 0:A.groups.status,10):m.status,statusText:(g=(y=A==null?void 0:A.groups)===null||y===void 0?void 0:y.statusText)!==null&&g!==void 0?g:m.statusText,ok:!C.error,error:C.error,responsedescription:C.responsedescription,props:(Array.isArray(C.propstat)?C.propstat:[C.propstat]).reduce((R,O)=>({...R,...O==null?void 0:O.prop}),{})}})},kn=async t=>{const{url:e,props:n,depth:r,headers:s,headersToExclude:i,fetchOptions:o={}}=t;return Or({url:e,init:{method:"PROPFIND",headers:ve(zt({depth:r,...s}),i),namespace:ue.DAV,body:{propfind:{_attributes:er([Be.CALDAV,Be.CALDAV_APPLE,Be.CALENDAR_SERVER,Be.CARDDAV,Be.DAV]),prop:n}}},fetchOptions:o})},Mo=async t=>{const{url:e,data:n,headers:r,headersToExclude:s,fetchOptions:i={}}=t;return us.fetch(e,{method:"PUT",body:n,headers:ve(r,s),...i})},Io=async t=>{const{url:e,data:n,etag:r,headers:s,headersToExclude:i,fetchOptions:o={}}=t;return us.fetch(e,{method:"PUT",body:n,headers:ve(zt({"If-Match":r,...s}),i),...o})},Fo=async t=>{const{url:e,headers:n,etag:r,headersToExclude:s,fetchOptions:i={}}=t;return us.fetch(e,{method:"DELETE",headers:ve(zt({"If-Match":r,...n}),s),...i})};var WP=Object.freeze({__proto__:null,createObject:Mo,davRequest:Or,deleteObject:Fo,propfind:kn,updateObject:Io});function On(t,e){const n=r=>e.every(s=>r[s]);return Array.isArray(t)?t.every(r=>n(r)):n(t)}const Rn=(t,e)=>e.reduce((n,r)=>t[r]?n:`${n.length?`${n},`:""}${r.toString()}`,""),KP=pi("tsdav:collection"),Rr=async t=>{const{url:e,body:n,depth:r,defaultNamespace:s=ue.DAV,headers:i,headersToExclude:o,fetchOptions:a={}}=t,l=await Or({url:e,init:{method:"REPORT",headers:ve(zt({depth:r,...i}),o),namespace:s,body:n},fetchOptions:a});return l.length===1&&!l[0].raw?[]:l},nh=async t=>{const{url:e,props:n,depth:r,headers:s,headersToExclude:i,fetchOptions:o={}}=t;return Or({url:e,init:{method:"MKCOL",headers:ve(zt({depth:r,...s}),i),namespace:ue.DAV,body:n?{mkcol:{set:{prop:n}}}:void 0},fetchOptions:o})},No=async t=>{var e,n,r,s,i;const{collection:o,headers:a,headersToExclude:l,fetchOptions:c={}}=t;return(i=(s=(r=(n=(e=(await kn({url:o.url,props:{[`${ue.DAV}:supported-report-set`]:{}},depth:"0",headers:ve(a,l),fetchOptions:c}))[0])===null||e===void 0?void 0:e.props)===null||n===void 0?void 0:n.supportedReportSet)===null||r===void 0?void 0:r.supportedReport)===null||s===void 0?void 0:s.map(d=>Object.keys(d.report)[0]))!==null&&i!==void 0?i:[]},ql=async t=>{var e,n,r;const{collection:s,headers:i,headersToExclude:o,fetchOptions:a={}}=t,c=(await kn({url:s.url,props:{[`${ue.CALENDAR_SERVER}:getctag`]:{}},depth:"0",headers:ve(i,o),fetchOptions:a})).filter(u=>St(s.url,u.href))[0];if(!c)throw new Error("Collection does not exist on server");return{isDirty:`${s.ctag}`!=`${(e=c.props)===null||e===void 0?void 0:e.getctag}`,newCtag:(r=(n=c.props)===null||n===void 0?void 0:n.getctag)===null||r===void 0?void 0:r.toString()}},Gl=t=>{const{url:e,props:n,headers:r,syncLevel:s,syncToken:i,headersToExclude:o,fetchOptions:a}=t;return Or({url:e,init:{method:"REPORT",namespace:ue.DAV,headers:ve({...r},o),body:{"sync-collection":{_attributes:er([Be.CALDAV,Be.CARDDAV,Be.DAV]),"sync-level":s,"sync-token":i,[`${ue.DAV}:prop`]:n}}},fetchOptions:a})},Jl=async t=>{var e,n,r,s,i,o,a,l,c,u,d;const{collection:f,method:h,headers:m,headersToExclude:p,account:_,detailedResult:b,fetchOptions:C={}}=t,y=["accountType","homeUrl"];if(!_||!On(_,y))throw _?new Error(`account must have ${Rn(_,y)} before smartCollectionSync`):new Error("no account for smartCollectionSync");const g=h??(!((e=f.reports)===null||e===void 0)&&e.includes("syncCollection")?"webdav":"basic");if(KP(`smart collection sync with type ${_.accountType} and method ${g}`),g==="webdav"){const E=await Gl({url:f.url,props:{[`${ue.DAV}:getetag`]:{},[`${_.accountType==="caldav"?ue.CALDAV:ue.CARDDAV}:${_.accountType==="caldav"?"calendar-data":"address-data"}`]:{},[`${ue.DAV}:displayname`]:{}},syncLevel:1,syncToken:f.syncToken,headers:ve(m,p),fetchOptions:C}),A=E.filter(I=>{var F;const N=_.accountType==="caldav"?".ics":".vcf";return((F=I.href)===null||F===void 0?void 0:F.slice(-4))===N}),R=A.filter(I=>I.status!==404).map(I=>I.href),O=A.filter(I=>I.status===404).map(I=>I.href),j=(R.length?(r=await((n=f==null?void 0:f.objectMultiGet)===null||n===void 0?void 0:n.call(f,{url:f.url,props:{[`${ue.DAV}:getetag`]:{},[`${_.accountType==="caldav"?ue.CALDAV:ue.CARDDAV}:${_.accountType==="caldav"?"calendar-data":"address-data"}`]:{}},objectUrls:R,depth:"1",headers:ve(m,p),fetchOptions:C})))!==null&&r!==void 0?r:[]:[]).map(I=>{var F,N,le,ce,Re,Se,Ae,ge,Ie,je;return{url:(F=I.href)!==null&&F!==void 0?F:"",etag:(N=I.props)===null||N===void 0?void 0:N.getetag,data:(_==null?void 0:_.accountType)==="caldav"?(Re=(ce=(le=I.props)===null||le===void 0?void 0:le.calendarData)===null||ce===void 0?void 0:ce._cdata)!==null&&Re!==void 0?Re:(Se=I.props)===null||Se===void 0?void 0:Se.calendarData:(Ie=(ge=(Ae=I.props)===null||Ae===void 0?void 0:Ae.addressData)===null||ge===void 0?void 0:ge._cdata)!==null&&Ie!==void 0?Ie:(je=I.props)===null||je===void 0?void 0:je.addressData}}),V=(s=f.objects)!==null&&s!==void 0?s:[],U=j.filter(I=>V.every(F=>!St(F.url,I.url))),re=V.reduce((I,F)=>{const N=j.find(le=>St(le.url,F.url));return N&&N.etag&&N.etag!==F.etag?[...I,N]:I},[]),se=O.map(I=>({url:I,etag:""})),P=V.filter(I=>j.some(F=>St(I.url,F.url)&&F.etag===I.etag));return{...f,objects:b?{created:U,updated:re,deleted:se}:[...P,...U,...re],syncToken:(l=(a=(o=(i=E[0])===null||i===void 0?void 0:i.raw)===null||o===void 0?void 0:o.multistatus)===null||a===void 0?void 0:a.syncToken)!==null&&l!==void 0?l:f.syncToken}}if(g==="basic"){const{isDirty:E,newCtag:A}=await ql({collection:f,headers:ve(m,p),fetchOptions:C}),R=(c=f.objects)!==null&&c!==void 0?c:[],O=(d=await((u=f.fetchObjects)===null||u===void 0?void 0:u.call(f,{collection:f,headers:ve(m,p),fetchOptions:C})))!==null&&d!==void 0?d:[],x=O.filter(re=>R.every(se=>!St(se.url,re.url))),j=R.reduce((re,se)=>{const P=O.find(I=>St(I.url,se.url));return P&&P.etag&&P.etag!==se.etag?[...re,P]:re},[]),V=R.filter(re=>O.every(se=>!St(se.url,re.url))),U=R.filter(re=>O.some(se=>St(re.url,se.url)&&se.etag===re.etag));if(E)return{...f,objects:b?{created:x,updated:j,deleted:V}:[...U,...x,...j],ctag:A}}return b?{...f,objects:{created:[],updated:[],deleted:[]}}:f};var YP=Object.freeze({__proto__:null,collectionQuery:Rr,isCollectionDirty:ql,makeCollection:nh,smartCollectionSync:Jl,supportedReportSet:No,syncCollection:Gl});const z_=pi("tsdav:addressBook"),uo=async t=>{const{url:e,props:n,filters:r,depth:s,headers:i,headersToExclude:o,fetchOptions:a={}}=t;return Rr({url:e,body:{"addressbook-query":zt({_attributes:er([Be.CARDDAV,Be.DAV]),[`${ue.DAV}:prop`]:n,filter:r??{"prop-filter":{_attributes:{name:"FN"}}}})},defaultNamespace:ue.CARDDAV,depth:s,headers:ve(i,o),fetchOptions:a})},Xl=async t=>{const{url:e,props:n,objectUrls:r,depth:s,headers:i,headersToExclude:o,fetchOptions:a={}}=t;return Rr({url:e,body:{"addressbook-multiget":zt({_attributes:er([Be.DAV,Be.CARDDAV]),[`${ue.DAV}:prop`]:n,[`${ue.DAV}:href`]:r})},defaultNamespace:ue.CARDDAV,depth:s,headers:ve(i,o),fetchOptions:a})},Ql=async t=>{const{account:e,headers:n,props:r,headersToExclude:s,fetchOptions:i={}}=t??{},o=["homeUrl","rootUrl"];if(!e||!On(e,o))throw e?new Error(`account must have ${Rn(e,o)} before fetchAddressBooks`):new Error("no account for fetchAddressBooks");const a=await kn({url:e.homeUrl,props:r??{[`${ue.DAV}:displayname`]:{},[`${ue.CALENDAR_SERVER}:getctag`]:{},[`${ue.DAV}:resourcetype`]:{},[`${ue.DAV}:sync-token`]:{}},depth:"1",headers:ve(n,s),fetchOptions:i});return Promise.all(a.filter(l=>{var c,u;return Object.keys((u=(c=l.props)===null||c===void 0?void 0:c.resourcetype)!==null&&u!==void 0?u:{}).includes("addressbook")}).map(l=>{var c,u,d,f,h,m,p,_,b;const C=(d=(u=(c=l.props)===null||c===void 0?void 0:c.displayname)===null||u===void 0?void 0:u._cdata)!==null&&d!==void 0?d:(f=l.props)===null||f===void 0?void 0:f.displayname;return z_(`Found address book named ${typeof C=="string"?C:""},
             props: ${JSON.stringify(l.props)}`),{url:new URL((h=l.href)!==null&&h!==void 0?h:"",(m=e.rootUrl)!==null&&m!==void 0?m:"").href,ctag:(p=l.props)===null||p===void 0?void 0:p.getctag,displayName:typeof C=="string"?C:"",resourcetype:Object.keys((_=l.props)===null||_===void 0?void 0:_.resourcetype),syncToken:(b=l.props)===null||b===void 0?void 0:b.syncToken}}).map(async l=>({...l,reports:await No({collection:l,headers:ve(n,s),fetchOptions:i})})))},Zl=async t=>{const{addressBook:e,headers:n,objectUrls:r,headersToExclude:s,urlFilter:i=d=>d,useMultiGet:o=!0,fetchOptions:a={}}=t;z_(`Fetching vcards from ${e==null?void 0:e.url}`);const l=["url"];if(!e||!On(e,l))throw e?new Error(`addressBook must have ${Rn(e,l)} before fetchVCards`):new Error("cannot fetchVCards for undefined addressBook");const c=(r??(await uo({url:e.url,props:{[`${ue.DAV}:getetag`]:{}},depth:"1",headers:ve(n,s),fetchOptions:a})).map(d=>{var f;return d.ok&&(f=d.href)!==null&&f!==void 0?f:""})).map(d=>d.startsWith("http")||!d?d:new URL(d,e.url).href).filter(i).map(d=>new URL(d).pathname);let u=[];return c.length>0&&(o?u=await Xl({url:e.url,props:{[`${ue.DAV}:getetag`]:{},[`${ue.CARDDAV}:address-data`]:{}},objectUrls:c,depth:"1",headers:ve(n,s),fetchOptions:a}):u=await uo({url:e.url,props:{[`${ue.DAV}:getetag`]:{},[`${ue.CARDDAV}:address-data`]:{}},depth:"1",headers:ve(n,s),fetchOptions:a})),u.map(d=>{var f,h,m,p,_,b;return{url:new URL((f=d.href)!==null&&f!==void 0?f:"",e.url).href,etag:(h=d.props)===null||h===void 0?void 0:h.getetag,data:(_=(p=(m=d.props)===null||m===void 0?void 0:m.addressData)===null||p===void 0?void 0:p._cdata)!==null&&_!==void 0?_:(b=d.props)===null||b===void 0?void 0:b.addressData}})},rh=async t=>{const{addressBook:e,vCardString:n,filename:r,headers:s,headersToExclude:i,fetchOptions:o={}}=t;return Mo({url:new URL(r,e.url).href,data:n,headers:ve({"content-type":"text/vcard; charset=utf-8","If-None-Match":"*",...s},i),fetchOptions:o})},sh=async t=>{const{vCard:e,headers:n,headersToExclude:r,fetchOptions:s={}}=t;return Io({url:e.url,data:e.data,etag:e.etag,headers:ve({"content-type":"text/vcard; charset=utf-8",...n},r),fetchOptions:s})},ih=async t=>{const{vCard:e,headers:n,headersToExclude:r,fetchOptions:s={}}=t;return Fo({url:e.url,etag:e.etag,headers:ve(n,r),fetchOptions:s})};var qP=Object.freeze({__proto__:null,addressBookMultiGet:Xl,addressBookQuery:uo,createVCard:rh,deleteVCard:ih,fetchAddressBooks:Ql,fetchVCards:Zl,updateVCard:sh});const zs=pi("tsdav:calendar"),oh=async t=>{var e,n,r;const{account:s,headers:i,headersToExclude:o,fetchOptions:a={}}=t,l=["principalUrl","rootUrl"];if(!On(s,l))throw new Error(`account must have ${Rn(s,l)} before fetchUserAddresses`);zs(`Fetch user addresses from ${s.principalUrl}`);const u=(await kn({url:s.principalUrl,props:{[`${ue.CALDAV}:calendar-user-address-set`]:{}},depth:"0",headers:ve(i,o),fetchOptions:a})).find(f=>St(s.principalUrl,f.href));if(!u||!u.ok)throw new Error("cannot find calendarUserAddresses");const d=((r=(n=(e=u==null?void 0:u.props)===null||e===void 0?void 0:e.calendarUserAddressSet)===null||n===void 0?void 0:n.href)===null||r===void 0?void 0:r.filter(Boolean))||[];return zs(`Fetched calendar user addresses ${d}`),d},fo=async t=>{const{url:e,props:n,filters:r,timezone:s,depth:i,headers:o,headersToExclude:a,fetchOptions:l={}}=t;return Rr({url:e,body:{"calendar-query":zt({_attributes:er([Be.CALDAV,Be.CALENDAR_SERVER,Be.CALDAV_APPLE,Be.DAV]),[`${ue.DAV}:prop`]:n,filter:r,timezone:s})},defaultNamespace:ue.CALDAV,depth:i,headers:ve(o,a),fetchOptions:l})},Lo=async t=>{const{url:e,props:n,objectUrls:r,filters:s,timezone:i,depth:o,headers:a,headersToExclude:l,fetchOptions:c={}}=t;return Rr({url:e,body:{"calendar-multiget":zt({_attributes:er([Be.DAV,Be.CALDAV]),[`${ue.DAV}:prop`]:n,[`${ue.DAV}:href`]:r,filter:s,timezone:i})},defaultNamespace:ue.CALDAV,depth:o,headers:ve(a,l),fetchOptions:c})},ah=async t=>{const{url:e,props:n,depth:r,headers:s,headersToExclude:i,fetchOptions:o={}}=t;return Or({url:e,init:{method:"MKCALENDAR",headers:ve(zt({depth:r,...s}),i),namespace:ue.DAV,body:{[`${ue.CALDAV}:mkcalendar`]:{_attributes:er([Be.DAV,Be.CALDAV,Be.CALDAV_APPLE]),set:{prop:n}}}},fetchOptions:o})},Bo=async t=>{const{headers:e,account:n,props:r,projectedProps:s,headersToExclude:i,fetchOptions:o={}}=t??{},a=["homeUrl","rootUrl"];if(!n||!On(n,a))throw n?new Error(`account must have ${Rn(n,a)} before fetchCalendars`):new Error("no account for fetchCalendars");const l=await kn({url:n.homeUrl,props:r??{[`${ue.CALDAV}:calendar-description`]:{},[`${ue.CALDAV}:calendar-timezone`]:{},[`${ue.DAV}:displayname`]:{},[`${ue.CALDAV_APPLE}:calendar-color`]:{},[`${ue.CALENDAR_SERVER}:getctag`]:{},[`${ue.DAV}:resourcetype`]:{},[`${ue.CALDAV}:supported-calendar-component-set`]:{},[`${ue.DAV}:sync-token`]:{}},depth:"1",headers:ve(e,i),fetchOptions:o});return Promise.all(l.filter(c=>{var u,d;return Object.keys((d=(u=c.props)===null||u===void 0?void 0:u.resourcetype)!==null&&d!==void 0?d:{}).includes("calendar")}).filter(c=>{var u,d,f,h,m,p;return(Array.isArray((d=(u=c.props)===null||u===void 0?void 0:u.supportedCalendarComponentSet)===null||d===void 0?void 0:d.comp)?(f=c.props)===null||f===void 0?void 0:f.supportedCalendarComponentSet.comp.map(b=>b._attributes.name):[(p=(m=(h=c.props)===null||h===void 0?void 0:h.supportedCalendarComponentSet)===null||m===void 0?void 0:m.comp)===null||p===void 0?void 0:p._attributes.name]).some(b=>Object.values(yd).includes(b))}).map(c=>{var u,d,f,h,m,p,_,b,C,y,g,E,A,R,O,x;const j=(u=c.props)===null||u===void 0?void 0:u.calendarDescription,V=(d=c.props)===null||d===void 0?void 0:d.calendarTimezone;return{description:typeof j=="string"?j:"",timezone:typeof V=="string"?V:"",url:new URL((f=c.href)!==null&&f!==void 0?f:"",(h=n.rootUrl)!==null&&h!==void 0?h:"").href,ctag:(m=c.props)===null||m===void 0?void 0:m.getctag,calendarColor:(p=c.props)===null||p===void 0?void 0:p.calendarColor,displayName:(b=(_=c.props)===null||_===void 0?void 0:_.displayname._cdata)!==null&&b!==void 0?b:(C=c.props)===null||C===void 0?void 0:C.displayname,components:Array.isArray((y=c.props)===null||y===void 0?void 0:y.supportedCalendarComponentSet.comp)?(g=c.props)===null||g===void 0?void 0:g.supportedCalendarComponentSet.comp.map(U=>U._attributes.name):[(A=(E=c.props)===null||E===void 0?void 0:E.supportedCalendarComponentSet.comp)===null||A===void 0?void 0:A._attributes.name],resourcetype:Object.keys((R=c.props)===null||R===void 0?void 0:R.resourcetype),syncToken:(O=c.props)===null||O===void 0?void 0:O.syncToken,...H_("projectedProps",Object.fromEntries(Object.entries((x=c.props)!==null&&x!==void 0?x:{}).filter(([U])=>s==null?void 0:s[U])))}}).map(async c=>({...c,reports:await No({collection:c,headers:ve(e,i),fetchOptions:o})})))},ec=async t=>{const{calendar:e,objectUrls:n,filters:r,timeRange:s,headers:i,expand:o,urlFilter:a=p=>!!(p!=null&&p.includes(".ics")),useMultiGet:l=!0,headersToExclude:c,fetchOptions:u={}}=t;if(s){const p=/^\d{4}(-\d\d(-\d\d(T\d\d:\d\d(:\d\d)?(\.\d+)?(([+-]\d\d:\d\d)|Z)?)?)?)?$/i,_=/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(([+-]\d\d:\d\d)|Z)?$/i;if((!p.test(s.start)||!p.test(s.end))&&(!_.test(s.start)||!_.test(s.end)))throw new Error("invalid timeRange format, not in ISO8601")}zs(`Fetching calendar objects from ${e==null?void 0:e.url}`);const d=["url"];if(!e||!On(e,d))throw e?new Error(`calendar must have ${Rn(e,d)} before fetchCalendarObjects`):new Error("cannot fetchCalendarObjects for undefined calendar");const f=r??[{"comp-filter":{_attributes:{name:"VCALENDAR"},"comp-filter":{_attributes:{name:"VEVENT"},...s?{"time-range":{_attributes:{start:`${new Date(s.start).toISOString().slice(0,19).replace(/[-:.]/g,"")}Z`,end:`${new Date(s.end).toISOString().slice(0,19).replace(/[-:.]/g,"")}Z`}}}:{}}}}],h=(n??(await fo({url:e.url,props:{[`${ue.DAV}:getetag`]:{...o&&s?{[`${ue.CALDAV}:expand`]:{_attributes:{start:`${new Date(s.start).toISOString().slice(0,19).replace(/[-:.]/g,"")}Z`,end:`${new Date(s.end).toISOString().slice(0,19).replace(/[-:.]/g,"")}Z`}}}:{}}},filters:f,depth:"1",headers:ve(i,c),fetchOptions:u})).map(p=>{var _;return(_=p.href)!==null&&_!==void 0?_:""})).map(p=>p.startsWith("http")||!p?p:new URL(p,e.url).href).filter(a).map(p=>new URL(p).pathname);let m=[];return h.length>0&&(!l||o?m=await fo({url:e.url,props:{[`${ue.DAV}:getetag`]:{},[`${ue.CALDAV}:calendar-data`]:{...o&&s?{[`${ue.CALDAV}:expand`]:{_attributes:{start:`${new Date(s.start).toISOString().slice(0,19).replace(/[-:.]/g,"")}Z`,end:`${new Date(s.end).toISOString().slice(0,19).replace(/[-:.]/g,"")}Z`}}}:{}}},filters:f,depth:"1",headers:ve(i,c),fetchOptions:u}):m=await Lo({url:e.url,props:{[`${ue.DAV}:getetag`]:{},[`${ue.CALDAV}:calendar-data`]:{...o&&s?{[`${ue.CALDAV}:expand`]:{_attributes:{start:`${new Date(s.start).toISOString().slice(0,19).replace(/[-:.]/g,"")}Z`,end:`${new Date(s.end).toISOString().slice(0,19).replace(/[-:.]/g,"")}Z`}}}:{}}},objectUrls:h,depth:"1",headers:ve(i,c),fetchOptions:u})),m.map(p=>{var _,b,C,y,g,E;return{url:new URL((_=p.href)!==null&&_!==void 0?_:"",e.url).href,etag:`${(b=p.props)===null||b===void 0?void 0:b.getetag}`,data:(g=(y=(C=p.props)===null||C===void 0?void 0:C.calendarData)===null||y===void 0?void 0:y._cdata)!==null&&g!==void 0?g:(E=p.props)===null||E===void 0?void 0:E.calendarData}})},lh=async t=>{const{calendar:e,iCalString:n,filename:r,headers:s,headersToExclude:i,fetchOptions:o={}}=t;return Mo({url:new URL(r,e.url).href,data:n,headers:ve({"content-type":"text/calendar; charset=utf-8","If-None-Match":"*",...s},i),fetchOptions:o})},ch=async t=>{const{calendarObject:e,headers:n,headersToExclude:r,fetchOptions:s={}}=t;return Io({url:e.url,data:e.data,etag:e.etag,headers:ve({"content-type":"text/calendar; charset=utf-8",...n},r),fetchOptions:s})},uh=async t=>{const{calendarObject:e,headers:n,headersToExclude:r,fetchOptions:s={}}=t;return Fo({url:e.url,etag:e.etag,headers:ve(n,r),fetchOptions:s})},dh=async t=>{var e;const{oldCalendars:n,account:r,detailedResult:s,headers:i,headersToExclude:o,fetchOptions:a={}}=t;if(!r)throw new Error("Must have account before syncCalendars");const l=(e=n??r.calendars)!==null&&e!==void 0?e:[],c=await Bo({account:r,headers:ve(i,o),fetchOptions:a}),u=c.filter(p=>l.every(_=>!St(_.url,p.url)));zs(`new calendars: ${u.map(p=>p.displayName)}`);const d=l.reduce((p,_)=>{const b=c.find(C=>St(C.url,_.url));return b&&(b.syncToken&&`${b.syncToken}`!=`${_.syncToken}`||b.ctag&&`${b.ctag}`!=`${_.ctag}`)?[...p,b]:p},[]);zs(`updated calendars: ${d.map(p=>p.displayName)}`);const f=await Promise.all(d.map(async p=>await Jl({collection:{...p,objectMultiGet:Lo},method:"webdav",headers:ve(i,o),account:r,fetchOptions:a}))),h=l.filter(p=>c.every(_=>!St(_.url,p.url)));zs(`deleted calendars: ${h.map(p=>p.displayName)}`);const m=l.filter(p=>c.some(_=>St(_.url,p.url)&&(_.syncToken&&`${_.syncToken}`!=`${p.syncToken}`||_.ctag&&`${_.ctag}`!=`${p.ctag}`)));return s?{created:u,updated:d,deleted:h}:[...m,...u,...f]},GP=async t=>{const{url:e,timeRange:n,depth:r,headers:s,headersToExclude:i,fetchOptions:o={}}=t;if(n){const l=/^\d{4}(-\d\d(-\d\d(T\d\d:\d\d(:\d\d)?(\.\d+)?(([+-]\d\d:\d\d)|Z)?)?)?)?$/i,c=/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(([+-]\d\d:\d\d)|Z)?$/i;if((!l.test(n.start)||!l.test(n.end))&&(!c.test(n.start)||!c.test(n.end)))throw new Error("invalid timeRange format, not in ISO8601")}else throw new Error("timeRange is required");return(await Rr({url:e,body:{"free-busy-query":zt({_attributes:er([Be.CALDAV]),[`${ue.CALDAV}:time-range`]:{_attributes:{start:`${new Date(n.start).toISOString().slice(0,19).replace(/[-:.]/g,"")}Z`,end:`${new Date(n.end).toISOString().slice(0,19).replace(/[-:.]/g,"")}Z`}}})},defaultNamespace:ue.CALDAV,depth:r,headers:ve(s,i),fetchOptions:o}))[0]};var JP=Object.freeze({__proto__:null,calendarMultiGet:Lo,calendarQuery:fo,createCalendarObject:lh,deleteCalendarObject:uh,fetchCalendarObjects:ec,fetchCalendarUserAddresses:oh,fetchCalendars:Bo,freeBusyQuery:GP,makeCalendar:ah,syncCalendars:dh,updateCalendarObject:ch});const yr=pi("tsdav:account"),W_=async t=>{var e,n;yr("Service discovery...");const{account:r,headers:s,headersToExclude:i,fetchOptions:o={}}=t,a=new URL(r.serverUrl),l=new URL(`/.well-known/${r.accountType}`,a);l.protocol=(e=a.protocol)!==null&&e!==void 0?e:"http";try{const c=await us.fetch(l.href,{headers:ve(s,i),method:"PROPFIND",redirect:"manual",...o});if(c.status>=300&&c.status<400){const u=c.headers.get("Location");if(typeof u=="string"&&u.length){yr(`Service discovery redirected to ${u}`);const d=new URL(u,a);return d.hostname===l.hostname&&l.port&&!d.port&&(d.port=l.port),d.protocol=(n=a.protocol)!==null&&n!==void 0?n:"http",d.href}}}catch(c){yr(`Service discovery failed: ${c.stack}`)}return a.href},K_=async t=>{var e,n,r,s,i;const{account:o,headers:a,headersToExclude:l,fetchOptions:c={}}=t,u=["rootUrl"];if(!On(o,u))throw new Error(`account must have ${Rn(o,u)} before fetchPrincipalUrl`);yr(`Fetching principal url from path ${o.rootUrl}`);const[d]=await kn({url:o.rootUrl,props:{[`${ue.DAV}:current-user-principal`]:{}},depth:"0",headers:ve(a,l),fetchOptions:c});if(!d.ok&&(yr(`Fetch principal url failed: ${d.statusText}`),d.status===401))throw new Error("Invalid credentials");return yr(`Fetched principal url ${(n=(e=d.props)===null||e===void 0?void 0:e.currentUserPrincipal)===null||n===void 0?void 0:n.href}`),new URL((i=(s=(r=d.props)===null||r===void 0?void 0:r.currentUserPrincipal)===null||s===void 0?void 0:s.href)!==null&&i!==void 0?i:"",o.rootUrl).href},Y_=async t=>{var e,n;const{account:r,headers:s,headersToExclude:i,fetchOptions:o={}}=t,a=["principalUrl","rootUrl"];if(!On(r,a))throw new Error(`account must have ${Rn(r,a)} before fetchHomeUrl`);yr(`Fetch home url from ${r.principalUrl}`);const c=(await kn({url:r.principalUrl,props:r.accountType==="caldav"?{[`${ue.CALDAV}:calendar-home-set`]:{}}:{[`${ue.CARDDAV}:addressbook-home-set`]:{}},depth:"0",headers:ve(s,i),fetchOptions:o})).find(d=>St(r.principalUrl,d.href));if(!c||!c.ok)throw new Error("cannot find homeUrl");const u=new URL(r.accountType==="caldav"?(e=c==null?void 0:c.props)===null||e===void 0?void 0:e.calendarHomeSet.href:(n=c==null?void 0:c.props)===null||n===void 0?void 0:n.addressbookHomeSet.href,r.rootUrl).href;return yr(`Fetched home url ${u}`),u},ho=async t=>{const{account:e,headers:n,loadCollections:r=!1,loadObjects:s=!1,headersToExclude:i,fetchOptions:o={}}=t,a={...e};return a.rootUrl=await W_({account:e,headers:ve(n,i),fetchOptions:o}),a.principalUrl=await K_({account:a,headers:ve(n,i),fetchOptions:o}),a.homeUrl=await Y_({account:a,headers:ve(n,i),fetchOptions:o}),(r||s)&&(e.accountType==="caldav"?a.calendars=await Bo({headers:ve(n,i),account:a,fetchOptions:o}):e.accountType==="carddav"&&(a.addressBooks=await Ql({headers:ve(n,i),account:a,fetchOptions:o}))),s&&(e.accountType==="caldav"&&a.calendars?a.calendars=await Promise.all(a.calendars.map(async l=>({...l,objects:await ec({calendar:l,headers:ve(n,i),fetchOptions:o})}))):e.accountType==="carddav"&&a.addressBooks&&(a.addressBooks=await Promise.all(a.addressBooks.map(async l=>({...l,objects:await Zl({addressBook:l,headers:ve(n,i),fetchOptions:o})}))))),a};var XP=Object.freeze({__proto__:null,createAccount:ho,fetchHomeUrl:Y_,fetchPrincipalUrl:K_,serviceDiscovery:W_});const Yr=pi("tsdav:authHelper"),fe=(t,e)=>(...n)=>t({...e,...n[0]}),fh=t=>(Yr(`Basic auth token generated: ${xg.encode(`${t.username}:${t.password}`)}`),{authorization:`Basic ${xg.encode(`${t.username}:${t.password}`)}`}),q_=async(t,e)=>{const n=["authorizationCode","redirectUrl","clientId","clientSecret","tokenUrl"];if(!On(t,n))throw new Error(`Oauth credentials missing: ${Rn(t,n)}`);const r=new URLSearchParams({grant_type:"authorization_code",code:t.authorizationCode,redirect_uri:t.redirectUrl,client_id:t.clientId,client_secret:t.clientSecret});Yr(t.tokenUrl),Yr(r.toString());const s=await us.fetch(t.tokenUrl,{method:"POST",body:r.toString(),headers:{"content-length":`${r.toString().length}`,"content-type":"application/x-www-form-urlencoded"},...e??{}});return s.ok?await s.json():(Yr(`Fetch Oauth tokens failed: ${await s.text()}`),{})},G_=async(t,e)=>{const n=["refreshToken","clientId","clientSecret","tokenUrl"];if(!On(t,n))throw new Error(`Oauth credentials missing: ${Rn(t,n)}`);const r=new URLSearchParams({client_id:t.clientId,client_secret:t.clientSecret,refresh_token:t.refreshToken,grant_type:"refresh_token"}),s=await us.fetch(t.tokenUrl,{method:"POST",body:r.toString(),headers:{"Content-Type":"application/x-www-form-urlencoded"},...e??{}});return s.ok?await s.json():(Yr(`Refresh access token failed: ${await s.text()}`),{})},hh=async(t,e)=>{var n;Yr("Fetching oauth headers");let r={};return t.refreshToken?(t.refreshToken&&!t.accessToken||Date.now()>((n=t.expiration)!==null&&n!==void 0?n:0))&&(r=await G_(t,e)):r=await q_(t,e),Yr(`Oauth tokens fetched: ${r.access_token}`),{tokens:r,headers:{authorization:`Bearer ${r.access_token}`}}};var QP=Object.freeze({__proto__:null,defaultParam:fe,fetchOauthTokens:q_,getBasicAuthHeaders:fh,getOauthHeaders:hh,refreshAccessToken:G_});const J_=async t=>{var e;const{serverUrl:n,credentials:r,authMethod:s,defaultAccountType:i,authFunction:o}=t;let a={};switch(s){case"Basic":a=fh(r);break;case"Oauth":a=(await hh(r)).headers;break;case"Digest":a={Authorization:`Digest ${r.digestString}`};break;case"Custom":a=(e=await(o==null?void 0:o(r)))!==null&&e!==void 0?e:{};break;default:throw new Error("Invalid auth method")}const l=i?await ho({account:{serverUrl:n,credentials:r,accountType:i},headers:a}):void 0,c=async Se=>{const{init:Ae,...ge}=Se,{headers:Ie,...je}=Ae;return Or({...ge,init:{...je,headers:{...a,...Ie}}})},u=fe(Mo,{url:n,headers:a}),d=fe(Io,{headers:a,url:n}),f=fe(Fo,{headers:a,url:n}),h=fe(kn,{headers:a}),m=async Se=>{const{account:Ae,headers:ge,loadCollections:Ie,loadObjects:je}=Se;return ho({account:{serverUrl:n,credentials:r,...Ae},headers:{...a,...ge},loadCollections:Ie,loadObjects:je})},p=fe(Rr,{headers:a}),_=fe(nh,{headers:a}),b=fe(Gl,{headers:a}),C=fe(No,{headers:a}),y=fe(ql,{headers:a}),g=fe(Jl,{headers:a,account:l}),E=fe(fo,{headers:a}),A=fe(Lo,{headers:a}),R=fe(ah,{headers:a}),O=fe(Bo,{headers:a,account:l}),x=fe(oh,{headers:a,account:l}),j=fe(ec,{headers:a}),V=fe(lh,{headers:a}),U=fe(ch,{headers:a}),re=fe(uh,{headers:a}),se=fe(dh,{account:l,headers:a}),P=fe(uo,{headers:a}),I=fe(Xl,{headers:a}),F=fe(Ql,{account:l,headers:a}),N=fe(Zl,{headers:a}),le=fe(rh,{headers:a}),ce=fe(sh,{headers:a}),Re=fe(ih,{headers:a});return{davRequest:c,propfind:h,createAccount:m,createObject:u,updateObject:d,deleteObject:f,calendarQuery:E,addressBookQuery:P,collectionQuery:p,makeCollection:_,calendarMultiGet:A,makeCalendar:R,syncCollection:b,supportedReportSet:C,isCollectionDirty:y,smartCollectionSync:g,fetchCalendars:O,fetchCalendarUserAddresses:x,fetchCalendarObjects:j,createCalendarObject:V,updateCalendarObject:U,deleteCalendarObject:re,syncCalendars:se,fetchAddressBooks:F,addressBookMultiGet:I,fetchVCards:N,createVCard:le,updateVCard:ce,deleteVCard:Re}};class ZP{constructor(e){var n,r,s;this.serverUrl=e.serverUrl,this.credentials=e.credentials,this.authMethod=(n=e.authMethod)!==null&&n!==void 0?n:"Basic",this.accountType=(r=e.defaultAccountType)!==null&&r!==void 0?r:"caldav",this.authFunction=e.authFunction,this.fetchOptions=(s=e.fetchOptions)!==null&&s!==void 0?s:{}}async login(){var e;switch(this.authMethod){case"Basic":this.authHeaders=fh(this.credentials);break;case"Oauth":this.authHeaders=(await hh(this.credentials,this.fetchOptions)).headers;break;case"Digest":this.authHeaders={Authorization:`Digest ${this.credentials.digestString}`};break;case"Custom":this.authHeaders=await((e=this.authFunction)===null||e===void 0?void 0:e.call(this,this.credentials));break;default:throw new Error("Invalid auth method")}this.account=this.accountType?await ho({account:{serverUrl:this.serverUrl,credentials:this.credentials,accountType:this.accountType},headers:this.authHeaders,fetchOptions:this.fetchOptions}):void 0}async davRequest(e){const{init:n,...r}=e,{headers:s,...i}=n;return Or({...r,init:{...i,headers:{...this.authHeaders,...s}},fetchOptions:this.fetchOptions})}async createObject(...e){return fe(Mo,{url:this.serverUrl,headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async updateObject(...e){return fe(Io,{url:this.serverUrl,headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async deleteObject(...e){return fe(Fo,{url:this.serverUrl,headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async propfind(...e){return fe(kn,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async createAccount(e){const{account:n,headers:r,loadCollections:s,loadObjects:i,fetchOptions:o}=e;return ho({account:{serverUrl:this.serverUrl,credentials:this.credentials,...n},headers:{...this.authHeaders,...r},loadCollections:s,loadObjects:i,fetchOptions:o??this.fetchOptions})}async collectionQuery(...e){return fe(Rr,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async makeCollection(...e){return fe(nh,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async syncCollection(...e){return fe(Gl,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async supportedReportSet(...e){return fe(No,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async isCollectionDirty(...e){return fe(ql,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async smartCollectionSync(...e){return fe(Jl,{headers:this.authHeaders,fetchOptions:this.fetchOptions,account:this.account})(e[0])}async calendarQuery(...e){return fe(fo,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async makeCalendar(...e){return fe(ah,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async calendarMultiGet(...e){return fe(Lo,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async fetchCalendars(...e){return fe(Bo,{headers:this.authHeaders,account:this.account,fetchOptions:this.fetchOptions})(e==null?void 0:e[0])}async fetchCalendarUserAddresses(...e){return fe(oh,{headers:this.authHeaders,account:this.account,fetchOptions:this.fetchOptions})(e==null?void 0:e[0])}async fetchCalendarObjects(...e){return fe(ec,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async createCalendarObject(...e){return fe(lh,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async updateCalendarObject(...e){return fe(ch,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async deleteCalendarObject(...e){return fe(uh,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async syncCalendars(...e){return fe(dh,{headers:this.authHeaders,account:this.account,fetchOptions:this.fetchOptions})(e[0])}async addressBookQuery(...e){return fe(uo,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async addressBookMultiGet(...e){return fe(Xl,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async fetchAddressBooks(...e){return fe(Ql,{headers:this.authHeaders,account:this.account,fetchOptions:this.fetchOptions})(e==null?void 0:e[0])}async fetchVCards(...e){return fe(Zl,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async createVCard(...e){return fe(rh,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async updateVCard(...e){return fe(sh,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async deleteVCard(...e){return fe(ih,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}}var eD=Object.freeze({__proto__:null,DAVClient:ZP,createDAVClient:J_});({...eD,...WP,...YP,...XP,...qP,...JP,...QP,...HP});const tD=Er("dav",()=>{const t=Zn(),e=te(t.get("appleCredentials")??{appleId:"",appleAppPassword:""});Te(e,()=>{t.set("appleCredentials",e.value),r()},{deep:!0});const n=te();function r(){e.value.appleId!==""&&e.value.appleAppPassword!==""&&J_({serverUrl:"https://caldav.icloud.com",credentials:{username:e.value.appleId,password:e.value.appleAppPassword},authMethod:"Basic",defaultAccountType:"caldav"}).then(s=>{n.value=s})}return r(),{appleDav:n,appleCredentials:e}}),nD=Er("calendar",()=>{const t=Zn();tD();const e=te(t.get("calendar")??[]),n=te([]);Te(e,i=>{t.set("calendar",i)},{deep:!0});async function r(){n.value=[];const i=[],o=e.value.map(async a=>{try{const l=await fetch(a);if(!l.ok)throw new Error(`HTTP error ${l.status}`);const c=await l.text(),u=SP(void 0,c);u.events&&i.push(...u.events)}catch(l){console.error(`Failed to fetch or parse ICS from ${a}:`,l)}});await Promise.all(o),n.value=i}function s(){return n.value.map(i=>`${i.summary} am ${i.start.date}`).join("; ")}return{calendarIcsUrls:e,events:n,fetchEvents:r,toString:s}}),tc=Er("tasks",()=>{const t=Zn(),{lastUpdated:e}=ri(t),n=Yf(),r=nD(),s=te(t.get("tasks")??[]);Te(s,()=>{t.set("tasks",s.value)},{deep:!0}),Te(e,()=>{s.value=t.get("tasks")??[]});const i=H(()=>o(s.value));function o(_){return[..._,..._.flatMap(b=>o(b.subTasks))]}function a(_){if(!_)return;function b(C){let y;for(const g of C){if(g.id===_){y=g;break}y??(y=b(g.subTasks))}return y}return b(s.value)}function l(_,b){const C={id:s0(),..._,type:"Task",subTasks:_.subTasks||[],createdDate:new Date,parentId:b??void 0};if(b){const y=a(b);y==null||y.subTasks.push(C),d(b,{...y})}else s.value.push(C);return C.id}function c(_,b){return l({title:_,completed:!1,priority:i0.Medium},b)}function u(_){const b=s.value.length;if(s.value=s.value.filter(E=>E.id!==_),s.value.length<b)return!0;const C=a(_);if(C==null)return console.warn("Task not found"),!1;const y=a(C.parentId);if(!y)return!1;const g=y==null?void 0:y.subTasks.filter(E=>E.id!==_);return d(C.parentId,{...y,subTasks:g})}function d(_,b){function C(y){for(const g of y){if(g.id===_)return Object.assign(g,b),!0;if(C(g.subTasks))return!0}return!1}return C(s.value)}function f(_,b=!0){s.value.sort((C,y)=>_==="priority"?b?C.priority-y.priority:y.priority-C.priority:_==="dueDate"?C.dueDate?y.dueDate?b?C.dueDate.getTime()-y.dueDate.getTime():y.dueDate.getTime()-C.dueDate.getTime():b?-1:1:b?1:-1:b?C.createdDate.getTime()-y.createdDate.getTime():y.createdDate.getTime()-C.createdDate.getTime())}async function h(_){const b='Break tasks into up to 5 smaller subtasks. You must ONLY return a valid JSON array of strings. Answer in the language of the user input. Example input: "Clean house". Example output format: ["Clean kitchen", "Mop kitchen", "Mop the dog", "Vacuum living room"]. DO NOT include any other text or explanations. DO NOT use markdown formatting. ONLY RETURN THE JSON ARRAY.',C=`Task Title: ${_==null?void 0:_.title}`,y=te("");try{y.value=await n.run({systemPrompt:b,userPrompt:C}),y.value=y.value.replace(/^\s*[\r\n]/gm,"").replace(/^```json\s*/m,"").replace(/```\s*$/m,"").replace(/^`/gm,"").replace(/^"(\[)/,"$1").replace(/(])[\s`"]*$/,"$1"),console.debug("Generated text:",y.value),JSON.parse(y.value).forEach(E=>{l({title:E,completed:!1,dueDate:_.dueDate,priority:2,parentId:_.id},_.id)})}catch(g){console.error("Generation failed:",g)}}async function m(){const _='Based on calendar events you should create 2-5 tasks that prepare the user for upcoming events. You must ONLY return a valid JSON array of strings. Answer in the language of the user userPrompt. Example userPrompt: "Meeting bzgl Thesis mit Jonas". Example output format: ["Todos ", "Computer laden"]. DO NOT include any other text or explanations. DO NOT use markdown formatting. ONLY RETURN THE JSON ARRAY.',b=r.toString(),C=te("");try{C.value=await n.run({systemPrompt:_,userPrompt:b}),C.value=C.value.replace(/^\s*[\r\n]/gm,"").replace(/^```json\s*/m,"").replace(/```\s*$/m,"").replace(/^`/gm,"").replace(/^"(\[)/,"$1").replace(/(])[\s`"]*$/,"$1"),console.debug("Generated text:",C.value),JSON.parse(C.value).forEach(g=>c(g))}catch(y){console.error("Generation failed:",y)}}function p(){return i.value.map(_=>{var b;return[`Task Title: ${_.title}`,`Due Date: ${_.dueDate??"no deadline"}`,`Parent Task: ${((b=a(_.parentId))==null?void 0:b.title)??"none"}`,`Completed: ${_.completed?"yes":"no"}`].join(`
`)}).join(`

---

`)}return{tasks:s,flatTasks:i,toString:p,add:l,addFromTitle:c,remove:u,update:d,sort:f,llmBreakTaskIntoSubtasks:h,llmGenerateTasksFromCalendar:m}}),rD=Z({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,r=e,s=H(()=>{const{class:o,...a}=n;return a}),i=os(s,r);return(o,a)=>(K(),ee(S(XT),ke({"data-slot":"checkbox"},S(i),{class:S(Xe)("peer border-input data-[state=checked]:bg-primary data-[state=checked]:messages-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n.class)}),{default:W(()=>[q(S(QT),{"data-slot":"checkbox-indicator",class:"flex items-center justify-center messages-current transition-none"},{default:W(()=>[he(o.$slots,"default",{},()=>[q(S(lv),{class:"size-3.5"})])]),_:3})]),_:3},16,["class"]))}}),X_=Z({__name:"Input",props:{defaultValue:{},modelValue:{},class:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=gb(n,"modelValue",e,{passive:!0,defaultValue:n.defaultValue});return(i,o)=>ay((K(),He("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>Me(s)?s.value=a:null),"data-slot":"input",class:dt(S(Xe)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n.class))},null,2)),[[Hy,S(s)]])}}),sD=Z({__name:"Popover",props:{defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const s=os(t,e);return(i,o)=>(K(),ee(S(uk),ke({"data-slot":"popover"},S(s)),{default:W(()=>[he(i.$slots,"default")]),_:3},16))}}),iD=Z({inheritAttrs:!1,__name:"PopoverContent",props:{forceMount:{type:Boolean},side:{},sideOffset:{default:4},align:{default:"center"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,s=H(()=>{const{class:o,...a}=n;return a}),i=os(s,r);return(o,a)=>(K(),ee(S(fk),null,{default:W(()=>[q(S(mk),ke({"data-slot":"popover-content"},{...S(i),...o.$attrs},{class:S(Xe)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 rounded-md border p-4 shadow-md origin-(--reka-popover-content-transform-origin) outline-hidden",n.class)}),{default:W(()=>[he(o.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),oD=Z({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,r)=>(K(),ee(S(dk),ke({"data-slot":"popover-trigger"},e),{default:W(()=>[he(n.$slots,"default")]),_:3},16))}}),aD={class:"flex items-center gap-1"},lD={class:"flex flex-col gap-y-4 mt-4 sm:flex-row sm:gap-x-4 sm:gap-y-0"},cD=Z({__name:"Calendar",props:{modelValue:{},multiple:{type:Boolean},defaultValue:{},defaultPlaceholder:{},placeholder:{},pagedNavigation:{type:Boolean},preventDeselect:{type:Boolean},weekStartsOn:{},weekdayFormat:{},calendarLabel:{},fixedWeeks:{type:Boolean},maxValue:{},minValue:{},locale:{},numberOfMonths:{},disabled:{type:Boolean},readonly:{type:Boolean},initialFocus:{type:Boolean},isDateDisabled:{type:Function},isDateUnavailable:{type:Function},dir:{},nextPage:{type:Function},prevPage:{type:Function},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue","update:placeholder"],setup(t,{emit:e}){const n=t,r=e,s=H(()=>{const{class:o,...a}=n;return a}),i=os(s,r);return(o,a)=>(K(),ee(S(ET),ke({"data-slot":"calendar",class:S(Xe)("p-3",n.class)},S(i)),{default:W(({grid:l,weekDays:c})=>[q(S(gD),null,{default:W(()=>[q(S(yD)),De("div",aD,[q(S(bD)),q(S(vD))])]),_:1}),De("div",lD,[(K(!0),He(tt,null,Vr(l,u=>(K(),ee(S(fD),{key:u.value.toString()},{default:W(()=>[q(S(pD),null,{default:W(()=>[q(S(Sg),null,{default:W(()=>[(K(!0),He(tt,null,Vr(c,d=>(K(),ee(S(mD),{key:d},{default:W(()=>[mt(ot(d),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),q(S(hD),null,{default:W(()=>[(K(!0),He(tt,null,Vr(u.rows,(d,f)=>(K(),ee(S(Sg),{key:`weekDate-${f}`,class:"mt-2 w-full"},{default:W(()=>[(K(!0),He(tt,null,Vr(d,h=>(K(),ee(S(uD),{key:h.toString(),date:h},{default:W(()=>[q(S(dD),{day:h,month:u.value},null,8,["day","month"])]),_:2},1032,["date"]))),128))]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128))])]),_:1},16,["class"]))}}),uD=Z({__name:"CalendarCell",props:{date:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=H(()=>{const{class:s,...i}=e;return i}),r=an(n);return(s,i)=>(K(),ee(S(kT),ke({"data-slot":"calendar-cell",class:S(Xe)("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([data-selected])]:rounded-md [&:has([data-selected])]:bg-accent",e.class)},S(r)),{default:W(()=>[he(s.$slots,"default")]),_:3},16,["class"]))}}),dD=Z({__name:"CalendarCellTrigger",props:{day:{},month:{},asChild:{type:Boolean},as:{default:"button"},class:{}},setup(t){const e=t,n=H(()=>{const{class:s,...i}=e;return i}),r=an(n);return(s,i)=>(K(),ee(S(NT),ke({"data-slot":"calendar-cell-trigger",class:S(Xe)(S(Dl)({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100 cursor-default","[&[data-today]:not([data-selected])]:bg-accent [&[data-today]:not([data-selected])]:text-accent-foreground","data-[selected]:bg-primary data-[selected]:text-primary-foreground data-[selected]:opacity-100 data-[selected]:hover:bg-primary data-[selected]:hover:text-primary-foreground data-[selected]:focus:bg-primary data-[selected]:focus:text-primary-foreground","data-[disabled]:text-muted-foreground data-[disabled]:opacity-50","data-[unavailable]:text-destructive-foreground data-[unavailable]:line-through","data-[outside-view]:text-muted-foreground",e.class)},S(r)),{default:W(()=>[he(s.$slots,"default")]),_:3},16,["class"]))}}),fD=Z({__name:"CalendarGrid",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=H(()=>{const{class:s,...i}=e;return i}),r=an(n);return(s,i)=>(K(),ee(S(TT),ke({"data-slot":"calendar-grid",class:S(Xe)("w-full border-collapse space-x-1",e.class)},S(r)),{default:W(()=>[he(s.$slots,"default")]),_:3},16,["class"]))}}),hD=Z({__name:"CalendarGridBody",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,r)=>(K(),ee(S(DT),ke({"data-slot":"calendar-grid-body"},e),{default:W(()=>[he(n.$slots,"default")]),_:3},16))}}),pD=Z({__name:"CalendarGridHead",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t;return(n,r)=>(K(),ee(S(PT),ke({"data-slot":"calendar-grid-head"},e),{default:W(()=>[he(n.$slots,"default")]),_:3},16))}}),Sg=Z({__name:"CalendarGridRow",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=H(()=>{const{class:s,...i}=e;return i}),r=an(n);return(s,i)=>(K(),ee(S(MT),ke({"data-slot":"calendar-grid-row",class:S(Xe)("flex",e.class)},S(r)),{default:W(()=>[he(s.$slots,"default")]),_:3},16,["class"]))}}),mD=Z({__name:"CalendarHeadCell",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=H(()=>{const{class:s,...i}=e;return i}),r=an(n);return(s,i)=>(K(),ee(S(OT),ke({"data-slot":"calendar-head-cell",class:S(Xe)("text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",e.class)},S(r)),{default:W(()=>[he(s.$slots,"default")]),_:3},16,["class"]))}}),gD=Z({__name:"CalendarHeader",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=H(()=>{const{class:s,...i}=e;return i}),r=an(n);return(s,i)=>(K(),ee(S(ST),ke({"data-slot":"calendar-header",class:S(Xe)("flex justify-center pt-1 relative items-center w-full",e.class)},S(r)),{default:W(()=>[he(s.$slots,"default")]),_:3},16,["class"]))}}),yD=Z({__name:"CalendarHeading",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=H(()=>{const{class:s,...i}=e;return i}),r=an(n);return(s,i)=>(K(),ee(S(AT),ke({"data-slot":"calendar-heading",class:S(Xe)("text-sm font-medium",e.class)},S(r)),{default:W(({headingValue:o})=>[he(s.$slots,"default",{headingValue:o},()=>[mt(ot(o),1)])]),_:3},16,["class"]))}}),vD=Z({__name:"CalendarNextButton",props:{nextPage:{type:Function},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=H(()=>{const{class:s,...i}=e;return i}),r=an(n);return(s,i)=>(K(),ee(S(RT),ke({"data-slot":"calendar-next-button",class:S(Xe)(S(Dl)({variant:"outline"}),"absolute right-1","size-7 bg-transparent p-0 opacity-50 hover:opacity-100",e.class)},S(r)),{default:W(()=>[he(s.$slots,"default",{},()=>[q(S(cv),{class:"size-4"})])]),_:3},16,["class"]))}}),bD=Z({__name:"CalendarPrevButton",props:{prevPage:{type:Function},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=H(()=>{const{class:s,...i}=e;return i}),r=an(n);return(s,i)=>(K(),ee(S($T),ke({"data-slot":"calendar-prev-button",class:S(Xe)(S(Dl)({variant:"outline"}),"absolute left-1","size-7 bg-transparent p-0 opacity-50 hover:opacity-100",e.class)},S(r)),{default:W(()=>[he(s.$slots,"default",{},()=>[q(S(Mx),{class:"size-4"})])]),_:3},16,["class"]))}}),Q_=Z({__name:"Textarea",props:{class:{},defaultValue:{},modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=gb(n,"modelValue",e,{passive:!0,defaultValue:n.defaultValue});return(i,o)=>ay((K(),He("textarea",{"onUpdate:modelValue":o[0]||(o[0]=a=>Me(s)?s.value=a:null),"data-slot":"textarea",class:dt(S(Xe)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n.class))},null,2)),[[Hy,S(s)]])}}),_D={class:"flex items-center py-1 gap-3 group"},wD={class:"hidden md:flex items-center gap-1"},CD={key:0,class:"border-t py-2 space-y-3"},xD={class:"flex flex-wrap items-center justify-between"},ED={class:"flex md:hidden gap-2"},SD={key:0,class:"space-y-2 mt-2"},AD={class:"tasks-list"},TD={class:"flex gap-2"},kD=Z({__name:"Task",props:{task:{}},setup(t){const e=t,{task:n}=Wn(e),r=tc(),s=te(!0),i=te(!1),o=te(""),a=te(!1),l=H(()=>n.value.dueDate&&new Date(n.value.dueDate)<new Date&&!n.value.completed),c=te();Te(c,()=>{c.value!==void 0&&(n.value.dueDate=c.value.toDate("Europe/Berlin"))});const u=H(()=>so(n.value.dueDate,"D. MMMM YYYY")),d=()=>{const p={...n.value,completed:!n.value.completed};r.update(n.value.id,p)},f=()=>{i.value||(i.value=!0,r.llmBreakTaskIntoSubtasks(n.value).finally(()=>{i.value=!1,s.value=!1}))},h=()=>{o.value=n.value.title,a.value=!0},m=()=>{o.value.trim()&&r.update(n.value.id,{...n.value,title:o.value}),a.value=!1};return(p,_)=>{var C;const b=gy("Task",!0);return K(),He("div",null,[De("div",_D,[q(S(rD),{"model-value":S(n).completed,"onUpdate:modelValue":d},null,8,["model-value"]),a.value?(K(),ee(S(Q_),{key:0,modelValue:o.value,"onUpdate:modelValue":_[0]||(_[0]=y=>o.value=y),type:"text",placeholder:"Aufgabe bearbeiten",class:"flex-grow",onKeyup:Ws(m,["enter"]),onBlur:m,autoFocus:""},null,8,["modelValue"])):(K(),He("span",{key:1,class:dt(["flex-grow truncate cursor-pointer",{"line-through text-muted-foreground":S(n).completed,"text-red-500":l.value}]),onDblclick:h},ot(S(n).title),35)),De("div",wD,[q(S(Xt),{variant:"ghost",size:"sm",class:dt(["h-8 w-8",{"animate-pulse":i.value}]),disabled:i.value,onClick:f,title:"Break down task"},{default:W(()=>[q(S(Au),{class:"h-4 w-4"})]),_:1},8,["disabled","class"]),q(S(Xt),{variant:"ghost",size:"sm",class:"h-8 w-8",onClick:_[1]||(_[1]=y=>S(r).remove(S(n).id)),title:"Delete task"},{default:W(()=>[q(S(wp),{class:"h-4 w-4"})]),_:1})]),q(S(Xt),{variant:"ghost",size:"sm",onClick:_[2]||(_[2]=y=>s.value=!s.value),class:"h-8 w-8"},{default:W(()=>[q(S(cv),{class:dt(["h-4 w-4 transition-transform duration-200",{"rotate-90":!s.value}])},null,8,["class"])]),_:1})]),s.value?Yn("",!0):(K(),He("div",CD,[De("div",xD,[De("div",ED,[q(S(Xt),{variant:"ghost",size:"sm",class:dt(["h-8 w-8",{"animate-pulse":i.value}]),disabled:i.value,onClick:f,title:"Break down task"},{default:W(()=>[q(S(Au),{class:"h-4 w-4"})]),_:1},8,["disabled","class"]),q(S(Xt),{variant:"ghost",size:"sm",class:"h-8 w-8",onClick:_[3]||(_[3]=y=>S(r).remove(S(n).id)),title:"Delete task"},{default:W(()=>[q(S(wp),{class:"h-4 w-4"})]),_:1})]),q(S(sD),null,{default:W(()=>[q(S(oD),{"as-child":""},{default:W(()=>[q(S(Xt),{variant:"outline",class:dt(["justify-start text-left font-normal",{"text-red-500":l.value}])},{default:W(()=>[q(S(Dx),{class:"mr-2 h-4 w-4"}),mt(" "+ot(S(n).dueDate?u.value:"Enddatum wählen"),1)]),_:1},8,["class"])]),_:1}),q(S(iD),{class:"w-auto p-0"},{default:W(()=>[q(S(cD),{modelValue:c.value,"onUpdate:modelValue":_[4]||(_[4]=y=>c.value=y),"initial-focus":""},null,8,["modelValue"])]),_:1})]),_:1})]),(C=S(n).subTasks)!=null&&C.length?(K(),He("div",SD,[De("div",AD,[(K(!0),He(tt,null,Vr(S(n).subTasks,y=>(K(),ee(b,{key:y.id,task:y},null,8,["task"]))),128))])])):Yn("",!0),De("div",TD,[q(S(X_),{type:"text",placeholder:"Unteraufgabe hinzufügen",class:"flex-grow",onKeyup:_[5]||(_[5]=Ws(y=>{const g=y.target;g.value.trim()&&(S(r).addFromTitle(g.value,S(n).id),g.value="")},["enter"]))}),q(S(Xt),{variant:"outline",size:"icon",onClick:_[6]||(_[6]=y=>{const g=y.target.previousElementSibling;g.value.trim()&&(S(r).addFromTitle(g.value,S(n).id),g.value="")})},{default:W(()=>[q(S(lv),{class:"h-4 w-4"})]),_:1})])]))])}}}),Z_=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},OD=Z_(kD,[["__scopeId","data-v-f64c5550"]]),ph=Z({__name:"Card",props:{class:{}},setup(t){const e=t;return(n,r)=>(K(),He("div",{"data-slot":"card",class:dt(S(Xe)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e.class))},[he(n.$slots,"default")],2))}}),mh=Z({__name:"CardContent",props:{class:{}},setup(t){const e=t;return(n,r)=>(K(),He("div",{"data-slot":"card-content",class:dt(S(Xe)("px-6",e.class))},[he(n.$slots,"default")],2))}}),ew=Z({__name:"CardDescription",props:{class:{}},setup(t){const e=t;return(n,r)=>(K(),He("p",{"data-slot":"card-description",class:dt(S(Xe)("text-muted-foreground text-sm",e.class))},[he(n.$slots,"default")],2))}}),tw=Z({__name:"CardFooter",props:{class:{}},setup(t){const e=t;return(n,r)=>(K(),He("div",{"data-slot":"card-footer",class:dt(S(Xe)("flex items-center px-6 [.border-t]:pt-6",e.class))},[he(n.$slots,"default")],2))}}),gh=Z({__name:"CardHeader",props:{class:{}},setup(t){const e=t;return(n,r)=>(K(),He("div",{"data-slot":"card-header",class:dt(S(Xe)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e.class))},[he(n.$slots,"default")],2))}}),yh=Z({__name:"CardTitle",props:{class:{}},setup(t){const e=t;return(n,r)=>(K(),He("h3",{"data-slot":"card-title",class:dt(S(Xe)("leading-none font-semibold",e.class))},[he(n.$slots,"default")],2))}}),RD={class:"flex justify-between items-center"},$D={class:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full"},PD={class:"flex justify-start items-center"},DD={class:"tasks-list"},MD={class:"text-xs"},ID=Z({__name:"Tasks",setup(t){const e=tc(),n=H(()=>e.tasks),r=H(()=>e.flatTasks.length);te(!1);const s=Zn(),{lastUpdated:i}=ri(s),o=H(()=>so(i,"D. MMMM YYYY, HH:mm"));return(a,l)=>(K(),ee(S(ph),{class:"shadow-md rounded-xl"},{default:W(()=>[q(S(gh),{class:"pb-2"},{default:W(()=>[De("div",RD,[q(S(yh),{class:"font-semibold text-lg"},{default:W(()=>l[1]||(l[1]=[mt("Aufgaben")])),_:1}),De("span",$D,ot(r.value),1)]),De("div",PD,[q(S(Xt),{variant:"outline"},{default:W(()=>[q(S(Vx))]),_:1})])]),_:1}),q(S(mh),{class:"overflow-y-auto px-3"},{default:W(()=>[De("div",null,[De("div",DD,[(K(!0),He(tt,null,Vr(n.value,c=>(K(),ee(OD,{key:c.id,task:c},null,8,["task"]))),128))]),q(S(X_),{type:"text",placeholder:"Füge eine neue Aufgabe hinzu",onKeyup:l[0]||(l[0]=Ws(c=>{S(e).addFromTitle(c.target.value),c.target.value=""},["enter"])),class:"mt-4"})])]),_:1}),q(S(tw),null,{default:W(()=>[De("span",MD," Zuletzt aktualisiert am "+ot(o.value),1)]),_:1})]),_:1}))}}),FD=Z_(ID,[["__scopeId","data-v-a376d5ec"]]),ND={class:"flex flex-wrap gap-2"},LD={key:0,class:"flex justify-center items-center py-8"},BD={key:1,class:"whitespace-pre-line text-base leading-relaxed"},UD=["innerHTML"],jD=Z({__name:"Summary",setup(t){const e=Yf(),n=hb(),r=tc(),{flatTasks:s}=ri(r),i=te(""),o=te(!1),a=so(new Date,"dddd, D. MMMM YYYY"),l=H(()=>{const h=new Date().getHours();return h>=5&&h<11?"morning":h>=11&&h<13?"lunch":h>=13&&h<18?"afternoon":h>=18&&h<23?"evening":"night"}),c=H(()=>`FORMATIERUNG:
- Du antwortest in einfachem Text, kein Markdown erlaubt, keine Sternchen, keine Überschriften
- Du verwendest gelegentlich Emojis, aber sparsam und geschmackvoll
- Du sprichst mich immer direkt an, als ob wir ein Gespräch führen
- Du antwortest IMMER auf Deutsch und mischst gelegentlich ein oder zwei französische Phrasen ein
- Du unterschreibst mit "- Jean-Philippe" und gelegentlich einer kurzen französischen Phrase
- Du hast die Gabe, genau zu wissen, wann du genug gesagt hast und hältst dich stets angenehm kurz

CURRENT MODE: ${l.value.toUpperCase()}
`),u=H(()=>{const h=`Es ist ${a.value} und das Wetter ist ${n.weather.temperature}°C in ${n.weather.location}.`,m=s.value.length>0?`Meine aktuellen Aufgaben: ${r.toString()}`:"Ich habe momentan keine Aufgaben geplant.";switch(l.value){case"morning":return`Bonjour! ${h}

Als mein vertrauter persönlicher Assistent seit 3 Jahren, bitte überprüfe meinen bevorstehenden Tag mit deiner charakteristischen französischen Effizienz. Ich brauche:
1. Eine kurze, personalisierte Morgengrußformel, die Bezug auf das Wetter oder meinen Zeitplan nimmt
2. Deine Top-3-Prioritätsempfehlungen (sei sehr spezifisch darüber, was zuerst Aufmerksamkeit benötigt)
3. Weise auf Terminüberschneidungen oder Zeitmanagementprobleme hin, die dir auffallen
4. Einen praktischen Vorschlag zur Verbesserung meiner Produktivität heute

${m}`;case"lunch":return`Bon midi! ${h}

Es ist Mittagszeit, und ich könnte deine kulinarische Expertise gebrauchen. Bitte:
1. Schlage ein anspruchsvolles, aber praktisches Mittagsrezept vor, das dich beeindrucken würde
2. Füge deinen kulturellen Kommentar hinzu, warum dieses Gericht für heute angemessen ist
3. Ergänze eine kurze Notiz zu meinem Nachmittagsplan

${m}`;case"afternoon":return`Bon après-midi! ${h}

Es ist Nachmittag – Zeit für eine kleine Stärkung oder eine kreative Pause. Bitte:
1. Empfiehl mir einen raffinierten, aber unkomplizierten Snack oder ein Getränk, das am Nachmittag typisch ist und deinem französischen Geschmack entspricht
2. Teile einen charmanten kulturellen Einblick oder eine französische Tradition, warum dieser Snack oder dieses Getränk am Nachmittag besonders geschätzt wird
3. Gib mir eine inspirierende, aber diskrete Notiz, die meinen Nachmittag mit Esprit und Effizienz begleitet
4. Zeige mir bitte zwei bis drei praxiserprobte Tipps aus deiner Erfahrung, wie ich meine heutigen ToDos nach Priorität ordnen und souverän erledigen kann

${m}`;case"evening":return`Bonsoir! ${h}

Der Arbeitstag neigt sich dem Ende zu. Bitte teile mit:
1. Entweder einen einfachen Rezeptvorschlag für das morgige Mittagessen oder eine Filmempfehlung, die meinem Geschmack entspricht
2. Eine kurze Reflexion über die heutigen Erfolge
3. Eine Sache, auf die ich mich für morgen vorbereiten sollte

${m}`;case"night":return`Bonne nuit! ${h}

Bevor ich mich für den Abend zurückziehe, bitte stelle bereit:
1. Einen kurzen Überblick über den morgigen Zeitplan
2. Eine Sache, die ich heute Abend nicht vergessen sollte vorzubereiten
3. Eine geistreiche französische Beobachtung über Erholung oder Produktivität

${m}`}}),d=Zn(),f=async(h=!1)=>{o.value=!0;const m=12*60*60*1e3,p=d.get("assistant-summary");if(console.log(p),!h&&p&&new Date(p.date).getTime()+m>Date.now()){i.value=p.summary,o.value=!1;return}try{i.value=await e.run({systemPrompt:c.value,userPrompt:u.value}),d.set("assistant-summary",{summary:i.value,date:new Date().toISOString()})}catch(_){console.error("Failed to generate summary:",_),i.value="Failed to generate summary. Please try again."}finally{o.value=!1}};return ns(()=>{f()}),(h,m)=>(K(),ee(S(ph),{class:"shadow-md rounded-xl"},{default:W(()=>[q(S(gh),null,{default:W(()=>[q(S(yh),{class:"flex items-center gap-2"},{default:W(()=>[q(S(Ix)),m[1]||(m[1]=mt(" Une Note von Jean-Philippe "))]),_:1}),q(S(ew),{class:"flex items-center justify-between flex-wrap gap-2 sm:gap-4 w-full md:w-auto"},{default:W(()=>[De("div",ND,[q(S(Qa),{variant:"outline"},{default:W(()=>[mt(ot(S(a)),1)]),_:1}),q(S(Qa),{variant:"secondary"},{default:W(()=>[mt(ot(S(n).weather.temperature)+"°C in "+ot(S(n).weather.location),1)]),_:1})])]),_:1})]),_:1}),q(S(mh),null,{default:W(()=>[o.value?(K(),He("div",LD,m[2]||(m[2]=[De("span",{class:"loader"},null,-1),De("span",{class:"font-medium"},"Jean-Philippe denkt...",-1)]))):i.value?(K(),He("div",BD,[De("div",{class:"prose dark:prose-invert max-w-none",innerHTML:i.value},null,8,UD)])):Yn("",!0)]),_:1}),q(S(tw),null,{default:W(()=>[q(S(Xt),{onClick:m[0]||(m[0]=()=>f(!0)),variant:"outline",size:"sm"},{default:W(()=>[q(S(Nx))]),_:1})]),_:1})]),_:1}))}}),VD={class:"flex items-center gap-2"},HD={key:0,class:"text-xs text-destructive ml-2"},zD=["innerHTML"],WD='Z.B.: "Ich habe Brokkoli und Reis, bitte ein einfaches, vegetarisches Rezept."',KD="Du bist ein persönlicher Kochassistent. Du schlägst gesunde, ausgewogene Rezepte vor, die auf die Wünsche und Zutaten des Nutzers eingehen. Antworte freundlich und klar. Gebe Antworten nur für Koch- und Rezepte-bezogene Themen. Dein Ausgabeformat ist nur HTML, KEIN MARKDOWN, das heißt, du kannst z.B. strong, ol, ul verwenden!",YD=Z({__name:"CookingSuggestion",setup(t){const e=Yf(),n=te(""),r=te(""),s=te(!1),i=te(null),o=async()=>{i.value=null,n.value="",s.value=!0;try{n.value=await e.run({userPrompt:r.value,systemPrompt:KD})}catch{i.value="Fehler beim Laden der Rezepte. Bitte versuche es erneut."}finally{s.value=!1}};return(a,l)=>(K(),ee(S(ph),null,{default:W(()=>[q(S(gh),{class:"pb-2"},{default:W(()=>[q(S(yh),{class:"font-semibold text-lg sm:text-xl"},{default:W(()=>l[1]||(l[1]=[mt("Rezept-Assistent")])),_:1}),q(S(ew),{class:"text-sm sm:text-base"},{default:W(()=>l[2]||(l[2]=[mt("Lass dir gesunde, leckere Rezepte vorschlagen – individuell auf deine Wünsche! ")])),_:1})]),_:1}),q(S(mh),{class:"p-6 flex flex-col gap-4"},{default:W(()=>[l[3]||(l[3]=De("label",{for:"recipe-prompt",class:"text-xs font-medium text-muted-foreground mb-1"}," Was möchtest du heute kochen? (Zutaten, Wünsche, Diät...) ",-1)),q(S(Q_),{id:"recipe-prompt",modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=c=>r.value=c),placeholder:WD,class:"resize-none min-h-[80px] focus:ring-primary",disabled:s.value},null,8,["modelValue","disabled"]),De("div",VD,[q(S(Xt),{onClick:o,disabled:s.value||!r.value.trim(),class:"gap-2"},{default:W(()=>[q(S(Au),{class:"w-4 h-4"}),mt(" "+ot(s.value?"Lädt...":"Rezepte vorschlagen"),1)]),_:1},8,["disabled"]),i.value?(K(),He("span",HD,ot(i.value),1)):Yn("",!0)]),n.value?(K(),He("div",{key:0,class:"mt-4 bg-muted/30 rounded p-4 text-sm whitespace-pre-line",innerHTML:n.value},null,8,zD)):Yn("",!0)]),_:1})]),_:1}))}}),qD={class:"container mx-auto"},GD={class:"flex flex-col-reverse lg:flex-row gap-4"},JD=Z({__name:"HomeView",setup(t){const e=tc();return H(()=>e.flatTasks.length),(n,r)=>(K(),He("div",qD,[De("div",GD,[q(jD,{class:"lg:w-2/5"}),q(FD,{class:"lg:w-3/5"})]),q(S(qu),{orientation:"horizontal",class:"my-8 opacity-70"}),De("section",null,[q(YD)])]))}}),XD=Tx({history:rx("/coach/"),routes:[{path:"/",name:"home",component:JD},{path:"/settings",name:"settings",component:()=>wO(()=>import("./SettingsView-CtdooZ6f.js"),[])}]}),vh=y1(vO);vh.use(_1());vh.use(XD);vh.mount("#app");export{ja as A,Xt as B,lv as C,Yn as D,Qa as E,ot as F,tt as G,Vr as H,tw as I,ZD as J,Ye as P,Lx as S,ph as _,ee as a,S as b,Mt as c,Z as d,yb as e,Yf as f,hb as g,mO as h,te as i,He as j,De as k,q as l,ke as m,gh as n,K as o,yh as p,mt as q,he as r,ri as s,ew as t,Tn as u,mh as v,W as w,X_ as x,qu as y,Q_ as z};
