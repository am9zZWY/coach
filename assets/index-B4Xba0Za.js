var hh=t=>{throw TypeError(t)};var W_=(t,e,n)=>e.has(t)||hh("Cannot "+n);var go=(t,e,n)=>(W_(t,e,"read from private field"),n?n.call(t):e.get(t)),cs=(t,e,n)=>e.has(t)?hh("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n);function K_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function bf(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Ve={},Os=[],_n=()=>{},Y_=()=>!1,sl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),_f=t=>t.startsWith("onUpdate:"),_t=Object.assign,wf=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},q_=Object.prototype.hasOwnProperty,Ne=(t,e)=>q_.call(t,e),be=Array.isArray,Rs=t=>ol(t)==="[object Map]",vg=t=>ol(t)==="[object Set]",_e=t=>typeof t=="function",Ge=t=>typeof t=="string",Jn=t=>typeof t=="symbol",Ke=t=>t!==null&&typeof t=="object",bg=t=>(Ke(t)||_e(t))&&_e(t.then)&&_e(t.catch),_g=Object.prototype.toString,ol=t=>_g.call(t),G_=t=>ol(t).slice(8,-1),wg=t=>ol(t)==="[object Object]",Cf=t=>Ge(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Do=bf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),il=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},J_=/-(\w)/g,Pt=il(t=>t.replace(J_,(e,n)=>n?n.toUpperCase():"")),X_=/\B([A-Z])/g,_r=il(t=>t.replace(X_,"-$1").toLowerCase()),al=il(t=>t.charAt(0).toUpperCase()+t.slice(1)),la=il(t=>t?`on${al(t)}`:""),hr=(t,e)=>!Object.is(t,e),ca=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Cg=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},ou=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let ph;const ll=()=>ph||(ph=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Zs(t){if(be(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=Ge(r)?tw(r):Zs(r);if(s)for(const o in s)e[o]=s[o]}return e}else if(Ge(t)||Ke(t))return t}const Q_=/;(?![^(]*\))/g,Z_=/:([^]+)/,ew=/\/\*[^]*?\*\//g;function tw(t){const e={};return t.replace(ew,"").split(Q_).forEach(n=>{if(n){const r=n.split(Z_);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ct(t){let e="";if(Ge(t))e=t;else if(be(t))for(let n=0;n<t.length;n++){const r=ct(t[n]);r&&(e+=r+" ")}else if(Ke(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function eo(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Ge(e)&&(t.class=ct(e)),n&&(t.style=Zs(n)),t}const nw="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",rw=bf(nw);function xg(t){return!!t||t===""}const Eg=t=>!!(t&&t.__v_isRef===!0),ft=t=>Ge(t)?t:t==null?"":be(t)||Ke(t)&&(t.toString===_g||!_e(t.toString))?Eg(t)?ft(t.value):JSON.stringify(t,Sg,2):String(t),Sg=(t,e)=>Eg(e)?Sg(t,e.value):Rs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],o)=>(n[Zl(r,o)+" =>"]=s,n),{})}:vg(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Zl(n))}:Jn(e)?Zl(e):Ke(e)&&!be(e)&&!wg(e)?String(e):e,Zl=(t,e="")=>{var n;return Jn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Et;class Ag{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Et,!e&&Et&&(this.index=(Et.scopes||(Et.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Et;try{return Et=this,e()}finally{Et=n}}}on(){Et=this}off(){Et=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function cl(t){return new Ag(t)}function di(){return Et}function ul(t,e=!1){Et&&Et.cleanups.push(t)}let We;const ec=new WeakSet;class Tg{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Et&&Et.active&&Et.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ec.has(this)&&(ec.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Og(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,mh(this),Rg(this);const e=We,n=Qt;We=this,Qt=!0;try{return this.fn()}finally{$g(this),We=e,Qt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Sf(e);this.deps=this.depsTail=void 0,mh(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ec.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){iu(this)&&this.run()}get dirty(){return iu(this)}}let kg=0,Mo,Io;function Og(t,e=!1){if(t.flags|=8,e){t.next=Io,Io=t;return}t.next=Mo,Mo=t}function xf(){kg++}function Ef(){if(--kg>0)return;if(Io){let e=Io;for(Io=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Mo;){let e=Mo;for(Mo=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Rg(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function $g(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),Sf(r),sw(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function iu(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Pg(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Pg(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Yo))return;t.globalVersion=Yo;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!iu(t)){t.flags&=-3;return}const n=We,r=Qt;We=t,Qt=!0;try{Rg(t);const s=t.fn(t._value);(e.version===0||hr(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{We=n,Qt=r,$g(t),t.flags&=-3}}function Sf(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)Sf(o,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function sw(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Qt=!0;const Dg=[];function wr(){Dg.push(Qt),Qt=!1}function Cr(){const t=Dg.pop();Qt=t===void 0?!0:t}function mh(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=We;We=void 0;try{e()}finally{We=n}}}let Yo=0;class ow{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Af{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!We||!Qt||We===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==We)n=this.activeLink=new ow(We,this),We.deps?(n.prevDep=We.depsTail,We.depsTail.nextDep=n,We.depsTail=n):We.deps=We.depsTail=n,Mg(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=We.depsTail,n.nextDep=void 0,We.depsTail.nextDep=n,We.depsTail=n,We.deps===n&&(We.deps=r)}return n}trigger(e){this.version++,Yo++,this.notify(e)}notify(e){xf();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ef()}}}function Mg(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Mg(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Ra=new WeakMap,Hr=Symbol(""),au=Symbol(""),qo=Symbol("");function vt(t,e,n){if(Qt&&We){let r=Ra.get(t);r||Ra.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new Af),s.map=r,s.key=n),s.track()}}function Bn(t,e,n,r,s,o){const i=Ra.get(t);if(!i){Yo++;return}const a=l=>{l&&l.trigger()};if(xf(),e==="clear")i.forEach(a);else{const l=be(t),c=l&&Cf(n);if(l&&n==="length"){const u=Number(r);i.forEach((f,d)=>{(d==="length"||d===qo||!Jn(d)&&d>=u)&&a(f)})}else switch((n!==void 0||i.has(void 0))&&a(i.get(n)),c&&a(i.get(qo)),e){case"add":l?c&&a(i.get("length")):(a(i.get(Hr)),Rs(t)&&a(i.get(au)));break;case"delete":l||(a(i.get(Hr)),Rs(t)&&a(i.get(au)));break;case"set":Rs(t)&&a(i.get(Hr));break}}Ef()}function iw(t,e){const n=Ra.get(t);return n&&n.get(e)}function us(t){const e=$e(t);return e===t?e:(vt(e,"iterate",qo),Yt(t)?e:e.map(bt))}function fl(t){return vt(t=$e(t),"iterate",qo),t}const aw={__proto__:null,[Symbol.iterator](){return tc(this,Symbol.iterator,bt)},concat(...t){return us(this).concat(...t.map(e=>be(e)?us(e):e))},entries(){return tc(this,"entries",t=>(t[1]=bt(t[1]),t))},every(t,e){return $n(this,"every",t,e,void 0,arguments)},filter(t,e){return $n(this,"filter",t,e,n=>n.map(bt),arguments)},find(t,e){return $n(this,"find",t,e,bt,arguments)},findIndex(t,e){return $n(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return $n(this,"findLast",t,e,bt,arguments)},findLastIndex(t,e){return $n(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return $n(this,"forEach",t,e,void 0,arguments)},includes(...t){return nc(this,"includes",t)},indexOf(...t){return nc(this,"indexOf",t)},join(t){return us(this).join(t)},lastIndexOf(...t){return nc(this,"lastIndexOf",t)},map(t,e){return $n(this,"map",t,e,void 0,arguments)},pop(){return yo(this,"pop")},push(...t){return yo(this,"push",t)},reduce(t,...e){return gh(this,"reduce",t,e)},reduceRight(t,...e){return gh(this,"reduceRight",t,e)},shift(){return yo(this,"shift")},some(t,e){return $n(this,"some",t,e,void 0,arguments)},splice(...t){return yo(this,"splice",t)},toReversed(){return us(this).toReversed()},toSorted(t){return us(this).toSorted(t)},toSpliced(...t){return us(this).toSpliced(...t)},unshift(...t){return yo(this,"unshift",t)},values(){return tc(this,"values",bt)}};function tc(t,e,n){const r=fl(t),s=r[e]();return r!==t&&!Yt(t)&&(s._next=s.next,s.next=()=>{const o=s._next();return o.value&&(o.value=n(o.value)),o}),s}const lw=Array.prototype;function $n(t,e,n,r,s,o){const i=fl(t),a=i!==t&&!Yt(t),l=i[e];if(l!==lw[e]){const f=l.apply(t,o);return a?bt(f):f}let c=n;i!==t&&(a?c=function(f,d){return n.call(this,bt(f),d,t)}:n.length>2&&(c=function(f,d){return n.call(this,f,d,t)}));const u=l.call(i,c,r);return a&&s?s(u):u}function gh(t,e,n,r){const s=fl(t);let o=n;return s!==t&&(Yt(t)?n.length>3&&(o=function(i,a,l){return n.call(this,i,a,l,t)}):o=function(i,a,l){return n.call(this,i,bt(a),l,t)}),s[e](o,...r)}function nc(t,e,n){const r=$e(t);vt(r,"iterate",qo);const s=r[e](...n);return(s===-1||s===!1)&&Tf(n[0])?(n[0]=$e(n[0]),r[e](...n)):s}function yo(t,e,n=[]){wr(),xf();const r=$e(t)[e].apply(t,n);return Ef(),Cr(),r}const cw=bf("__proto__,__v_isRef,__isVue"),Ig=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Jn));function uw(t){Jn(t)||(t=String(t));const e=$e(this);return vt(e,"has",t),e.hasOwnProperty(t)}class Fg{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(s?o?Vg:jg:o?Ug:Bg).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const i=be(e);if(!s){let l;if(i&&(l=aw[n]))return l;if(n==="hasOwnProperty")return uw}const a=Reflect.get(e,n,De(e)?e:r);return(Jn(n)?Ig.has(n):cw(n))||(s||vt(e,"get",n),o)?a:De(a)?i&&Cf(n)?a:a.value:Ke(a)?s?hl(a):en(a):a}}class Ng extends Fg{constructor(e=!1){super(!1,e)}set(e,n,r,s){let o=e[n];if(!this._isShallow){const l=Kr(o);if(!Yt(r)&&!Kr(r)&&(o=$e(o),r=$e(r)),!be(e)&&De(o)&&!De(r))return l?!1:(o.value=r,!0)}const i=be(e)&&Cf(n)?Number(n)<e.length:Ne(e,n),a=Reflect.set(e,n,r,De(e)?e:s);return e===$e(s)&&(i?hr(r,o)&&Bn(e,"set",n,r):Bn(e,"add",n,r)),a}deleteProperty(e,n){const r=Ne(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&Bn(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!Jn(n)||!Ig.has(n))&&vt(e,"has",n),r}ownKeys(e){return vt(e,"iterate",be(e)?"length":Hr),Reflect.ownKeys(e)}}class Lg extends Fg{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const fw=new Ng,dw=new Lg,hw=new Ng(!0),pw=new Lg(!0),lu=t=>t,Fi=t=>Reflect.getPrototypeOf(t);function mw(t,e,n){return function(...r){const s=this.__v_raw,o=$e(s),i=Rs(o),a=t==="entries"||t===Symbol.iterator&&i,l=t==="keys"&&i,c=s[t](...r),u=n?lu:e?cu:bt;return!e&&vt(o,"iterate",l?au:Hr),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function Ni(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function gw(t,e){const n={get(s){const o=this.__v_raw,i=$e(o),a=$e(s);t||(hr(s,a)&&vt(i,"get",s),vt(i,"get",a));const{has:l}=Fi(i),c=e?lu:t?cu:bt;if(l.call(i,s))return c(o.get(s));if(l.call(i,a))return c(o.get(a));o!==i&&o.get(s)},get size(){const s=this.__v_raw;return!t&&vt($e(s),"iterate",Hr),Reflect.get(s,"size",s)},has(s){const o=this.__v_raw,i=$e(o),a=$e(s);return t||(hr(s,a)&&vt(i,"has",s),vt(i,"has",a)),s===a?o.has(s):o.has(s)||o.has(a)},forEach(s,o){const i=this,a=i.__v_raw,l=$e(a),c=e?lu:t?cu:bt;return!t&&vt(l,"iterate",Hr),a.forEach((u,f)=>s.call(o,c(u),c(f),i))}};return _t(n,t?{add:Ni("add"),set:Ni("set"),delete:Ni("delete"),clear:Ni("clear")}:{add(s){!e&&!Yt(s)&&!Kr(s)&&(s=$e(s));const o=$e(this);return Fi(o).has.call(o,s)||(o.add(s),Bn(o,"add",s,s)),this},set(s,o){!e&&!Yt(o)&&!Kr(o)&&(o=$e(o));const i=$e(this),{has:a,get:l}=Fi(i);let c=a.call(i,s);c||(s=$e(s),c=a.call(i,s));const u=l.call(i,s);return i.set(s,o),c?hr(o,u)&&Bn(i,"set",s,o):Bn(i,"add",s,o),this},delete(s){const o=$e(this),{has:i,get:a}=Fi(o);let l=i.call(o,s);l||(s=$e(s),l=i.call(o,s)),a&&a.call(o,s);const c=o.delete(s);return l&&Bn(o,"delete",s,void 0),c},clear(){const s=$e(this),o=s.size!==0,i=s.clear();return o&&Bn(s,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=mw(s,t,e)}),n}function dl(t,e){const n=gw(t,e);return(r,s,o)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Ne(n,s)&&s in r?n:r,s,o)}const yw={get:dl(!1,!1)},vw={get:dl(!1,!0)},bw={get:dl(!0,!1)},_w={get:dl(!0,!0)},Bg=new WeakMap,Ug=new WeakMap,jg=new WeakMap,Vg=new WeakMap;function ww(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Cw(t){return t.__v_skip||!Object.isExtensible(t)?0:ww(G_(t))}function en(t){return Kr(t)?t:pl(t,!1,fw,yw,Bg)}function Hg(t){return pl(t,!1,hw,vw,Ug)}function hl(t){return pl(t,!0,dw,bw,jg)}function Ir(t){return pl(t,!0,pw,_w,Vg)}function pl(t,e,n,r,s){if(!Ke(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=s.get(t);if(o)return o;const i=Cw(t);if(i===0)return t;const a=new Proxy(t,i===2?r:n);return s.set(t,a),a}function zn(t){return Kr(t)?zn(t.__v_raw):!!(t&&t.__v_isReactive)}function Kr(t){return!!(t&&t.__v_isReadonly)}function Yt(t){return!!(t&&t.__v_isShallow)}function Tf(t){return t?!!t.__v_raw:!1}function $e(t){const e=t&&t.__v_raw;return e?$e(e):t}function ml(t){return!Ne(t,"__v_skip")&&Object.isExtensible(t)&&Cg(t,"__v_skip",!0),t}const bt=t=>Ke(t)?en(t):t,cu=t=>Ke(t)?hl(t):t;function De(t){return t?t.__v_isRef===!0:!1}function te(t){return zg(t,!1)}function Qr(t){return zg(t,!0)}function zg(t,e){return De(t)?t:new xw(t,e)}class xw{constructor(e,n){this.dep=new Af,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:$e(e),this._value=n?e:bt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Yt(e)||Kr(e);e=r?e:$e(e),hr(e,n)&&(this._rawValue=e,this._value=r?e:bt(e),this.dep.trigger())}}function E(t){return De(t)?t.value:t}function et(t){return _e(t)?t():E(t)}const Ew={get:(t,e,n)=>e==="__v_raw"?t:E(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return De(s)&&!De(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function Wg(t){return zn(t)?t:new Proxy(t,Ew)}function Wn(t){const e=be(t)?new Array(t.length):{};for(const n in t)e[n]=Yg(t,n);return e}class Sw{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return iw($e(this._object),this._key)}}class Aw{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Kg(t,e,n){return De(t)?t:_e(t)?new Aw(t):Ke(t)&&arguments.length>1?Yg(t,e,n):te(t)}function Yg(t,e,n){const r=t[e];return De(r)?r:new Sw(t,e,n)}class Tw{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Af(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Yo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&We!==this)return Og(this,!0),!0}get value(){const e=this.dep.track();return Pg(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function kw(t,e,n=!1){let r,s;return _e(t)?r=t:(r=t.get,s=t.set),new Tw(r,s,n)}const Li={},$a=new WeakMap;let Fr;function Ow(t,e=!1,n=Fr){if(n){let r=$a.get(n);r||$a.set(n,r=[]),r.push(t)}}function Rw(t,e,n=Ve){const{immediate:r,deep:s,once:o,scheduler:i,augmentJob:a,call:l}=n,c=g=>s?g:Yt(g)||s===!1||s===0?Un(g,1):Un(g);let u,f,d,h,m=!1,p=!1;if(De(t)?(f=()=>t.value,m=Yt(t)):zn(t)?(f=()=>c(t),m=!0):be(t)?(p=!0,m=t.some(g=>zn(g)||Yt(g)),f=()=>t.map(g=>{if(De(g))return g.value;if(zn(g))return c(g);if(_e(g))return l?l(g,2):g()})):_e(t)?e?f=l?()=>l(t,2):t:f=()=>{if(d){wr();try{d()}finally{Cr()}}const g=Fr;Fr=u;try{return l?l(t,3,[h]):t(h)}finally{Fr=g}}:f=_n,e&&s){const g=f,S=s===!0?1/0:s;f=()=>Un(g(),S)}const C=di(),b=()=>{u.stop(),C&&C.active&&wf(C.effects,u)};if(o&&e){const g=e;e=(...S)=>{g(...S),b()}}let _=p?new Array(t.length).fill(Li):Li;const y=g=>{if(!(!(u.flags&1)||!u.dirty&&!g))if(e){const S=u.run();if(s||m||(p?S.some((A,R)=>hr(A,_[R])):hr(S,_))){d&&d();const A=Fr;Fr=u;try{const R=[S,_===Li?void 0:p&&_[0]===Li?[]:_,h];l?l(e,3,R):e(...R),_=S}finally{Fr=A}}}else u.run()};return a&&a(y),u=new Tg(f),u.scheduler=i?()=>i(y,!1):y,h=g=>Ow(g,!1,u),d=u.onStop=()=>{const g=$a.get(u);if(g){if(l)l(g,4);else for(const S of g)S();$a.delete(u)}},e?r?y(!0):_=u.run():i?i(y.bind(null,!0),!0):u.run(),b.pause=u.pause.bind(u),b.resume=u.resume.bind(u),b.stop=b,b}function Un(t,e=1/0,n){if(e<=0||!Ke(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,De(t))Un(t.value,e,n);else if(be(t))for(let r=0;r<t.length;r++)Un(t[r],e,n);else if(vg(t)||Rs(t))t.forEach(r=>{Un(r,e,n)});else if(wg(t)){for(const r in t)Un(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Un(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function hi(t,e,n,r){try{return r?t(...r):t()}catch(s){gl(s,e,n)}}function xn(t,e,n,r){if(_e(t)){const s=hi(t,e,n,r);return s&&bg(s)&&s.catch(o=>{gl(o,e,n)}),s}if(be(t)){const s=[];for(let o=0;o<t.length;o++)s.push(xn(t[o],e,n,r));return s}}function gl(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:i}=e&&e.appContext.config||Ve;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,l,c)===!1)return}a=a.parent}if(o){wr(),hi(o,null,10,[t,l,c]),Cr();return}}$w(t,n,s,r,i)}function $w(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const At=[];let dn=-1;const $s=[];let ar=null,_s=0;const qg=Promise.resolve();let Pa=null;function Dt(t){const e=Pa||qg;return t?e.then(this?t.bind(this):t):e}function Pw(t){let e=dn+1,n=At.length;for(;e<n;){const r=e+n>>>1,s=At[r],o=Go(s);o<t||o===t&&s.flags&2?e=r+1:n=r}return e}function kf(t){if(!(t.flags&1)){const e=Go(t),n=At[At.length-1];!n||!(t.flags&2)&&e>=Go(n)?At.push(t):At.splice(Pw(e),0,t),t.flags|=1,Gg()}}function Gg(){Pa||(Pa=qg.then(Xg))}function Dw(t){be(t)?$s.push(...t):ar&&t.id===-1?ar.splice(_s+1,0,t):t.flags&1||($s.push(t),t.flags|=1),Gg()}function yh(t,e,n=dn+1){for(;n<At.length;n++){const r=At[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;At.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Jg(t){if($s.length){const e=[...new Set($s)].sort((n,r)=>Go(n)-Go(r));if($s.length=0,ar){ar.push(...e);return}for(ar=e,_s=0;_s<ar.length;_s++){const n=ar[_s];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}ar=null,_s=0}}const Go=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Xg(t){try{for(dn=0;dn<At.length;dn++){const e=At[dn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),hi(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;dn<At.length;dn++){const e=At[dn];e&&(e.flags&=-2)}dn=-1,At.length=0,Jg(),Pa=null,(At.length||$s.length)&&Xg()}}let it=null,Qg=null;function Da(t){const e=it;return it=t,Qg=t&&t.type.__scopeId||null,e}function W(t,e=it,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&Rh(-1);const o=Da(e);let i;try{i=t(...s)}finally{Da(o),r._d&&Rh(1)}return i};return r._n=!0,r._c=!0,r._d=!0,r}function Zg(t,e){if(it===null)return t;const n=wl(it),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[o,i,a,l=Ve]=e[s];o&&(_e(o)&&(o={mounted:o,updated:o}),o.deep&&Un(i),r.push({dir:o,instance:n,value:i,oldValue:void 0,arg:a,modifiers:l}))}return t}function Or(t,e,n,r){const s=t.dirs,o=e&&e.dirs;for(let i=0;i<s.length;i++){const a=s[i];o&&(a.oldValue=o[i].value);let l=a.dir[r];l&&(wr(),xn(l,n,8,[t.el,a,t,e]),Cr())}}const ey=Symbol("_vte"),Mw=t=>t.__isTeleport,Fo=t=>t&&(t.disabled||t.disabled===""),vh=t=>t&&(t.defer||t.defer===""),bh=t=>typeof SVGElement<"u"&&t instanceof SVGElement,_h=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,uu=(t,e)=>{const n=t&&t.to;return Ge(n)?e?e(n):null:n},ty={name:"Teleport",__isTeleport:!0,process(t,e,n,r,s,o,i,a,l,c){const{mc:u,pc:f,pbc:d,o:{insert:h,querySelector:m,createText:p,createComment:C}}=c,b=Fo(e.props);let{shapeFlag:_,children:y,dynamicChildren:g}=e;if(t==null){const S=e.el=p(""),A=e.anchor=p("");h(S,n,r),h(A,n,r);const R=(x,j)=>{_&16&&(s&&s.isCE&&(s.ce._teleportTarget=x),u(y,x,j,s,o,i,a,l))},O=()=>{const x=e.target=uu(e.props,m),j=ny(x,e,p,h);x&&(i!=="svg"&&bh(x)?i="svg":i!=="mathml"&&_h(x)&&(i="mathml"),b||(R(x,j),ua(e,!1)))};b&&(R(n,A),ua(e,!0)),vh(e.props)?xt(()=>{O(),e.el.__isMounted=!0},o):O()}else{if(vh(e.props)&&!t.el.__isMounted){xt(()=>{ty.process(t,e,n,r,s,o,i,a,l,c),delete t.el.__isMounted},o);return}e.el=t.el,e.targetStart=t.targetStart;const S=e.anchor=t.anchor,A=e.target=t.target,R=e.targetAnchor=t.targetAnchor,O=Fo(t.props),x=O?n:A,j=O?S:R;if(i==="svg"||bh(A)?i="svg":(i==="mathml"||_h(A))&&(i="mathml"),g?(d(t.dynamicChildren,g,x,s,o,i,a),$f(t,e,!0)):l||f(t,e,x,j,s,o,i,a,!1),b)O?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Bi(e,n,S,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const V=e.target=uu(e.props,m);V&&Bi(e,V,null,c,0)}else O&&Bi(e,A,R,c,1);ua(e,b)}},remove(t,e,n,{um:r,o:{remove:s}},o){const{shapeFlag:i,children:a,anchor:l,targetStart:c,targetAnchor:u,target:f,props:d}=t;if(f&&(s(c),s(u)),o&&s(l),i&16){const h=o||!Fo(d);for(let m=0;m<a.length;m++){const p=a[m];r(p,e,n,h,!!p.dynamicChildren)}}},move:Bi,hydrate:Iw};function Bi(t,e,n,{o:{insert:r},m:s},o=2){o===0&&r(t.targetAnchor,e,n);const{el:i,anchor:a,shapeFlag:l,children:c,props:u}=t,f=o===2;if(f&&r(i,e,n),(!f||Fo(u))&&l&16)for(let d=0;d<c.length;d++)s(c[d],e,n,2);f&&r(a,e,n)}function Iw(t,e,n,r,s,o,{o:{nextSibling:i,parentNode:a,querySelector:l,insert:c,createText:u}},f){const d=e.target=uu(e.props,l);if(d){const h=Fo(e.props),m=d._lpa||d.firstChild;if(e.shapeFlag&16)if(h)e.anchor=f(i(t),e,a(t),n,r,s,o),e.targetStart=m,e.targetAnchor=m&&i(m);else{e.anchor=i(t);let p=m;for(;p;){if(p&&p.nodeType===8){if(p.data==="teleport start anchor")e.targetStart=p;else if(p.data==="teleport anchor"){e.targetAnchor=p,d._lpa=e.targetAnchor&&i(e.targetAnchor);break}}p=i(p)}e.targetAnchor||ny(d,e,u,c),f(m&&i(m),e,d,n,r,s,o)}ua(e,h)}return e.anchor&&i(e.anchor)}const Fw=ty;function ua(t,e){const n=t.ctx;if(n&&n.ut){let r,s;for(e?(r=t.el,s=t.anchor):(r=t.targetStart,s=t.targetAnchor);r&&r!==s;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function ny(t,e,n,r){const s=e.targetStart=n(""),o=e.targetAnchor=n("");return s[ey]=o,t&&(r(s,t),r(o,t)),o}function Of(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Of(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Z(t,e){return _e(t)?_t({name:t.name},e,{setup:t}):t}function wh(){const t=Qn();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function ry(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Ma(t,e,n,r,s=!1){if(be(t)){t.forEach((m,p)=>Ma(m,e&&(be(e)?e[p]:e),n,r,s));return}if(Ps(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Ma(t,e,n,r.component.subTree);return}const o=r.shapeFlag&4?wl(r.component):r.el,i=s?null:o,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Ve?a.refs={}:a.refs,f=a.setupState,d=$e(f),h=f===Ve?()=>!1:m=>Ne(d,m);if(c!=null&&c!==l&&(Ge(c)?(u[c]=null,h(c)&&(f[c]=null)):De(c)&&(c.value=null)),_e(l))hi(l,a,12,[i,u]);else{const m=Ge(l),p=De(l);if(m||p){const C=()=>{if(t.f){const b=m?h(l)?f[l]:u[l]:l.value;s?be(b)&&wf(b,o):be(b)?b.includes(o)||b.push(o):m?(u[l]=[o],h(l)&&(f[l]=u[l])):(l.value=[o],t.k&&(u[t.k]=l.value))}else m?(u[l]=i,h(l)&&(f[l]=i)):p&&(l.value=i,t.k&&(u[t.k]=i))};i?(C.id=-1,xt(C,n)):C()}}}ll().requestIdleCallback;ll().cancelIdleCallback;const Ps=t=>!!t.type.__asyncLoader,sy=t=>t.type.__isKeepAlive;function Nw(t,e){oy(t,"a",e)}function Lw(t,e){oy(t,"da",e)}function oy(t,e,n=ut){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(yl(e,r,n),n){let s=n.parent;for(;s&&s.parent;)sy(s.parent.vnode)&&Bw(r,e,n,s),s=s.parent}}function Bw(t,e,n,r){const s=yl(e,t,r,!0);to(()=>{wf(r[e],s)},n)}function yl(t,e,n=ut,r=!1){if(n){const s=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...i)=>{wr();const a=pi(n),l=xn(e,n,t,i);return a(),Cr(),l});return r?s.unshift(o):s.push(o),o}}const Xn=t=>(e,n=ut)=>{(!Qo||t==="sp")&&yl(t,(...r)=>e(...r),n)},Uw=Xn("bm"),Zr=Xn("m"),jw=Xn("bu"),Vw=Xn("u"),iy=Xn("bum"),to=Xn("um"),Hw=Xn("sp"),zw=Xn("rtg"),Ww=Xn("rtc");function Kw(t,e=ut){yl("ec",t,e)}const ay="components";function ly(t,e){return fy(ay,t,!0,e)||t}const cy=Symbol.for("v-ndc");function uy(t){return Ge(t)?fy(ay,t,!1)||t:t||cy}function fy(t,e,n=!0,r=!1){const s=it||ut;if(s){const o=s.type;{const a=PC(o,!1);if(a&&(a===e||a===Pt(e)||a===al(Pt(e))))return o}const i=Ch(s[t]||o[t],e)||Ch(s.appContext[t],e);return!i&&r?o:i}}function Ch(t,e){return t&&(t[e]||t[Pt(e)]||t[al(Pt(e))])}function Ur(t,e,n,r){let s;const o=n,i=be(t);if(i||Ge(t)){const a=i&&zn(t);let l=!1;a&&(l=!Yt(t),t=fl(t)),s=new Array(t.length);for(let c=0,u=t.length;c<u;c++)s[c]=e(l?bt(t[c]):t[c],c,void 0,o)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,o)}else if(Ke(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,o));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];s[l]=e(t[u],u,l,o)}}else s=[];return s}function he(t,e,n={},r,s){if(it.ce||it.parent&&Ps(it.parent)&&it.parent.ce)return K(),ee(tt,null,[q("slot",n,r&&r())],64);let o=t[e];o&&o._c&&(o._d=!1),K();const i=o&&dy(o(n)),a=n.key||i&&i.key,l=ee(tt,{key:(a&&!Jn(a)?a:`_${e}`)+(!i&&r?"_fb":"")},i||(r?r():[]),i&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function dy(t){return t.some(e=>Xo(e)?!(e.type===Kn||e.type===tt&&!dy(e.children)):!0)?t:null}const fu=t=>t?Py(t)?wl(t):fu(t.parent):null,No=_t(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>fu(t.parent),$root:t=>fu(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>py(t),$forceUpdate:t=>t.f||(t.f=()=>{kf(t.update)}),$nextTick:t=>t.n||(t.n=Dt.bind(t.proxy)),$watch:t=>mC.bind(t)}),rc=(t,e)=>t!==Ve&&!t.__isScriptSetup&&Ne(t,e),Yw={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:o,accessCache:i,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const h=i[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return o[e]}else{if(rc(r,e))return i[e]=1,r[e];if(s!==Ve&&Ne(s,e))return i[e]=2,s[e];if((c=t.propsOptions[0])&&Ne(c,e))return i[e]=3,o[e];if(n!==Ve&&Ne(n,e))return i[e]=4,n[e];hu&&(i[e]=0)}}const u=No[e];let f,d;if(u)return e==="$attrs"&&vt(t.attrs,"get",""),u(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==Ve&&Ne(n,e))return i[e]=4,n[e];if(d=l.config.globalProperties,Ne(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:o}=t;return rc(s,e)?(s[e]=n,!0):r!==Ve&&Ne(r,e)?(r[e]=n,!0):Ne(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:o}},i){let a;return!!n[i]||t!==Ve&&Ne(t,i)||rc(e,i)||(a=o[0])&&Ne(a,i)||Ne(r,i)||Ne(No,i)||Ne(s.config.globalProperties,i)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ne(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function du(t){return be(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function qw(t,e){const n=du(t);for(const r in e){if(r.startsWith("__skip"))continue;let s=n[r];s?be(s)||_e(s)?s=n[r]={type:s,default:e[r]}:s.default=e[r]:s===null&&(s=n[r]={default:e[r]}),s&&e[`__skip_${r}`]&&(s.skipFactory=!0)}return n}let hu=!0;function Gw(t){const e=py(t),n=t.proxy,r=t.ctx;hu=!1,e.beforeCreate&&xh(e.beforeCreate,t,"bc");const{data:s,computed:o,methods:i,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:d,beforeUpdate:h,updated:m,activated:p,deactivated:C,beforeDestroy:b,beforeUnmount:_,destroyed:y,unmounted:g,render:S,renderTracked:A,renderTriggered:R,errorCaptured:O,serverPrefetch:x,expose:j,inheritAttrs:V,components:U,directives:re,filters:se}=e;if(c&&Jw(c,r,null),i)for(const F in i){const N=i[F];_e(N)&&(r[F]=N.bind(n))}if(s){const F=s.call(n,n);Ke(F)&&(t.data=en(F))}if(hu=!0,o)for(const F in o){const N=o[F],le=_e(N)?N.bind(n,n):_e(N.get)?N.get.bind(n,n):_n,ce=!_e(N)&&_e(N.set)?N.set.bind(n):_n,Oe=z({get:le,set:ce});Object.defineProperty(r,F,{enumerable:!0,configurable:!0,get:()=>Oe.value,set:Se=>Oe.value=Se})}if(a)for(const F in a)hy(a[F],r,n,F);if(l){const F=_e(l)?l.call(n):l;Reflect.ownKeys(F).forEach(N=>{Ds(N,F[N])})}u&&xh(u,t,"c");function I(F,N){be(N)?N.forEach(le=>F(le.bind(n))):N&&F(N.bind(n))}if(I(Uw,f),I(Zr,d),I(jw,h),I(Vw,m),I(Nw,p),I(Lw,C),I(Kw,O),I(Ww,A),I(zw,R),I(iy,_),I(to,g),I(Hw,x),be(j))if(j.length){const F=t.exposed||(t.exposed={});j.forEach(N=>{Object.defineProperty(F,N,{get:()=>n[N],set:le=>n[N]=le})})}else t.exposed||(t.exposed={});S&&t.render===_n&&(t.render=S),V!=null&&(t.inheritAttrs=V),U&&(t.components=U),re&&(t.directives=re),x&&ry(t)}function Jw(t,e,n=_n){be(t)&&(t=pu(t));for(const r in t){const s=t[r];let o;Ke(s)?"default"in s?o=jt(s.from||r,s.default,!0):o=jt(s.from||r):o=jt(s),De(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):e[r]=o}}function xh(t,e,n){xn(be(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function hy(t,e,n,r){let s=r.includes(".")?Ty(n,r):()=>n[r];if(Ge(t)){const o=e[t];_e(o)&&Pe(s,o)}else if(_e(t))Pe(s,t.bind(n));else if(Ke(t))if(be(t))t.forEach(o=>hy(o,e,n,r));else{const o=_e(t.handler)?t.handler.bind(n):e[t.handler];_e(o)&&Pe(s,o,t)}}function py(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:o,config:{optionMergeStrategies:i}}=t.appContext,a=o.get(e);let l;return a?l=a:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(c=>Ia(l,c,i,!0)),Ia(l,e,i)),Ke(e)&&o.set(e,l),l}function Ia(t,e,n,r=!1){const{mixins:s,extends:o}=e;o&&Ia(t,o,n,!0),s&&s.forEach(i=>Ia(t,i,n,!0));for(const i in e)if(!(r&&i==="expose")){const a=Xw[i]||n&&n[i];t[i]=a?a(t[i],e[i]):e[i]}return t}const Xw={data:Eh,props:Sh,emits:Sh,methods:xo,computed:xo,beforeCreate:Ct,created:Ct,beforeMount:Ct,mounted:Ct,beforeUpdate:Ct,updated:Ct,beforeDestroy:Ct,beforeUnmount:Ct,destroyed:Ct,unmounted:Ct,activated:Ct,deactivated:Ct,errorCaptured:Ct,serverPrefetch:Ct,components:xo,directives:xo,watch:Zw,provide:Eh,inject:Qw};function Eh(t,e){return e?t?function(){return _t(_e(t)?t.call(this,this):t,_e(e)?e.call(this,this):e)}:e:t}function Qw(t,e){return xo(pu(t),pu(e))}function pu(t){if(be(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ct(t,e){return t?[...new Set([].concat(t,e))]:e}function xo(t,e){return t?_t(Object.create(null),t,e):e}function Sh(t,e){return t?be(t)&&be(e)?[...new Set([...t,...e])]:_t(Object.create(null),du(t),du(e??{})):e}function Zw(t,e){if(!t)return e;if(!e)return t;const n=_t(Object.create(null),t);for(const r in e)n[r]=Ct(t[r],e[r]);return n}function my(){return{app:null,config:{isNativeTag:Y_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let eC=0;function tC(t,e){return function(r,s=null){_e(r)||(r=_t({},r)),s!=null&&!Ke(s)&&(s=null);const o=my(),i=new WeakSet,a=[];let l=!1;const c=o.app={_uid:eC++,_component:r,_props:s,_container:null,_context:o,_instance:null,version:MC,get config(){return o.config},set config(u){},use(u,...f){return i.has(u)||(u&&_e(u.install)?(i.add(u),u.install(c,...f)):_e(u)&&(i.add(u),u(c,...f))),c},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),c},component(u,f){return f?(o.components[u]=f,c):o.components[u]},directive(u,f){return f?(o.directives[u]=f,c):o.directives[u]},mount(u,f,d){if(!l){const h=c._ceVNode||q(r,s);return h.appContext=o,d===!0?d="svg":d===!1&&(d=void 0),t(h,u,d),l=!0,c._container=u,u.__vue_app__=c,wl(h.component)}},onUnmount(u){a.push(u)},unmount(){l&&(xn(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,f){return o.provides[u]=f,c},runWithContext(u){const f=zr;zr=c;try{return u()}finally{zr=f}}};return c}}let zr=null;function Ds(t,e){if(ut){let n=ut.provides;const r=ut.parent&&ut.parent.provides;r===n&&(n=ut.provides=Object.create(r)),n[t]=e}}function jt(t,e,n=!1){const r=ut||it;if(r||zr){const s=zr?zr._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&_e(e)?e.call(r&&r.proxy):e}}function nC(){return!!(ut||it||zr)}const gy={},yy=()=>Object.create(gy),vy=t=>Object.getPrototypeOf(t)===gy;function rC(t,e,n,r=!1){const s={},o=yy();t.propsDefaults=Object.create(null),by(t,e,s,o);for(const i in t.propsOptions[0])i in s||(s[i]=void 0);n?t.props=r?s:Hg(s):t.type.props?t.props=s:t.props=o,t.attrs=o}function sC(t,e,n,r){const{props:s,attrs:o,vnode:{patchFlag:i}}=t,a=$e(s),[l]=t.propsOptions;let c=!1;if((r||i>0)&&!(i&16)){if(i&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(bl(t.emitsOptions,d))continue;const h=e[d];if(l)if(Ne(o,d))h!==o[d]&&(o[d]=h,c=!0);else{const m=Pt(d);s[m]=mu(l,a,m,h,t,!1)}else h!==o[d]&&(o[d]=h,c=!0)}}}else{by(t,e,s,o)&&(c=!0);let u;for(const f in a)(!e||!Ne(e,f)&&((u=_r(f))===f||!Ne(e,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(s[f]=mu(l,a,f,void 0,t,!0)):delete s[f]);if(o!==a)for(const f in o)(!e||!Ne(e,f))&&(delete o[f],c=!0)}c&&Bn(t.attrs,"set","")}function by(t,e,n,r){const[s,o]=t.propsOptions;let i=!1,a;if(e)for(let l in e){if(Do(l))continue;const c=e[l];let u;s&&Ne(s,u=Pt(l))?!o||!o.includes(u)?n[u]=c:(a||(a={}))[u]=c:bl(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,i=!0)}if(o){const l=$e(n),c=a||Ve;for(let u=0;u<o.length;u++){const f=o[u];n[f]=mu(s,l,f,c[f],t,!Ne(c,f))}}return i}function mu(t,e,n,r,s,o){const i=t[n];if(i!=null){const a=Ne(i,"default");if(a&&r===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&_e(l)){const{propsDefaults:c}=s;if(n in c)r=c[n];else{const u=pi(s);r=c[n]=l.call(null,e),u()}}else r=l;s.ce&&s.ce._setProp(n,r)}i[0]&&(o&&!a?r=!1:i[1]&&(r===""||r===_r(n))&&(r=!0))}return r}const oC=new WeakMap;function _y(t,e,n=!1){const r=n?oC:e.propsCache,s=r.get(t);if(s)return s;const o=t.props,i={},a=[];let l=!1;if(!_e(t)){const u=f=>{l=!0;const[d,h]=_y(f,e,!0);_t(i,d),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!o&&!l)return Ke(t)&&r.set(t,Os),Os;if(be(o))for(let u=0;u<o.length;u++){const f=Pt(o[u]);Ah(f)&&(i[f]=Ve)}else if(o)for(const u in o){const f=Pt(u);if(Ah(f)){const d=o[u],h=i[f]=be(d)||_e(d)?{type:d}:_t({},d),m=h.type;let p=!1,C=!0;if(be(m))for(let b=0;b<m.length;++b){const _=m[b],y=_e(_)&&_.name;if(y==="Boolean"){p=!0;break}else y==="String"&&(C=!1)}else p=_e(m)&&m.name==="Boolean";h[0]=p,h[1]=C,(p||Ne(h,"default"))&&a.push(f)}}const c=[i,a];return Ke(t)&&r.set(t,c),c}function Ah(t){return t[0]!=="$"&&!Do(t)}const wy=t=>t[0]==="_"||t==="$stable",Rf=t=>be(t)?t.map(gn):[gn(t)],iC=(t,e,n)=>{if(e._n)return e;const r=W((...s)=>Rf(e(...s)),n);return r._c=!1,r},Cy=(t,e,n)=>{const r=t._ctx;for(const s in t){if(wy(s))continue;const o=t[s];if(_e(o))e[s]=iC(s,o,r);else if(o!=null){const i=Rf(o);e[s]=()=>i}}},xy=(t,e)=>{const n=Rf(e);t.slots.default=()=>n},Ey=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},aC=(t,e,n)=>{const r=t.slots=yy();if(t.vnode.shapeFlag&32){const s=e._;s?(Ey(r,e,n),n&&Cg(r,"_",s,!0)):Cy(e,r)}else e&&xy(t,e)},lC=(t,e,n)=>{const{vnode:r,slots:s}=t;let o=!0,i=Ve;if(r.shapeFlag&32){const a=e._;a?n&&a===1?o=!1:Ey(s,e,n):(o=!e.$stable,Cy(e,s)),i=e}else e&&(xy(t,e),i={default:1});if(o)for(const a in s)!wy(a)&&i[a]==null&&delete s[a]},xt=CC;function cC(t){return uC(t)}function uC(t,e){const n=ll();n.__VUE__=!0;const{insert:r,remove:s,patchProp:o,createElement:i,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:d,setScopeId:h=_n,insertStaticContent:m}=t,p=(T,k,M,L=null,H=null,B=null,J=void 0,Q=null,X=!!k.dynamicChildren)=>{if(T===k)return;T&&!vo(T,k)&&(L=w(T),Se(T,H,B,!0),T=null),k.patchFlag===-2&&(X=!1,k.dynamicChildren=null);const{type:Y,ref:pe,shapeFlag:ne}=k;switch(Y){case _l:C(T,k,M,L);break;case Kn:b(T,k,M,L);break;case oc:T==null&&_(k,M,L,J);break;case tt:U(T,k,M,L,H,B,J,Q,X);break;default:ne&1?S(T,k,M,L,H,B,J,Q,X):ne&6?re(T,k,M,L,H,B,J,Q,X):(ne&64||ne&128)&&Y.process(T,k,M,L,H,B,J,Q,X,$)}pe!=null&&H&&Ma(pe,T&&T.ref,B,k||T,!k)},C=(T,k,M,L)=>{if(T==null)r(k.el=a(k.children),M,L);else{const H=k.el=T.el;k.children!==T.children&&c(H,k.children)}},b=(T,k,M,L)=>{T==null?r(k.el=l(k.children||""),M,L):k.el=T.el},_=(T,k,M,L)=>{[T.el,T.anchor]=m(T.children,k,M,L,T.el,T.anchor)},y=({el:T,anchor:k},M,L)=>{let H;for(;T&&T!==k;)H=d(T),r(T,M,L),T=H;r(k,M,L)},g=({el:T,anchor:k})=>{let M;for(;T&&T!==k;)M=d(T),s(T),T=M;s(k)},S=(T,k,M,L,H,B,J,Q,X)=>{k.type==="svg"?J="svg":k.type==="math"&&(J="mathml"),T==null?A(k,M,L,H,B,J,Q,X):x(T,k,H,B,J,Q,X)},A=(T,k,M,L,H,B,J,Q)=>{let X,Y;const{props:pe,shapeFlag:ne,transition:me,dirs:we}=T;if(X=T.el=i(T.type,B,pe&&pe.is,pe),ne&8?u(X,T.children):ne&16&&O(T.children,X,null,L,H,sc(T,B),J,Q),we&&Or(T,null,L,"created"),R(X,T,T.scopeId,J,L),pe){for(const ze in pe)ze!=="value"&&!Do(ze)&&o(X,ze,null,pe[ze],B,L);"value"in pe&&o(X,"value",null,pe.value,B),(Y=pe.onVnodeBeforeMount)&&un(Y,L,T)}we&&Or(T,null,L,"beforeMount");const Re=fC(H,me);Re&&me.beforeEnter(X),r(X,k,M),((Y=pe&&pe.onVnodeMounted)||Re||we)&&xt(()=>{Y&&un(Y,L,T),Re&&me.enter(X),we&&Or(T,null,L,"mounted")},H)},R=(T,k,M,L,H)=>{if(M&&h(T,M),L)for(let B=0;B<L.length;B++)h(T,L[B]);if(H){let B=H.subTree;if(k===B||Oy(B.type)&&(B.ssContent===k||B.ssFallback===k)){const J=H.vnode;R(T,J,J.scopeId,J.slotScopeIds,H.parent)}}},O=(T,k,M,L,H,B,J,Q,X=0)=>{for(let Y=X;Y<T.length;Y++){const pe=T[Y]=Q?lr(T[Y]):gn(T[Y]);p(null,pe,k,M,L,H,B,J,Q)}},x=(T,k,M,L,H,B,J)=>{const Q=k.el=T.el;let{patchFlag:X,dynamicChildren:Y,dirs:pe}=k;X|=T.patchFlag&16;const ne=T.props||Ve,me=k.props||Ve;let we;if(M&&Rr(M,!1),(we=me.onVnodeBeforeUpdate)&&un(we,M,k,T),pe&&Or(k,T,M,"beforeUpdate"),M&&Rr(M,!0),(ne.innerHTML&&me.innerHTML==null||ne.textContent&&me.textContent==null)&&u(Q,""),Y?j(T.dynamicChildren,Y,Q,M,L,sc(k,H),B):J||N(T,k,Q,null,M,L,sc(k,H),B,!1),X>0){if(X&16)V(Q,ne,me,M,H);else if(X&2&&ne.class!==me.class&&o(Q,"class",null,me.class,H),X&4&&o(Q,"style",ne.style,me.style,H),X&8){const Re=k.dynamicProps;for(let ze=0;ze<Re.length;ze++){const Le=Re[ze],Mt=ne[Le],kt=me[Le];(kt!==Mt||Le==="value")&&o(Q,Le,Mt,kt,H,M)}}X&1&&T.children!==k.children&&u(Q,k.children)}else!J&&Y==null&&V(Q,ne,me,M,H);((we=me.onVnodeUpdated)||pe)&&xt(()=>{we&&un(we,M,k,T),pe&&Or(k,T,M,"updated")},L)},j=(T,k,M,L,H,B,J)=>{for(let Q=0;Q<k.length;Q++){const X=T[Q],Y=k[Q],pe=X.el&&(X.type===tt||!vo(X,Y)||X.shapeFlag&70)?f(X.el):M;p(X,Y,pe,null,L,H,B,J,!0)}},V=(T,k,M,L,H)=>{if(k!==M){if(k!==Ve)for(const B in k)!Do(B)&&!(B in M)&&o(T,B,k[B],null,H,L);for(const B in M){if(Do(B))continue;const J=M[B],Q=k[B];J!==Q&&B!=="value"&&o(T,B,Q,J,H,L)}"value"in M&&o(T,"value",k.value,M.value,H)}},U=(T,k,M,L,H,B,J,Q,X)=>{const Y=k.el=T?T.el:a(""),pe=k.anchor=T?T.anchor:a("");let{patchFlag:ne,dynamicChildren:me,slotScopeIds:we}=k;we&&(Q=Q?Q.concat(we):we),T==null?(r(Y,M,L),r(pe,M,L),O(k.children||[],M,pe,H,B,J,Q,X)):ne>0&&ne&64&&me&&T.dynamicChildren?(j(T.dynamicChildren,me,M,H,B,J,Q),(k.key!=null||H&&k===H.subTree)&&$f(T,k,!0)):N(T,k,M,pe,H,B,J,Q,X)},re=(T,k,M,L,H,B,J,Q,X)=>{k.slotScopeIds=Q,T==null?k.shapeFlag&512?H.ctx.activate(k,M,L,J,X):se(k,M,L,H,B,J,X):P(T,k,X)},se=(T,k,M,L,H,B,J)=>{const Q=T.component=TC(T,L,H);if(sy(T)&&(Q.ctx.renderer=$),kC(Q,!1,J),Q.asyncDep){if(H&&H.registerDep(Q,I,J),!T.el){const X=Q.subTree=q(Kn);b(null,X,k,M)}}else I(Q,T,k,M,H,B,J)},P=(T,k,M)=>{const L=k.component=T.component;if(_C(T,k,M))if(L.asyncDep&&!L.asyncResolved){F(L,k,M);return}else L.next=k,L.update();else k.el=T.el,L.vnode=k},I=(T,k,M,L,H,B,J)=>{const Q=()=>{if(T.isMounted){let{next:ne,bu:me,u:we,parent:Re,vnode:ze}=T;{const ln=Sy(T);if(ln){ne&&(ne.el=ze.el,F(T,ne,J)),ln.asyncDep.then(()=>{T.isUnmounted||Q()});return}}let Le=ne,Mt;Rr(T,!1),ne?(ne.el=ze.el,F(T,ne,J)):ne=ze,me&&ca(me),(Mt=ne.props&&ne.props.onVnodeBeforeUpdate)&&un(Mt,Re,ne,ze),Rr(T,!0);const kt=kh(T),an=T.subTree;T.subTree=kt,p(an,kt,f(an.el),w(an),T,H,B),ne.el=kt.el,Le===null&&wC(T,kt.el),we&&xt(we,H),(Mt=ne.props&&ne.props.onVnodeUpdated)&&xt(()=>un(Mt,Re,ne,ze),H)}else{let ne;const{el:me,props:we}=k,{bm:Re,m:ze,parent:Le,root:Mt,type:kt}=T,an=Ps(k);Rr(T,!1),Re&&ca(Re),!an&&(ne=we&&we.onVnodeBeforeMount)&&un(ne,Le,k),Rr(T,!0);{Mt.ce&&Mt.ce._injectChildStyle(kt);const ln=T.subTree=kh(T);p(null,ln,M,L,T,H,B),k.el=ln.el}if(ze&&xt(ze,H),!an&&(ne=we&&we.onVnodeMounted)){const ln=k;xt(()=>un(ne,Le,ln),H)}(k.shapeFlag&256||Le&&Ps(Le.vnode)&&Le.vnode.shapeFlag&256)&&T.a&&xt(T.a,H),T.isMounted=!0,k=M=L=null}};T.scope.on();const X=T.effect=new Tg(Q);T.scope.off();const Y=T.update=X.run.bind(X),pe=T.job=X.runIfDirty.bind(X);pe.i=T,pe.id=T.uid,X.scheduler=()=>kf(pe),Rr(T,!0),Y()},F=(T,k,M)=>{k.component=T;const L=T.vnode.props;T.vnode=k,T.next=null,sC(T,k.props,L,M),lC(T,k.children,M),wr(),yh(T),Cr()},N=(T,k,M,L,H,B,J,Q,X=!1)=>{const Y=T&&T.children,pe=T?T.shapeFlag:0,ne=k.children,{patchFlag:me,shapeFlag:we}=k;if(me>0){if(me&128){ce(Y,ne,M,L,H,B,J,Q,X);return}else if(me&256){le(Y,ne,M,L,H,B,J,Q,X);return}}we&8?(pe&16&&je(Y,H,B),ne!==Y&&u(M,ne)):pe&16?we&16?ce(Y,ne,M,L,H,B,J,Q,X):je(Y,H,B,!0):(pe&8&&u(M,""),we&16&&O(ne,M,L,H,B,J,Q,X))},le=(T,k,M,L,H,B,J,Q,X)=>{T=T||Os,k=k||Os;const Y=T.length,pe=k.length,ne=Math.min(Y,pe);let me;for(me=0;me<ne;me++){const we=k[me]=X?lr(k[me]):gn(k[me]);p(T[me],we,M,null,H,B,J,Q,X)}Y>pe?je(T,H,B,!0,!1,ne):O(k,M,L,H,B,J,Q,X,ne)},ce=(T,k,M,L,H,B,J,Q,X)=>{let Y=0;const pe=k.length;let ne=T.length-1,me=pe-1;for(;Y<=ne&&Y<=me;){const we=T[Y],Re=k[Y]=X?lr(k[Y]):gn(k[Y]);if(vo(we,Re))p(we,Re,M,null,H,B,J,Q,X);else break;Y++}for(;Y<=ne&&Y<=me;){const we=T[ne],Re=k[me]=X?lr(k[me]):gn(k[me]);if(vo(we,Re))p(we,Re,M,null,H,B,J,Q,X);else break;ne--,me--}if(Y>ne){if(Y<=me){const we=me+1,Re=we<pe?k[we].el:L;for(;Y<=me;)p(null,k[Y]=X?lr(k[Y]):gn(k[Y]),M,Re,H,B,J,Q,X),Y++}}else if(Y>me)for(;Y<=ne;)Se(T[Y],H,B,!0),Y++;else{const we=Y,Re=Y,ze=new Map;for(Y=Re;Y<=me;Y++){const It=k[Y]=X?lr(k[Y]):gn(k[Y]);It.key!=null&&ze.set(It.key,Y)}let Le,Mt=0;const kt=me-Re+1;let an=!1,ln=0;const mo=new Array(kt);for(Y=0;Y<kt;Y++)mo[Y]=0;for(Y=we;Y<=ne;Y++){const It=T[Y];if(Mt>=kt){Se(It,H,B,!0);continue}let cn;if(It.key!=null)cn=ze.get(It.key);else for(Le=Re;Le<=me;Le++)if(mo[Le-Re]===0&&vo(It,k[Le])){cn=Le;break}cn===void 0?Se(It,H,B,!0):(mo[cn-Re]=Y+1,cn>=ln?ln=cn:an=!0,p(It,k[cn],M,null,H,B,J,Q,X),Mt++)}const fh=an?dC(mo):Os;for(Le=fh.length-1,Y=kt-1;Y>=0;Y--){const It=Re+Y,cn=k[It],dh=It+1<pe?k[It+1].el:L;mo[Y]===0?p(null,cn,M,dh,H,B,J,Q,X):an&&(Le<0||Y!==fh[Le]?Oe(cn,M,dh,2):Le--)}}},Oe=(T,k,M,L,H=null)=>{const{el:B,type:J,transition:Q,children:X,shapeFlag:Y}=T;if(Y&6){Oe(T.component.subTree,k,M,L);return}if(Y&128){T.suspense.move(k,M,L);return}if(Y&64){J.move(T,k,M,$);return}if(J===tt){r(B,k,M);for(let ne=0;ne<X.length;ne++)Oe(X[ne],k,M,L);r(T.anchor,k,M);return}if(J===oc){y(T,k,M);return}if(L!==2&&Y&1&&Q)if(L===0)Q.beforeEnter(B),r(B,k,M),xt(()=>Q.enter(B),H);else{const{leave:ne,delayLeave:me,afterLeave:we}=Q,Re=()=>r(B,k,M),ze=()=>{ne(B,()=>{Re(),we&&we()})};me?me(B,Re,ze):ze()}else r(B,k,M)},Se=(T,k,M,L=!1,H=!1)=>{const{type:B,props:J,ref:Q,children:X,dynamicChildren:Y,shapeFlag:pe,patchFlag:ne,dirs:me,cacheIndex:we}=T;if(ne===-2&&(H=!1),Q!=null&&Ma(Q,null,M,T,!0),we!=null&&(k.renderCache[we]=void 0),pe&256){k.ctx.deactivate(T);return}const Re=pe&1&&me,ze=!Ps(T);let Le;if(ze&&(Le=J&&J.onVnodeBeforeUnmount)&&un(Le,k,T),pe&6)Ie(T.component,M,L);else{if(pe&128){T.suspense.unmount(M,L);return}Re&&Or(T,null,k,"beforeUnmount"),pe&64?T.type.remove(T,k,M,$,L):Y&&!Y.hasOnce&&(B!==tt||ne>0&&ne&64)?je(Y,k,M,!1,!0):(B===tt&&ne&384||!H&&pe&16)&&je(X,k,M),L&&Ae(T)}(ze&&(Le=J&&J.onVnodeUnmounted)||Re)&&xt(()=>{Le&&un(Le,k,T),Re&&Or(T,null,k,"unmounted")},M)},Ae=T=>{const{type:k,el:M,anchor:L,transition:H}=T;if(k===tt){ge(M,L);return}if(k===oc){g(T);return}const B=()=>{s(M),H&&!H.persisted&&H.afterLeave&&H.afterLeave()};if(T.shapeFlag&1&&H&&!H.persisted){const{leave:J,delayLeave:Q}=H,X=()=>J(M,B);Q?Q(T.el,B,X):X()}else B()},ge=(T,k)=>{let M;for(;T!==k;)M=d(T),s(T),T=M;s(k)},Ie=(T,k,M)=>{const{bum:L,scope:H,job:B,subTree:J,um:Q,m:X,a:Y}=T;Th(X),Th(Y),L&&ca(L),H.stop(),B&&(B.flags|=8,Se(J,T,k,M)),Q&&xt(Q,k),xt(()=>{T.isUnmounted=!0},k),k&&k.pendingBranch&&!k.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===k.pendingId&&(k.deps--,k.deps===0&&k.resolve())},je=(T,k,M,L=!1,H=!1,B=0)=>{for(let J=B;J<T.length;J++)Se(T[J],k,M,L,H)},w=T=>{if(T.shapeFlag&6)return w(T.component.subTree);if(T.shapeFlag&128)return T.suspense.next();const k=d(T.anchor||T.el),M=k&&k[ey];return M?d(M):k};let v=!1;const D=(T,k,M)=>{T==null?k._vnode&&Se(k._vnode,null,null,!0):p(k._vnode||null,T,k,null,null,null,M),k._vnode=T,v||(v=!0,yh(),Jg(),v=!1)},$={p,um:Se,m:Oe,r:Ae,mt:se,mc:O,pc:N,pbc:j,n:w,o:t};return{render:D,hydrate:void 0,createApp:tC(D)}}function sc({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Rr({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function fC(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function $f(t,e,n=!1){const r=t.children,s=e.children;if(be(r)&&be(s))for(let o=0;o<r.length;o++){const i=r[o];let a=s[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[o]=lr(s[o]),a.el=i.el),!n&&a.patchFlag!==-2&&$f(i,a)),a.type===_l&&(a.el=i.el)}}function dC(t){const e=t.slice(),n=[0];let r,s,o,i,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(s=n[n.length-1],t[s]<c){e[r]=s,n.push(r);continue}for(o=0,i=n.length-1;o<i;)a=o+i>>1,t[n[a]]<c?o=a+1:i=a;c<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,i=n[o-1];o-- >0;)n[o]=i,i=e[i];return n}function Sy(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Sy(e)}function Th(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const hC=Symbol.for("v-scx"),pC=()=>jt(hC);function En(t,e){return vl(t,null,e)}function Ay(t,e){return vl(t,null,{flush:"post"})}function Pe(t,e,n){return vl(t,e,n)}function vl(t,e,n=Ve){const{immediate:r,deep:s,flush:o,once:i}=n,a=_t({},n),l=e&&r||!e&&o!=="post";let c;if(Qo){if(o==="sync"){const h=pC();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=_n,h.resume=_n,h.pause=_n,h}}const u=ut;a.call=(h,m,p)=>xn(h,u,m,p);let f=!1;o==="post"?a.scheduler=h=>{xt(h,u&&u.suspense)}:o!=="sync"&&(f=!0,a.scheduler=(h,m)=>{m?h():kf(h)}),a.augmentJob=h=>{e&&(h.flags|=4),f&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const d=Rw(t,e,a);return Qo&&(c?c.push(d):l&&d()),d}function mC(t,e,n){const r=this.proxy,s=Ge(t)?t.includes(".")?Ty(r,t):()=>r[t]:t.bind(r,r);let o;_e(e)?o=e:(o=e.handler,n=e);const i=pi(this),a=vl(s,o.bind(r),n);return i(),a}function Ty(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const gC=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Pt(e)}Modifiers`]||t[`${_r(e)}Modifiers`];function yC(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ve;let s=n;const o=e.startsWith("update:"),i=o&&gC(r,e.slice(7));i&&(i.trim&&(s=n.map(u=>Ge(u)?u.trim():u)),i.number&&(s=n.map(ou)));let a,l=r[a=la(e)]||r[a=la(Pt(e))];!l&&o&&(l=r[a=la(_r(e))]),l&&xn(l,t,6,s);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,xn(c,t,6,s)}}function ky(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const o=t.emits;let i={},a=!1;if(!_e(t)){const l=c=>{const u=ky(c,e,!0);u&&(a=!0,_t(i,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(Ke(t)&&r.set(t,null),null):(be(o)?o.forEach(l=>i[l]=null):_t(i,o),Ke(t)&&r.set(t,i),i)}function bl(t,e){return!t||!sl(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ne(t,e[0].toLowerCase()+e.slice(1))||Ne(t,_r(e))||Ne(t,e))}function kh(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[o],slots:i,attrs:a,emit:l,render:c,renderCache:u,props:f,data:d,setupState:h,ctx:m,inheritAttrs:p}=t,C=Da(t);let b,_;try{if(n.shapeFlag&4){const g=s||r,S=g;b=gn(c.call(S,g,u,f,h,d,m)),_=a}else{const g=e;b=gn(g.length>1?g(f,{attrs:a,slots:i,emit:l}):g(f,null)),_=e.props?a:vC(a)}}catch(g){Lo.length=0,gl(g,t,1),b=q(Kn)}let y=b;if(_&&p!==!1){const g=Object.keys(_),{shapeFlag:S}=y;g.length&&S&7&&(o&&g.some(_f)&&(_=bC(_,o)),y=Yr(y,_,!1,!0))}return n.dirs&&(y=Yr(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&Of(y,n.transition),b=y,Da(C),b}const vC=t=>{let e;for(const n in t)(n==="class"||n==="style"||sl(n))&&((e||(e={}))[n]=t[n]);return e},bC=(t,e)=>{const n={};for(const r in t)(!_f(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function _C(t,e,n){const{props:r,children:s,component:o}=t,{props:i,children:a,patchFlag:l}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Oh(r,i,c):!!i;if(l&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(i[d]!==r[d]&&!bl(c,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===i?!1:r?i?Oh(r,i,c):!0:!!i;return!1}function Oh(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const o=r[s];if(e[o]!==t[o]&&!bl(n,o))return!0}return!1}function wC({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Oy=t=>t.__isSuspense;function CC(t,e){e&&e.pendingBranch?be(t)?e.effects.push(...t):e.effects.push(t):Dw(t)}const tt=Symbol.for("v-fgt"),_l=Symbol.for("v-txt"),Kn=Symbol.for("v-cmt"),oc=Symbol.for("v-stc"),Lo=[];let Ut=null;function K(t=!1){Lo.push(Ut=t?null:[])}function xC(){Lo.pop(),Ut=Lo[Lo.length-1]||null}let Jo=1;function Rh(t,e=!1){Jo+=t,t<0&&Ut&&e&&(Ut.hasOnce=!0)}function Ry(t){return t.dynamicChildren=Jo>0?Ut||Os:null,xC(),Jo>0&&Ut&&Ut.push(t),t}function He(t,e,n,r,s,o){return Ry(Me(t,e,n,r,s,o,!0))}function ee(t,e,n,r,s){return Ry(q(t,e,n,r,s,!0))}function Xo(t){return t?t.__v_isVNode===!0:!1}function vo(t,e){return t.type===e.type&&t.key===e.key}const $y=({key:t})=>t??null,fa=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ge(t)||De(t)||_e(t)?{i:it,r:t,k:e,f:!!n}:t:null);function Me(t,e=null,n=null,r=0,s=null,o=t===tt?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&$y(e),ref:e&&fa(e),scopeId:Qg,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:it};return a?(Pf(l,n),o&128&&t.normalize(l)):n&&(l.shapeFlag|=Ge(n)?8:16),Jo>0&&!i&&Ut&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Ut.push(l),l}const q=EC;function EC(t,e=null,n=null,r=0,s=null,o=!1){if((!t||t===cy)&&(t=Kn),Xo(t)){const a=Yr(t,e,!0);return n&&Pf(a,n),Jo>0&&!o&&Ut&&(a.shapeFlag&6?Ut[Ut.indexOf(t)]=a:Ut.push(a)),a.patchFlag=-2,a}if(DC(t)&&(t=t.__vccOpts),e){e=es(e);let{class:a,style:l}=e;a&&!Ge(a)&&(e.class=ct(a)),Ke(l)&&(Tf(l)&&!be(l)&&(l=_t({},l)),e.style=Zs(l))}const i=Ge(t)?1:Oy(t)?128:Mw(t)?64:Ke(t)?4:_e(t)?2:0;return Me(t,e,n,r,s,i,o,!0)}function es(t){return t?Tf(t)||vy(t)?_t({},t):t:null}function Yr(t,e,n=!1,r=!1){const{props:s,ref:o,patchFlag:i,children:a,transition:l}=t,c=e?Te(s||{},e):s,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&$y(c),ref:e&&e.ref?n&&o?be(o)?o.concat(fa(e)):[o,fa(e)]:fa(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==tt?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Yr(t.ssContent),ssFallback:t.ssFallback&&Yr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Of(u,l.clone(u)),u}function pt(t=" ",e=0){return q(_l,null,t,e)}function Yn(t="",e=!1){return e?(K(),ee(Kn,null,t)):q(Kn,null,t)}function gn(t){return t==null||typeof t=="boolean"?q(Kn):be(t)?q(tt,null,t.slice()):Xo(t)?lr(t):q(_l,null,String(t))}function lr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Yr(t)}function Pf(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(be(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Pf(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!vy(e)?e._ctx=it:s===3&&it&&(it.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else _e(e)?(e={default:e,_ctx:it},n=32):(e=String(e),r&64?(n=16,e=[pt(e)]):n=8);t.children=e,t.shapeFlag|=n}function Te(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=ct([e.class,r.class]));else if(s==="style")e.style=Zs([e.style,r.style]);else if(sl(s)){const o=e[s],i=r[s];i&&o!==i&&!(be(o)&&o.includes(i))&&(e[s]=o?[].concat(o,i):i)}else s!==""&&(e[s]=r[s])}return e}function un(t,e,n,r=null){xn(t,e,7,[n,r])}const SC=my();let AC=0;function TC(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||SC,o={uid:AC++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ag(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_y(r,s),emitsOptions:ky(r,s),emit:null,emitted:null,propsDefaults:Ve,inheritAttrs:r.inheritAttrs,ctx:Ve,data:Ve,props:Ve,attrs:Ve,slots:Ve,refs:Ve,setupState:Ve,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=yC.bind(null,o),t.ce&&t.ce(o),o}let ut=null;const Qn=()=>ut||it;let Fa,gu;{const t=ll(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),o=>{s.length>1?s.forEach(i=>i(o)):s[0](o)}};Fa=e("__VUE_INSTANCE_SETTERS__",n=>ut=n),gu=e("__VUE_SSR_SETTERS__",n=>Qo=n)}const pi=t=>{const e=ut;return Fa(t),t.scope.on(),()=>{t.scope.off(),Fa(e)}},$h=()=>{ut&&ut.scope.off(),Fa(null)};function Py(t){return t.vnode.shapeFlag&4}let Qo=!1;function kC(t,e=!1,n=!1){e&&gu(e);const{props:r,children:s}=t.vnode,o=Py(t);rC(t,r,o,e),aC(t,s,n);const i=o?OC(t,e):void 0;return e&&gu(!1),i}function OC(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Yw);const{setup:r}=n;if(r){wr();const s=t.setupContext=r.length>1?$C(t):null,o=pi(t),i=hi(r,t,0,[t.props,s]),a=bg(i);if(Cr(),o(),(a||t.sp)&&!Ps(t)&&ry(t),a){if(i.then($h,$h),e)return i.then(l=>{Ph(t,l)}).catch(l=>{gl(l,t,0)});t.asyncDep=i}else Ph(t,i)}else Dy(t)}function Ph(t,e,n){_e(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ke(e)&&(t.setupState=Wg(e)),Dy(t)}function Dy(t,e,n){const r=t.type;t.render||(t.render=r.render||_n);{const s=pi(t);wr();try{Gw(t)}finally{Cr(),s()}}}const RC={get(t,e){return vt(t,"get",""),t[e]}};function $C(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,RC),slots:t.slots,emit:t.emit,expose:e}}function wl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Wg(ml(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in No)return No[n](t)},has(e,n){return n in e||n in No}})):t.proxy}function PC(t,e=!0){return _e(t)?t.displayName||t.name:t.name||e&&t.__name}function DC(t){return _e(t)&&"__vccOpts"in t}const z=(t,e)=>kw(t,e,Qo);function Zt(t,e,n){const r=arguments.length;return r===2?Ke(e)&&!be(e)?Xo(e)?q(t,null,[e]):q(t,e):q(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Xo(n)&&(n=[n]),q(t,e,n))}const MC="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let yu;const Dh=typeof window<"u"&&window.trustedTypes;if(Dh)try{yu=Dh.createPolicy("vue",{createHTML:t=>t})}catch{}const My=yu?t=>yu.createHTML(t):t=>t,IC="http://www.w3.org/2000/svg",FC="http://www.w3.org/1998/Math/MathML",Ln=typeof document<"u"?document:null,Mh=Ln&&Ln.createElement("template"),NC={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?Ln.createElementNS(IC,t):e==="mathml"?Ln.createElementNS(FC,t):n?Ln.createElement(t,{is:n}):Ln.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Ln.createTextNode(t),createComment:t=>Ln.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ln.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,o){const i=n?n.previousSibling:e.lastChild;if(s&&(s===o||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{Mh.innerHTML=My(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Mh.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[i?i.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},LC=Symbol("_vtc");function BC(t,e,n){const r=t[LC];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Ih=Symbol("_vod"),UC=Symbol("_vsh"),jC=Symbol(""),VC=/(^|;)\s*display\s*:/;function HC(t,e,n){const r=t.style,s=Ge(n);let o=!1;if(n&&!s){if(e)if(Ge(e))for(const i of e.split(";")){const a=i.slice(0,i.indexOf(":")).trim();n[a]==null&&da(r,a,"")}else for(const i in e)n[i]==null&&da(r,i,"");for(const i in n)i==="display"&&(o=!0),da(r,i,n[i])}else if(s){if(e!==n){const i=r[jC];i&&(n+=";"+i),r.cssText=n,o=VC.test(n)}}else e&&t.removeAttribute("style");Ih in t&&(t[Ih]=o?r.display:"",t[UC]&&(r.display="none"))}const Fh=/\s*!important$/;function da(t,e,n){if(be(n))n.forEach(r=>da(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=zC(t,e);Fh.test(n)?t.setProperty(_r(r),n.replace(Fh,""),"important"):t[r]=n}}const Nh=["Webkit","Moz","ms"],ic={};function zC(t,e){const n=ic[e];if(n)return n;let r=Pt(e);if(r!=="filter"&&r in t)return ic[e]=r;r=al(r);for(let s=0;s<Nh.length;s++){const o=Nh[s]+r;if(o in t)return ic[e]=o}return e}const Lh="http://www.w3.org/1999/xlink";function Bh(t,e,n,r,s,o=rw(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Lh,e.slice(6,e.length)):t.setAttributeNS(Lh,e,n):n==null||o&&!xg(n)?t.removeAttribute(e):t.setAttribute(e,o?"":Jn(n)?String(n):n)}function Uh(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?My(n):n);return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let i=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=xg(n):n==null&&a==="string"?(n="",i=!0):a==="number"&&(n=0,i=!0)}try{t[e]=n}catch{}i&&t.removeAttribute(s||e)}function ws(t,e,n,r){t.addEventListener(e,n,r)}function WC(t,e,n,r){t.removeEventListener(e,n,r)}const jh=Symbol("_vei");function KC(t,e,n,r,s=null){const o=t[jh]||(t[jh]={}),i=o[e];if(r&&i)i.value=r;else{const[a,l]=YC(e);if(r){const c=o[e]=JC(r,s);ws(t,a,c,l)}else i&&(WC(t,a,i,l),o[e]=void 0)}}const Vh=/(?:Once|Passive|Capture)$/;function YC(t){let e;if(Vh.test(t)){e={};let r;for(;r=t.match(Vh);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):_r(t.slice(2)),e]}let ac=0;const qC=Promise.resolve(),GC=()=>ac||(qC.then(()=>ac=0),ac=Date.now());function JC(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;xn(XC(r,n.value),e,5,[r])};return n.value=t,n.attached=GC(),n}function XC(t,e){if(be(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const Hh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,QC=(t,e,n,r,s,o)=>{const i=s==="svg";e==="class"?BC(t,r,i):e==="style"?HC(t,n,r):sl(e)?_f(e)||KC(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):ZC(t,e,r,i))?(Uh(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Bh(t,e,r,i,o,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ge(r))?Uh(t,Pt(e),r,o,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Bh(t,e,r,i))};function ZC(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Hh(e)&&_e(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Hh(e)&&Ge(n)?!1:e in t}const zh=t=>{const e=t.props["onUpdate:modelValue"]||!1;return be(e)?n=>ca(e,n):e};function e1(t){t.target.composing=!0}function Wh(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const lc=Symbol("_assign"),Iy={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[lc]=zh(s);const o=r||s.props&&s.props.type==="number";ws(t,e?"change":"input",i=>{if(i.target.composing)return;let a=t.value;n&&(a=a.trim()),o&&(a=ou(a)),t[lc](a)}),n&&ws(t,"change",()=>{t.value=t.value.trim()}),e||(ws(t,"compositionstart",e1),ws(t,"compositionend",Wh),ws(t,"change",Wh))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:o}},i){if(t[lc]=zh(i),t.composing)return;const a=(o||t.type==="number")&&!/^0\d/.test(t.value)?ou(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===l)||(t.value=l))}},t1=["ctrl","shift","alt","meta"],n1={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>t1.some(n=>t[`${n}Key`]&&!e.includes(n))},Na=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...o)=>{for(let i=0;i<e.length;i++){const a=n1[e[i]];if(a&&a(s,e))return}return t(s,...o)})},r1={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Hs=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const o=_r(s.key);if(e.some(i=>i===o||r1[i]===o))return t(s)})},s1=_t({patchProp:QC},NC);let Kh;function o1(){return Kh||(Kh=cC(s1))}const i1=(...t)=>{const e=o1().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=l1(r);if(!s)return;const o=e._component;!_e(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const i=n(s,!1,a1(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),i},e};function a1(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function l1(t){return Ge(t)?document.querySelector(t):t}/*!
 * pinia v3.0.2
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Fy;const Cl=t=>Fy=t,Ny=Symbol();function vu(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Bo;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Bo||(Bo={}));function c1(){const t=cl(!0),e=t.run(()=>te({}));let n=[],r=[];const s=ml({install(o){Cl(s),s._a=o,o.provide(Ny,s),o.config.globalProperties.$pinia=s,r.forEach(i=>n.push(i)),r=[]},use(o){return this._a?n.push(o):r.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const Ly=()=>{};function Yh(t,e,n,r=Ly){t.push(e);const s=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),r())};return!n&&di()&&ul(s),s}function fs(t,...e){t.slice().forEach(n=>{n(...e)})}const u1=t=>t(),qh=Symbol(),cc=Symbol();function bu(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];vu(s)&&vu(r)&&t.hasOwnProperty(n)&&!De(r)&&!zn(r)?t[n]=bu(s,r):t[n]=r}return t}const f1=Symbol();function d1(t){return!vu(t)||!Object.prototype.hasOwnProperty.call(t,f1)}const{assign:or}=Object;function h1(t){return!!(De(t)&&t.effect)}function p1(t,e,n,r){const{state:s,actions:o,getters:i}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=s?s():{});const u=Wn(n.state.value[t]);return or(u,o,Object.keys(i||{}).reduce((f,d)=>(f[d]=ml(z(()=>{Cl(n);const h=n._s.get(t);return i[d].call(h,h)})),f),{}))}return l=By(t,c,e,n,r,!0),l}function By(t,e,n={},r,s,o){let i;const a=or({actions:{}},n),l={deep:!0};let c,u,f=[],d=[],h;const m=r.state.value[t];!o&&!m&&(r.state.value[t]={}),te({});let p;function C(O){let x;c=u=!1,typeof O=="function"?(O(r.state.value[t]),x={type:Bo.patchFunction,storeId:t,events:h}):(bu(r.state.value[t],O),x={type:Bo.patchObject,payload:O,storeId:t,events:h});const j=p=Symbol();Dt().then(()=>{p===j&&(c=!0)}),u=!0,fs(f,x,r.state.value[t])}const b=o?function(){const{state:x}=n,j=x?x():{};this.$patch(V=>{or(V,j)})}:Ly;function _(){i.stop(),f=[],d=[],r._s.delete(t)}const y=(O,x="")=>{if(qh in O)return O[cc]=x,O;const j=function(){Cl(r);const V=Array.from(arguments),U=[],re=[];function se(F){U.push(F)}function P(F){re.push(F)}fs(d,{args:V,name:j[cc],store:S,after:se,onError:P});let I;try{I=O.apply(this&&this.$id===t?this:S,V)}catch(F){throw fs(re,F),F}return I instanceof Promise?I.then(F=>(fs(U,F),F)).catch(F=>(fs(re,F),Promise.reject(F))):(fs(U,I),I)};return j[qh]=!0,j[cc]=x,j},g={_p:r,$id:t,$onAction:Yh.bind(null,d),$patch:C,$reset:b,$subscribe(O,x={}){const j=Yh(f,O,x.detached,()=>V()),V=i.run(()=>Pe(()=>r.state.value[t],U=>{(x.flush==="sync"?u:c)&&O({storeId:t,type:Bo.direct,events:h},U)},or({},l,x)));return j},$dispose:_},S=en(g);r._s.set(t,S);const R=(r._a&&r._a.runWithContext||u1)(()=>r._e.run(()=>(i=cl()).run(()=>e({action:y}))));for(const O in R){const x=R[O];if(De(x)&&!h1(x)||zn(x))o||(m&&d1(x)&&(De(x)?x.value=m[O]:bu(x,m[O])),r.state.value[t][O]=x);else if(typeof x=="function"){const j=y(x,O);R[O]=j,a.actions[O]=x}}return or(S,R),or($e(S),R),Object.defineProperty(S,"$state",{get:()=>r.state.value[t],set:O=>{C(x=>{or(x,O)})}}),r._p.forEach(O=>{or(S,i.run(()=>O({store:S,app:r._a,pinia:r,options:a})))}),m&&o&&n.hydrate&&n.hydrate(S.$state,m),c=!0,u=!0,S}/*! #__NO_SIDE_EFFECTS__ */function ts(t,e,n){let r;const s=typeof e=="function";r=s?n:e;function o(i,a){const l=nC();return i=i||(l?jt(Ny,null):null),i&&Cl(i),i=Fy,i._s.has(t)||(s?By(t,e,r,i):p1(t,r,i)),i._s.get(t)}return o.$id=t,o}function Uy(t){const e=$e(t),n={};for(const r in e){const s=e[r];s.effect?n[r]=z({get:()=>t[r],set(o){t[r]=o}}):(De(s)||zn(s))&&(n[r]=Kg(t,r))}return n}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Cs=typeof document<"u";function jy(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function m1(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&jy(t.default)}const Fe=Object.assign;function uc(t,e){const n={};for(const r in e){const s=e[r];n[r]=tn(s)?s.map(t):t(s)}return n}const Uo=()=>{},tn=Array.isArray,Vy=/#/g,g1=/&/g,y1=/\//g,v1=/=/g,b1=/\?/g,Hy=/\+/g,_1=/%5B/g,w1=/%5D/g,zy=/%5E/g,C1=/%60/g,Wy=/%7B/g,x1=/%7C/g,Ky=/%7D/g,E1=/%20/g;function Df(t){return encodeURI(""+t).replace(x1,"|").replace(_1,"[").replace(w1,"]")}function S1(t){return Df(t).replace(Wy,"{").replace(Ky,"}").replace(zy,"^")}function _u(t){return Df(t).replace(Hy,"%2B").replace(E1,"+").replace(Vy,"%23").replace(g1,"%26").replace(C1,"`").replace(Wy,"{").replace(Ky,"}").replace(zy,"^")}function A1(t){return _u(t).replace(v1,"%3D")}function T1(t){return Df(t).replace(Vy,"%23").replace(b1,"%3F")}function k1(t){return t==null?"":T1(t).replace(y1,"%2F")}function Zo(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const O1=/\/$/,R1=t=>t.replace(O1,"");function fc(t,e,n="/"){let r,s={},o="",i="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),o=e.slice(l+1,a>-1?a:e.length),s=t(o)),a>-1&&(r=r||e.slice(0,a),i=e.slice(a,e.length)),r=M1(r??e,n),{fullPath:r+(o&&"?")+o+i,path:r,query:s,hash:Zo(i)}}function $1(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Gh(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function P1(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&zs(e.matched[r],n.matched[s])&&Yy(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function zs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Yy(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!D1(t[n],e[n]))return!1;return!0}function D1(t,e){return tn(t)?Jh(t,e):tn(e)?Jh(e,t):t===e}function Jh(t,e){return tn(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function M1(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let o=n.length-1,i,a;for(i=0;i<r.length;i++)if(a=r[i],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(i).join("/")}const er={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ei;(function(t){t.pop="pop",t.push="push"})(ei||(ei={}));var jo;(function(t){t.back="back",t.forward="forward",t.unknown=""})(jo||(jo={}));function I1(t){if(!t)if(Cs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),R1(t)}const F1=/^[^#]+#/;function N1(t,e){return t.replace(F1,"#")+e}function L1(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const xl=()=>({left:window.scrollX,top:window.scrollY});function B1(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=L1(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Xh(t,e){return(history.state?history.state.position-e:-1)+t}const wu=new Map;function U1(t,e){wu.set(t,e)}function j1(t){const e=wu.get(t);return wu.delete(t),e}let V1=()=>location.protocol+"//"+location.host;function qy(t,e){const{pathname:n,search:r,hash:s}=e,o=t.indexOf("#");if(o>-1){let a=s.includes(t.slice(o))?t.slice(o).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Gh(l,"")}return Gh(n,t)+r+s}function H1(t,e,n,r){let s=[],o=[],i=null;const a=({state:d})=>{const h=qy(t,location),m=n.value,p=e.value;let C=0;if(d){if(n.value=h,e.value=d,i&&i===m){i=null;return}C=p?d.position-p.position:0}else r(h);s.forEach(b=>{b(n.value,m,{delta:C,type:ei.pop,direction:C?C>0?jo.forward:jo.back:jo.unknown})})};function l(){i=n.value}function c(d){s.push(d);const h=()=>{const m=s.indexOf(d);m>-1&&s.splice(m,1)};return o.push(h),h}function u(){const{history:d}=window;d.state&&d.replaceState(Fe({},d.state,{scroll:xl()}),"")}function f(){for(const d of o)d();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:f}}function Qh(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?xl():null}}function z1(t){const{history:e,location:n}=window,r={value:qy(t,n)},s={value:e.state};s.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,c,u){const f=t.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+l:V1()+t+l;try{e[u?"replaceState":"pushState"](c,"",d),s.value=c}catch(h){console.error(h),n[u?"replace":"assign"](d)}}function i(l,c){const u=Fe({},e.state,Qh(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});o(l,u,!0),r.value=l}function a(l,c){const u=Fe({},s.value,e.state,{forward:l,scroll:xl()});o(u.current,u,!0);const f=Fe({},Qh(r.value,l,null),{position:u.position+1},c);o(l,f,!1),r.value=l}return{location:r,state:s,push:a,replace:i}}function W1(t){t=I1(t);const e=z1(t),n=H1(t,e.state,e.location,e.replace);function r(o,i=!0){i||n.pauseListeners(),history.go(o)}const s=Fe({location:"",base:t,go:r,createHref:N1.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function K1(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),W1(t)}function Y1(t){return typeof t=="string"||t&&typeof t=="object"}function Gy(t){return typeof t=="string"||typeof t=="symbol"}const Jy=Symbol("");var Zh;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Zh||(Zh={}));function Ws(t,e){return Fe(new Error,{type:t,[Jy]:!0},e)}function Pn(t,e){return t instanceof Error&&Jy in t&&(e==null||!!(t.type&e))}const ep="[^/]+?",q1={sensitive:!1,strict:!1,start:!0,end:!0},G1=/[.+*?^${}()[\]/\\]/g;function J1(t,e){const n=Fe({},q1,e),r=[];let s=n.start?"^":"";const o=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let f=0;f<c.length;f++){const d=c[f];let h=40+(n.sensitive?.25:0);if(d.type===0)f||(s+="/"),s+=d.value.replace(G1,"\\$&"),h+=40;else if(d.type===1){const{value:m,repeatable:p,optional:C,regexp:b}=d;o.push({name:m,repeatable:p,optional:C});const _=b||ep;if(_!==ep){h+=10;try{new RegExp(`(${_})`)}catch(g){throw new Error(`Invalid custom RegExp for param "${m}" (${_}): `+g.message)}}let y=p?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;f||(y=C&&c.length<2?`(?:/${y})`:"/"+y),C&&(y+="?"),s+=y,h+=20,C&&(h+=-8),p&&(h+=-20),_===".*"&&(h+=-50)}u.push(h)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const i=new RegExp(s,n.sensitive?"":"i");function a(c){const u=c.match(i),f={};if(!u)return null;for(let d=1;d<u.length;d++){const h=u[d]||"",m=o[d-1];f[m.name]=h&&m.repeatable?h.split("/"):h}return f}function l(c){let u="",f=!1;for(const d of t){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const h of d)if(h.type===0)u+=h.value;else if(h.type===1){const{value:m,repeatable:p,optional:C}=h,b=m in c?c[m]:"";if(tn(b)&&!p)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const _=tn(b)?b.join("/"):b;if(!_)if(C)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${m}"`);u+=_}}return u||"/"}return{re:i,score:r,keys:o,parse:a,stringify:l}}function X1(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Xy(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const o=X1(r[n],s[n]);if(o)return o;n++}if(Math.abs(s.length-r.length)===1){if(tp(r))return 1;if(tp(s))return-1}return s.length-r.length}function tp(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Q1={type:0,value:""},Z1=/[a-zA-Z0-9_]/;function ex(t){if(!t)return[[]];if(t==="/")return[[Q1]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,r=n;const s=[];let o;function i(){o&&s.push(o),o=[]}let a=0,l,c="",u="";function f(){c&&(n===0?o.push({type:0,value:c}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&f(),i()):l===":"?(f(),n=1):d();break;case 4:d(),n=r;break;case 1:l==="("?n=2:Z1.test(l)?d():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),f(),i(),s}function tx(t,e,n){const r=J1(ex(t.path),n),s=Fe(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function nx(t,e){const n=[],r=new Map;e=op({strict:!1,end:!0,sensitive:!1},e);function s(f){return r.get(f)}function o(f,d,h){const m=!h,p=rp(f);p.aliasOf=h&&h.record;const C=op(e,f),b=[p];if("alias"in f){const g=typeof f.alias=="string"?[f.alias]:f.alias;for(const S of g)b.push(rp(Fe({},p,{components:h?h.record.components:p.components,path:S,aliasOf:h?h.record:p})))}let _,y;for(const g of b){const{path:S}=g;if(d&&S[0]!=="/"){const A=d.record.path,R=A[A.length-1]==="/"?"":"/";g.path=d.record.path+(S&&R+S)}if(_=tx(g,d,C),h?h.alias.push(_):(y=y||_,y!==_&&y.alias.push(_),m&&f.name&&!sp(_)&&i(f.name)),Qy(_)&&l(_),p.children){const A=p.children;for(let R=0;R<A.length;R++)o(A[R],_,h&&h.children[R])}h=h||_}return y?()=>{i(y)}:Uo}function i(f){if(Gy(f)){const d=r.get(f);d&&(r.delete(f),n.splice(n.indexOf(d),1),d.children.forEach(i),d.alias.forEach(i))}else{const d=n.indexOf(f);d>-1&&(n.splice(d,1),f.record.name&&r.delete(f.record.name),f.children.forEach(i),f.alias.forEach(i))}}function a(){return n}function l(f){const d=ox(f,n);n.splice(d,0,f),f.record.name&&!sp(f)&&r.set(f.record.name,f)}function c(f,d){let h,m={},p,C;if("name"in f&&f.name){if(h=r.get(f.name),!h)throw Ws(1,{location:f});C=h.record.name,m=Fe(np(d.params,h.keys.filter(y=>!y.optional).concat(h.parent?h.parent.keys.filter(y=>y.optional):[]).map(y=>y.name)),f.params&&np(f.params,h.keys.map(y=>y.name))),p=h.stringify(m)}else if(f.path!=null)p=f.path,h=n.find(y=>y.re.test(p)),h&&(m=h.parse(p),C=h.record.name);else{if(h=d.name?r.get(d.name):n.find(y=>y.re.test(d.path)),!h)throw Ws(1,{location:f,currentLocation:d});C=h.record.name,m=Fe({},d.params,f.params),p=h.stringify(m)}const b=[];let _=h;for(;_;)b.unshift(_.record),_=_.parent;return{name:C,path:p,params:m,matched:b,meta:sx(b)}}t.forEach(f=>o(f));function u(){n.length=0,r.clear()}return{addRoute:o,resolve:c,removeRoute:i,clearRoutes:u,getRoutes:a,getRecordMatcher:s}}function np(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function rp(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:rx(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function rx(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function sp(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function sx(t){return t.reduce((e,n)=>Fe(e,n.meta),{})}function op(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function ox(t,e){let n=0,r=e.length;for(;n!==r;){const o=n+r>>1;Xy(t,e[o])<0?r=o:n=o+1}const s=ix(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function ix(t){let e=t;for(;e=e.parent;)if(Qy(e)&&Xy(t,e)===0)return e}function Qy({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function ax(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const o=r[s].replace(Hy," "),i=o.indexOf("="),a=Zo(i<0?o:o.slice(0,i)),l=i<0?null:Zo(o.slice(i+1));if(a in e){let c=e[a];tn(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function ip(t){let e="";for(let n in t){const r=t[n];if(n=A1(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(tn(r)?r.map(o=>o&&_u(o)):[r&&_u(r)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function lx(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=tn(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const cx=Symbol(""),ap=Symbol(""),El=Symbol(""),Zy=Symbol(""),Cu=Symbol("");function bo(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function cr(t,e,n,r,s,o=i=>i()){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(Ws(4,{from:n,to:e})):d instanceof Error?l(d):Y1(d)?l(Ws(2,{from:e,to:d})):(i&&r.enterCallbacks[s]===i&&typeof d=="function"&&i.push(d),a())},u=o(()=>t.call(r&&r.instances[s],e,n,c));let f=Promise.resolve(u);t.length<3&&(f=f.then(c)),f.catch(d=>l(d))})}function dc(t,e,n,r,s=o=>o()){const o=[];for(const i of t)for(const a in i.components){let l=i.components[a];if(!(e!=="beforeRouteEnter"&&!i.instances[a]))if(jy(l)){const u=(l.__vccOpts||l)[e];u&&o.push(cr(u,n,r,i,a,s))}else{let c=l();o.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${i.path}"`);const f=m1(u)?u.default:u;i.mods[a]=u,i.components[a]=f;const h=(f.__vccOpts||f)[e];return h&&cr(h,n,r,i,a,s)()}))}}return o}function lp(t){const e=jt(El),n=jt(Zy),r=z(()=>{const l=E(t.to);return e.resolve(l)}),s=z(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],f=n.matched;if(!u||!f.length)return-1;const d=f.findIndex(zs.bind(null,u));if(d>-1)return d;const h=cp(l[c-2]);return c>1&&cp(u)===h&&f[f.length-1].path!==h?f.findIndex(zs.bind(null,l[c-2])):d}),o=z(()=>s.value>-1&&px(n.params,r.value.params)),i=z(()=>s.value>-1&&s.value===n.matched.length-1&&Yy(n.params,r.value.params));function a(l={}){if(hx(l)){const c=e[E(t.replace)?"replace":"push"](E(t.to)).catch(Uo);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:z(()=>r.value.href),isActive:o,isExactActive:i,navigate:a}}function ux(t){return t.length===1?t[0]:t}const fx=Z({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:lp,setup(t,{slots:e}){const n=en(lp(t)),{options:r}=jt(El),s=z(()=>({[up(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[up(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&ux(e.default(n));return t.custom?o:Zt("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},o)}}}),dx=fx;function hx(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function px(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!tn(s)||s.length!==r.length||r.some((o,i)=>o!==s[i]))return!1}return!0}function cp(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const up=(t,e,n)=>t??e??n,mx=Z({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=jt(Cu),s=z(()=>t.route||r.value),o=jt(ap,0),i=z(()=>{let c=E(o);const{matched:u}=s.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),a=z(()=>s.value.matched[i.value]);Ds(ap,z(()=>i.value+1)),Ds(cx,a),Ds(Cu,s);const l=te();return Pe(()=>[l.value,a.value,t.name],([c,u,f],[d,h,m])=>{u&&(u.instances[f]=c,h&&h!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!zs(u,h)||!d)&&(u.enterCallbacks[f]||[]).forEach(p=>p(c))},{flush:"post"}),()=>{const c=s.value,u=t.name,f=a.value,d=f&&f.components[u];if(!d)return fp(n.default,{Component:d,route:c});const h=f.props[u],m=h?h===!0?c.params:typeof h=="function"?h(c):h:null,C=Zt(d,Fe({},m,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return fp(n.default,{Component:C,route:c})||C}}});function fp(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const ev=mx;function gx(t){const e=nx(t.routes,t),n=t.parseQuery||ax,r=t.stringifyQuery||ip,s=t.history,o=bo(),i=bo(),a=bo(),l=Qr(er);let c=er;Cs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=uc.bind(null,w=>""+w),f=uc.bind(null,k1),d=uc.bind(null,Zo);function h(w,v){let D,$;return Gy(w)?(D=e.getRecordMatcher(w),$=v):$=w,e.addRoute($,D)}function m(w){const v=e.getRecordMatcher(w);v&&e.removeRoute(v)}function p(){return e.getRoutes().map(w=>w.record)}function C(w){return!!e.getRecordMatcher(w)}function b(w,v){if(v=Fe({},v||l.value),typeof w=="string"){const M=fc(n,w,v.path),L=e.resolve({path:M.path},v),H=s.createHref(M.fullPath);return Fe(M,L,{params:d(L.params),hash:Zo(M.hash),redirectedFrom:void 0,href:H})}let D;if(w.path!=null)D=Fe({},w,{path:fc(n,w.path,v.path).path});else{const M=Fe({},w.params);for(const L in M)M[L]==null&&delete M[L];D=Fe({},w,{params:f(M)}),v.params=f(v.params)}const $=e.resolve(D,v),G=w.hash||"";$.params=u(d($.params));const T=$1(r,Fe({},w,{hash:S1(G),path:$.path})),k=s.createHref(T);return Fe({fullPath:T,hash:G,query:r===ip?lx(w.query):w.query||{}},$,{redirectedFrom:void 0,href:k})}function _(w){return typeof w=="string"?fc(n,w,l.value.path):Fe({},w)}function y(w,v){if(c!==w)return Ws(8,{from:v,to:w})}function g(w){return R(w)}function S(w){return g(Fe(_(w),{replace:!0}))}function A(w){const v=w.matched[w.matched.length-1];if(v&&v.redirect){const{redirect:D}=v;let $=typeof D=="function"?D(w):D;return typeof $=="string"&&($=$.includes("?")||$.includes("#")?$=_($):{path:$},$.params={}),Fe({query:w.query,hash:w.hash,params:$.path!=null?{}:w.params},$)}}function R(w,v){const D=c=b(w),$=l.value,G=w.state,T=w.force,k=w.replace===!0,M=A(D);if(M)return R(Fe(_(M),{state:typeof M=="object"?Fe({},G,M.state):G,force:T,replace:k}),v||D);const L=D;L.redirectedFrom=v;let H;return!T&&P1(r,$,D)&&(H=Ws(16,{to:L,from:$}),Oe($,$,!0,!1)),(H?Promise.resolve(H):j(L,$)).catch(B=>Pn(B)?Pn(B,2)?B:ce(B):N(B,L,$)).then(B=>{if(B){if(Pn(B,2))return R(Fe({replace:k},_(B.to),{state:typeof B.to=="object"?Fe({},G,B.to.state):G,force:T}),v||L)}else B=U(L,$,!0,k,G);return V(L,$,B),B})}function O(w,v){const D=y(w,v);return D?Promise.reject(D):Promise.resolve()}function x(w){const v=ge.values().next().value;return v&&typeof v.runWithContext=="function"?v.runWithContext(w):w()}function j(w,v){let D;const[$,G,T]=yx(w,v);D=dc($.reverse(),"beforeRouteLeave",w,v);for(const M of $)M.leaveGuards.forEach(L=>{D.push(cr(L,w,v))});const k=O.bind(null,w,v);return D.push(k),je(D).then(()=>{D=[];for(const M of o.list())D.push(cr(M,w,v));return D.push(k),je(D)}).then(()=>{D=dc(G,"beforeRouteUpdate",w,v);for(const M of G)M.updateGuards.forEach(L=>{D.push(cr(L,w,v))});return D.push(k),je(D)}).then(()=>{D=[];for(const M of T)if(M.beforeEnter)if(tn(M.beforeEnter))for(const L of M.beforeEnter)D.push(cr(L,w,v));else D.push(cr(M.beforeEnter,w,v));return D.push(k),je(D)}).then(()=>(w.matched.forEach(M=>M.enterCallbacks={}),D=dc(T,"beforeRouteEnter",w,v,x),D.push(k),je(D))).then(()=>{D=[];for(const M of i.list())D.push(cr(M,w,v));return D.push(k),je(D)}).catch(M=>Pn(M,8)?M:Promise.reject(M))}function V(w,v,D){a.list().forEach($=>x(()=>$(w,v,D)))}function U(w,v,D,$,G){const T=y(w,v);if(T)return T;const k=v===er,M=Cs?history.state:{};D&&($||k?s.replace(w.fullPath,Fe({scroll:k&&M&&M.scroll},G)):s.push(w.fullPath,G)),l.value=w,Oe(w,v,D,k),ce()}let re;function se(){re||(re=s.listen((w,v,D)=>{if(!Ie.listening)return;const $=b(w),G=A($);if(G){R(Fe(G,{replace:!0,force:!0}),$).catch(Uo);return}c=$;const T=l.value;Cs&&U1(Xh(T.fullPath,D.delta),xl()),j($,T).catch(k=>Pn(k,12)?k:Pn(k,2)?(R(Fe(_(k.to),{force:!0}),$).then(M=>{Pn(M,20)&&!D.delta&&D.type===ei.pop&&s.go(-1,!1)}).catch(Uo),Promise.reject()):(D.delta&&s.go(-D.delta,!1),N(k,$,T))).then(k=>{k=k||U($,T,!1),k&&(D.delta&&!Pn(k,8)?s.go(-D.delta,!1):D.type===ei.pop&&Pn(k,20)&&s.go(-1,!1)),V($,T,k)}).catch(Uo)}))}let P=bo(),I=bo(),F;function N(w,v,D){ce(w);const $=I.list();return $.length?$.forEach(G=>G(w,v,D)):console.error(w),Promise.reject(w)}function le(){return F&&l.value!==er?Promise.resolve():new Promise((w,v)=>{P.add([w,v])})}function ce(w){return F||(F=!w,se(),P.list().forEach(([v,D])=>w?D(w):v()),P.reset()),w}function Oe(w,v,D,$){const{scrollBehavior:G}=t;if(!Cs||!G)return Promise.resolve();const T=!D&&j1(Xh(w.fullPath,0))||($||!D)&&history.state&&history.state.scroll||null;return Dt().then(()=>G(w,v,T)).then(k=>k&&B1(k)).catch(k=>N(k,w,v))}const Se=w=>s.go(w);let Ae;const ge=new Set,Ie={currentRoute:l,listening:!0,addRoute:h,removeRoute:m,clearRoutes:e.clearRoutes,hasRoute:C,getRoutes:p,resolve:b,options:t,push:g,replace:S,go:Se,back:()=>Se(-1),forward:()=>Se(1),beforeEach:o.add,beforeResolve:i.add,afterEach:a.add,onError:I.add,isReady:le,install(w){const v=this;w.component("RouterLink",dx),w.component("RouterView",ev),w.config.globalProperties.$router=v,Object.defineProperty(w.config.globalProperties,"$route",{enumerable:!0,get:()=>E(l)}),Cs&&!Ae&&l.value===er&&(Ae=!0,g(s.location).catch(G=>{}));const D={};for(const G in er)Object.defineProperty(D,G,{get:()=>l.value[G],enumerable:!0});w.provide(El,v),w.provide(Zy,Hg(D)),w.provide(Cu,l);const $=w.unmount;ge.add(w),w.unmount=function(){ge.delete(w),ge.size<1&&(c=er,re&&re(),re=null,l.value=er,Ae=!1,F=!1),$()}}};function je(w){return w.reduce((v,D)=>v.then(()=>x(D)),Promise.resolve())}return Ie}function yx(t,e){const n=[],r=[],s=[],o=Math.max(e.matched.length,t.matched.length);for(let i=0;i<o;i++){const a=e.matched[i];a&&(t.matched.find(c=>zs(c,a))?r.push(a):n.push(a));const l=t.matched[i];l&&(e.matched.find(c=>zs(c,l))||s.push(l))}return[n,r,s]}function UD(){return jt(El)}/**
 * @license lucide-vue-next v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vx=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),bx=t=>{const e=vx(t);return e.charAt(0).toUpperCase()+e.slice(1)},_x=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-vue-next v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ui={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=({size:t,strokeWidth:e=2,absoluteStrokeWidth:n,color:r,iconNode:s,name:o,class:i,...a},{slots:l})=>Zt("svg",{...Ui,width:t||Ui.width,height:t||Ui.height,stroke:r||Ui.stroke,"stroke-width":n?Number(e)*24/Number(t):e,class:_x("lucide",...o?[`lucide-${dp(bx(o))}-icon`,`lucide-${dp(o)}`]:["lucide-icon"]),...a},[...s.map(c=>Zt(...c)),...l.default?[l.default()]:[]]);/**
 * @license lucide-vue-next v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=(t,e)=>(n,{slots:r})=>Zt(wx,{...n,iconNode:e,name:t},r);/**
 * @license lucide-vue-next v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=Ht("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=Ht("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=Ht("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=Ht("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-vue-next v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=Ht("message-square-quote",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 12a2 2 0 0 0 2-2V8H8",key:"1jfesj"}],["path",{d:"M14 12a2 2 0 0 0 2-2V8h-2",key:"1dq9mh"}]]);/**
 * @license lucide-vue-next v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=Ht("moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-vue-next v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=Ht("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-vue-next v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=Ht("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=Ht("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-vue-next v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=Ht("thermometer-snowflake",[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"M10.585 15H10",key:"4nqulp"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"M20 14.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0z",key:"yu0u2z"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h2",key:"1bbqgq"}]]);/**
 * @license lucide-vue-next v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=Ht("thermometer-sun",[["path",{d:"M12 9a4 4 0 0 0-2 7.5",key:"1jvsq6"}],["path",{d:"M12 3v2",key:"1w22ol"}],["path",{d:"m6.6 18.4-1.4 1.4",key:"w2yidj"}],["path",{d:"M20 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"iof6y5"}],["path",{d:"M4 13H2",key:"118le4"}],["path",{d:"M6.34 7.34 4.93 5.93",key:"1brd51"}]]);/**
 * @license lucide-vue-next v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=Ht("wand-sparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-vue-next v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=Ht("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function rv(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=rv(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function sv(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=rv(t))&&(r&&(r+=" "),r+=e);return r}const pp=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,mp=sv,ov=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return mp(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,i=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],f=o==null?void 0:o[c];if(u===null)return null;const d=pp(u)||pp(f);return s[c][d]}),a=n&&Object.entries(n).reduce((c,u)=>{let[f,d]=u;return d===void 0||(c[f]=d),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:f,className:d,...h}=u;return Object.entries(h).every(m=>{let[p,C]=m;return Array.isArray(C)?C.includes({...o,...a}[p]):{...o,...a}[p]===C})?[...c,f,d]:c},[]);return mp(t,i,l,n==null?void 0:n.class,n==null?void 0:n.className)},Mf="-",$x=t=>{const e=Dx(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:i=>{const a=i.split(Mf);return a[0]===""&&a.length!==1&&a.shift(),iv(a,e)||Px(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},iv=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?iv(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(Mf);return(i=e.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},gp=/^\[(.+)\]$/,Px=t=>{if(gp.test(t)){const e=gp.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Dx=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)Eu(n[s],r,s,e);return r},Eu=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:yp(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(Mx(s)){Eu(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{Eu(i,yp(e,o),n,r)})})},yp=(t,e)=>{let n=t;return e.split(Mf).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Mx=t=>t.isThemeGetter,Ix=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},Su="!",Au=":",Fx=Au.length,Nx=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const o=[];let i=0,a=0,l=0,c;for(let m=0;m<s.length;m++){let p=s[m];if(i===0&&a===0){if(p===Au){o.push(s.slice(l,m)),l=m+Fx;continue}if(p==="/"){c=m;continue}}p==="["?i++:p==="]"?i--:p==="("?a++:p===")"&&a--}const u=o.length===0?s:s.substring(l),f=Lx(u),d=f!==u,h=c&&c>l?c-l:void 0;return{modifiers:o,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:h}};if(e){const s=e+Au,o=r;r=i=>i.startsWith(s)?o(i.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:i,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=o=>n({className:o,parseClassName:s})}return r},Lx=t=>t.endsWith(Su)?t.substring(0,t.length-1):t.startsWith(Su)?t.substring(1):t,Bx=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let o=[];return r.forEach(i=>{i[0]==="["||e[i]?(s.push(...o.sort(),i),o=[]):o.push(i)}),s.push(...o.sort()),s}},Ux=t=>({cache:Ix(t.cacheSize),parseClassName:Nx(t),sortModifiers:Bx(t),...$x(t)}),jx=/\s+/,Vx=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=e,i=[],a=t.trim().split(jx);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{isExternal:f,modifiers:d,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:p}=n(u);if(f){l=u+(l.length>0?" "+l:l);continue}let C=!!p,b=r(C?m.substring(0,p):m);if(!b){if(!C){l=u+(l.length>0?" "+l:l);continue}if(b=r(m),!b){l=u+(l.length>0?" "+l:l);continue}C=!1}const _=o(d).join(":"),y=h?_+Su:_,g=y+b;if(i.includes(g))continue;i.push(g);const S=s(b,C);for(let A=0;A<S.length;++A){const R=S[A];i.push(y+R)}l=u+(l.length>0?" "+l:l)}return l};function Hx(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=av(e))&&(r&&(r+=" "),r+=n);return r}const av=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=av(t[r]))&&(n&&(n+=" "),n+=e);return n};function zx(t,...e){let n,r,s,o=i;function i(l){const c=e.reduce((u,f)=>f(u),t());return n=Ux(c),r=n.cache.get,s=n.cache.set,o=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=Vx(l,n);return s(l,u),u}return function(){return o(Hx.apply(null,arguments))}}const rt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},lv=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,cv=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Wx=/^\d+\/\d+$/,Kx=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Yx=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qx=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Gx=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Jx=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ds=t=>Wx.test(t),Ee=t=>!!t&&!Number.isNaN(Number(t)),tr=t=>!!t&&Number.isInteger(Number(t)),hc=t=>t.endsWith("%")&&Ee(t.slice(0,-1)),Dn=t=>Kx.test(t),Xx=()=>!0,Qx=t=>Yx.test(t)&&!qx.test(t),uv=()=>!1,Zx=t=>Gx.test(t),eE=t=>Jx.test(t),tE=t=>!oe(t)&&!ie(t),nE=t=>no(t,hv,uv),oe=t=>lv.test(t),$r=t=>no(t,pv,Qx),pc=t=>no(t,aE,Ee),vp=t=>no(t,fv,uv),rE=t=>no(t,dv,eE),ji=t=>no(t,mv,Zx),ie=t=>cv.test(t),_o=t=>ro(t,pv),sE=t=>ro(t,lE),bp=t=>ro(t,fv),oE=t=>ro(t,hv),iE=t=>ro(t,dv),Vi=t=>ro(t,mv,!0),no=(t,e,n)=>{const r=lv.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},ro=(t,e,n=!1)=>{const r=cv.exec(t);return r?r[1]?e(r[1]):n:!1},fv=t=>t==="position"||t==="percentage",dv=t=>t==="image"||t==="url",hv=t=>t==="length"||t==="size"||t==="bg-size",pv=t=>t==="length",aE=t=>t==="number",lE=t=>t==="family-name",mv=t=>t==="shadow",cE=()=>{const t=rt("color"),e=rt("font"),n=rt("text"),r=rt("font-weight"),s=rt("tracking"),o=rt("leading"),i=rt("breakpoint"),a=rt("container"),l=rt("spacing"),c=rt("radius"),u=rt("shadow"),f=rt("inset-shadow"),d=rt("text-shadow"),h=rt("drop-shadow"),m=rt("blur"),p=rt("perspective"),C=rt("aspect"),b=rt("ease"),_=rt("animate"),y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],g=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],S=()=>[...g(),ie,oe],A=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],O=()=>[ie,oe,l],x=()=>[ds,"full","auto",...O()],j=()=>[tr,"none","subgrid",ie,oe],V=()=>["auto",{span:["full",tr,ie,oe]},tr,ie,oe],U=()=>[tr,"auto",ie,oe],re=()=>["auto","min","max","fr",ie,oe],se=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],P=()=>["start","end","center","stretch","center-safe","end-safe"],I=()=>["auto",...O()],F=()=>[ds,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],N=()=>[t,ie,oe],le=()=>[...g(),bp,vp,{position:[ie,oe]}],ce=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Oe=()=>["auto","cover","contain",oE,nE,{size:[ie,oe]}],Se=()=>[hc,_o,$r],Ae=()=>["","none","full",c,ie,oe],ge=()=>["",Ee,_o,$r],Ie=()=>["solid","dashed","dotted","double"],je=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],w=()=>[Ee,hc,bp,vp],v=()=>["","none",m,ie,oe],D=()=>["none",Ee,ie,oe],$=()=>["none",Ee,ie,oe],G=()=>[Ee,ie,oe],T=()=>[ds,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Dn],breakpoint:[Dn],color:[Xx],container:[Dn],"drop-shadow":[Dn],ease:["in","out","in-out"],font:[tE],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Dn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Dn],shadow:[Dn],spacing:["px",Ee],text:[Dn],"text-shadow":[Dn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ds,oe,ie,C]}],container:["container"],columns:[{columns:[Ee,oe,ie,a]}],"break-after":[{"break-after":y()}],"break-before":[{"break-before":y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:S()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:x()}],"inset-x":[{"inset-x":x()}],"inset-y":[{"inset-y":x()}],start:[{start:x()}],end:[{end:x()}],top:[{top:x()}],right:[{right:x()}],bottom:[{bottom:x()}],left:[{left:x()}],visibility:["visible","invisible","collapse"],z:[{z:[tr,"auto",ie,oe]}],basis:[{basis:[ds,"full","auto",a,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ee,ds,"auto","initial","none",oe]}],grow:[{grow:["",Ee,ie,oe]}],shrink:[{shrink:["",Ee,ie,oe]}],order:[{order:[tr,"first","last","none",ie,oe]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":re()}],"auto-rows":[{"auto-rows":re()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...se(),"normal"]}],"justify-items":[{"justify-items":[...P(),"normal"]}],"justify-self":[{"justify-self":["auto",...P()]}],"align-content":[{content:["normal",...se()]}],"align-items":[{items:[...P(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...P(),{baseline:["","last"]}]}],"place-content":[{"place-content":se()}],"place-items":[{"place-items":[...P(),"baseline"]}],"place-self":[{"place-self":["auto",...P()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:I()}],mx:[{mx:I()}],my:[{my:I()}],ms:[{ms:I()}],me:[{me:I()}],mt:[{mt:I()}],mr:[{mr:I()}],mb:[{mb:I()}],ml:[{ml:I()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:F()}],w:[{w:[a,"screen",...F()]}],"min-w":[{"min-w":[a,"screen","none",...F()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[i]},...F()]}],h:[{h:["screen",...F()]}],"min-h":[{"min-h":["screen","none",...F()]}],"max-h":[{"max-h":["screen",...F()]}],"font-size":[{text:["base",n,_o,$r]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ie,pc]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",hc,oe]}],"font-family":[{font:[sE,oe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ie,oe]}],"line-clamp":[{"line-clamp":[Ee,"none",ie,pc]}],leading:[{leading:[o,...O()]}],"list-image":[{"list-image":["none",ie,oe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ie,oe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:N()}],"text-color":[{text:N()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ie(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ee,"from-font","auto",ie,$r]}],"text-decoration-color":[{decoration:N()}],"underline-offset":[{"underline-offset":[Ee,"auto",ie,oe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ie,oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ie,oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:le()}],"bg-repeat":[{bg:ce()}],"bg-size":[{bg:Oe()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},tr,ie,oe],radial:["",ie,oe],conic:[tr,ie,oe]},iE,rE]}],"bg-color":[{bg:N()}],"gradient-from-pos":[{from:Se()}],"gradient-via-pos":[{via:Se()}],"gradient-to-pos":[{to:Se()}],"gradient-from":[{from:N()}],"gradient-via":[{via:N()}],"gradient-to":[{to:N()}],rounded:[{rounded:Ae()}],"rounded-s":[{"rounded-s":Ae()}],"rounded-e":[{"rounded-e":Ae()}],"rounded-t":[{"rounded-t":Ae()}],"rounded-r":[{"rounded-r":Ae()}],"rounded-b":[{"rounded-b":Ae()}],"rounded-l":[{"rounded-l":Ae()}],"rounded-ss":[{"rounded-ss":Ae()}],"rounded-se":[{"rounded-se":Ae()}],"rounded-ee":[{"rounded-ee":Ae()}],"rounded-es":[{"rounded-es":Ae()}],"rounded-tl":[{"rounded-tl":Ae()}],"rounded-tr":[{"rounded-tr":Ae()}],"rounded-br":[{"rounded-br":Ae()}],"rounded-bl":[{"rounded-bl":Ae()}],"border-w":[{border:ge()}],"border-w-x":[{"border-x":ge()}],"border-w-y":[{"border-y":ge()}],"border-w-s":[{"border-s":ge()}],"border-w-e":[{"border-e":ge()}],"border-w-t":[{"border-t":ge()}],"border-w-r":[{"border-r":ge()}],"border-w-b":[{"border-b":ge()}],"border-w-l":[{"border-l":ge()}],"divide-x":[{"divide-x":ge()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ge()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ie(),"hidden","none"]}],"divide-style":[{divide:[...Ie(),"hidden","none"]}],"border-color":[{border:N()}],"border-color-x":[{"border-x":N()}],"border-color-y":[{"border-y":N()}],"border-color-s":[{"border-s":N()}],"border-color-e":[{"border-e":N()}],"border-color-t":[{"border-t":N()}],"border-color-r":[{"border-r":N()}],"border-color-b":[{"border-b":N()}],"border-color-l":[{"border-l":N()}],"divide-color":[{divide:N()}],"outline-style":[{outline:[...Ie(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ee,ie,oe]}],"outline-w":[{outline:["",Ee,_o,$r]}],"outline-color":[{outline:N()}],shadow:[{shadow:["","none",u,Vi,ji]}],"shadow-color":[{shadow:N()}],"inset-shadow":[{"inset-shadow":["none",f,Vi,ji]}],"inset-shadow-color":[{"inset-shadow":N()}],"ring-w":[{ring:ge()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:N()}],"ring-offset-w":[{"ring-offset":[Ee,$r]}],"ring-offset-color":[{"ring-offset":N()}],"inset-ring-w":[{"inset-ring":ge()}],"inset-ring-color":[{"inset-ring":N()}],"text-shadow":[{"text-shadow":["none",d,Vi,ji]}],"text-shadow-color":[{"text-shadow":N()}],opacity:[{opacity:[Ee,ie,oe]}],"mix-blend":[{"mix-blend":[...je(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":je()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ee]}],"mask-image-linear-from-pos":[{"mask-linear-from":w()}],"mask-image-linear-to-pos":[{"mask-linear-to":w()}],"mask-image-linear-from-color":[{"mask-linear-from":N()}],"mask-image-linear-to-color":[{"mask-linear-to":N()}],"mask-image-t-from-pos":[{"mask-t-from":w()}],"mask-image-t-to-pos":[{"mask-t-to":w()}],"mask-image-t-from-color":[{"mask-t-from":N()}],"mask-image-t-to-color":[{"mask-t-to":N()}],"mask-image-r-from-pos":[{"mask-r-from":w()}],"mask-image-r-to-pos":[{"mask-r-to":w()}],"mask-image-r-from-color":[{"mask-r-from":N()}],"mask-image-r-to-color":[{"mask-r-to":N()}],"mask-image-b-from-pos":[{"mask-b-from":w()}],"mask-image-b-to-pos":[{"mask-b-to":w()}],"mask-image-b-from-color":[{"mask-b-from":N()}],"mask-image-b-to-color":[{"mask-b-to":N()}],"mask-image-l-from-pos":[{"mask-l-from":w()}],"mask-image-l-to-pos":[{"mask-l-to":w()}],"mask-image-l-from-color":[{"mask-l-from":N()}],"mask-image-l-to-color":[{"mask-l-to":N()}],"mask-image-x-from-pos":[{"mask-x-from":w()}],"mask-image-x-to-pos":[{"mask-x-to":w()}],"mask-image-x-from-color":[{"mask-x-from":N()}],"mask-image-x-to-color":[{"mask-x-to":N()}],"mask-image-y-from-pos":[{"mask-y-from":w()}],"mask-image-y-to-pos":[{"mask-y-to":w()}],"mask-image-y-from-color":[{"mask-y-from":N()}],"mask-image-y-to-color":[{"mask-y-to":N()}],"mask-image-radial":[{"mask-radial":[ie,oe]}],"mask-image-radial-from-pos":[{"mask-radial-from":w()}],"mask-image-radial-to-pos":[{"mask-radial-to":w()}],"mask-image-radial-from-color":[{"mask-radial-from":N()}],"mask-image-radial-to-color":[{"mask-radial-to":N()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":g()}],"mask-image-conic-pos":[{"mask-conic":[Ee]}],"mask-image-conic-from-pos":[{"mask-conic-from":w()}],"mask-image-conic-to-pos":[{"mask-conic-to":w()}],"mask-image-conic-from-color":[{"mask-conic-from":N()}],"mask-image-conic-to-color":[{"mask-conic-to":N()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:le()}],"mask-repeat":[{mask:ce()}],"mask-size":[{mask:Oe()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ie,oe]}],filter:[{filter:["","none",ie,oe]}],blur:[{blur:v()}],brightness:[{brightness:[Ee,ie,oe]}],contrast:[{contrast:[Ee,ie,oe]}],"drop-shadow":[{"drop-shadow":["","none",h,Vi,ji]}],"drop-shadow-color":[{"drop-shadow":N()}],grayscale:[{grayscale:["",Ee,ie,oe]}],"hue-rotate":[{"hue-rotate":[Ee,ie,oe]}],invert:[{invert:["",Ee,ie,oe]}],saturate:[{saturate:[Ee,ie,oe]}],sepia:[{sepia:["",Ee,ie,oe]}],"backdrop-filter":[{"backdrop-filter":["","none",ie,oe]}],"backdrop-blur":[{"backdrop-blur":v()}],"backdrop-brightness":[{"backdrop-brightness":[Ee,ie,oe]}],"backdrop-contrast":[{"backdrop-contrast":[Ee,ie,oe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ee,ie,oe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ee,ie,oe]}],"backdrop-invert":[{"backdrop-invert":["",Ee,ie,oe]}],"backdrop-opacity":[{"backdrop-opacity":[Ee,ie,oe]}],"backdrop-saturate":[{"backdrop-saturate":[Ee,ie,oe]}],"backdrop-sepia":[{"backdrop-sepia":["",Ee,ie,oe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ie,oe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ee,"initial",ie,oe]}],ease:[{ease:["linear","initial",b,ie,oe]}],delay:[{delay:[Ee,ie,oe]}],animate:[{animate:["none",_,ie,oe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[p,ie,oe]}],"perspective-origin":[{"perspective-origin":S()}],rotate:[{rotate:D()}],"rotate-x":[{"rotate-x":D()}],"rotate-y":[{"rotate-y":D()}],"rotate-z":[{"rotate-z":D()}],scale:[{scale:$()}],"scale-x":[{"scale-x":$()}],"scale-y":[{"scale-y":$()}],"scale-z":[{"scale-z":$()}],"scale-3d":["scale-3d"],skew:[{skew:G()}],"skew-x":[{"skew-x":G()}],"skew-y":[{"skew-y":G()}],transform:[{transform:[ie,oe,"","none","gpu","cpu"]}],"transform-origin":[{origin:S()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:T()}],"translate-x":[{"translate-x":T()}],"translate-y":[{"translate-y":T()}],"translate-z":[{"translate-z":T()}],"translate-none":["translate-none"],accent:[{accent:N()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:N()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ie,oe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ie,oe]}],fill:[{fill:["none",...N()]}],"stroke-w":[{stroke:[Ee,_o,$r,pc]}],stroke:[{stroke:["none",...N()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},uE=zx(cE);function Je(...t){return uE(sv(t))}const fE=["top","right","bottom","left"],yr=Math.min,Bt=Math.max,La=Math.round,Hi=Math.floor,wn=t=>({x:t,y:t}),dE={left:"right",right:"left",bottom:"top",top:"bottom"},hE={start:"end",end:"start"};function Tu(t,e,n){return Bt(t,yr(e,n))}function qn(t,e){return typeof t=="function"?t(e):t}function Gn(t){return t.split("-")[0]}function so(t){return t.split("-")[1]}function If(t){return t==="x"?"y":"x"}function Ff(t){return t==="y"?"height":"width"}function vr(t){return["top","bottom"].includes(Gn(t))?"y":"x"}function Nf(t){return If(vr(t))}function pE(t,e,n){n===void 0&&(n=!1);const r=so(t),s=Nf(t),o=Ff(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=Ba(i)),[i,Ba(i)]}function mE(t){const e=Ba(t);return[ku(t),e,ku(e)]}function ku(t){return t.replace(/start|end/g,e=>hE[e])}function gE(t,e,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?o:i;default:return[]}}function yE(t,e,n,r){const s=so(t);let o=gE(Gn(t),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),e&&(o=o.concat(o.map(ku)))),o}function Ba(t){return t.replace(/left|right|bottom|top/g,e=>dE[e])}function vE(t){return{top:0,right:0,bottom:0,left:0,...t}}function gv(t){return typeof t!="number"?vE(t):{top:t,right:t,bottom:t,left:t}}function Ua(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function _p(t,e,n){let{reference:r,floating:s}=t;const o=vr(e),i=Nf(e),a=Ff(i),l=Gn(e),c=o==="y",u=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,d=r[a]/2-s[a]/2;let h;switch(l){case"top":h={x:u,y:r.y-s.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-s.width,y:f};break;default:h={x:r.x,y:r.y}}switch(so(e)){case"start":h[i]-=d*(n&&c?-1:1);break;case"end":h[i]+=d*(n&&c?-1:1);break}return h}const bE=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(e));let c=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:f}=_p(c,r,l),d=r,h={},m=0;for(let p=0;p<a.length;p++){const{name:C,fn:b}=a[p],{x:_,y,data:g,reset:S}=await b({x:u,y:f,initialPlacement:r,placement:d,strategy:s,middlewareData:h,rects:c,platform:i,elements:{reference:t,floating:e}});u=_??u,f=y??f,h={...h,[C]:{...h[C],...g}},S&&m<=50&&(m++,typeof S=="object"&&(S.placement&&(d=S.placement),S.rects&&(c=S.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):S.rects),{x:u,y:f}=_p(c,d,l)),p=-1)}return{x:u,y:f,placement:d,strategy:s,middlewareData:h}};async function ti(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=qn(e,t),m=gv(h),C=a[d?f==="floating"?"reference":"floating":f],b=Ua(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(C)))==null||n?C:C.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),_=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),g=await(o.isElement==null?void 0:o.isElement(y))?await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1}:{x:1,y:1},S=Ua(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:y,strategy:l}):_);return{top:(b.top-S.top+m.top)/g.y,bottom:(S.bottom-b.bottom+m.bottom)/g.y,left:(b.left-S.left+m.left)/g.x,right:(S.right-b.right+m.right)/g.x}}const _E=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=qn(t,e)||{};if(c==null)return{};const f=gv(u),d={x:n,y:r},h=Nf(s),m=Ff(h),p=await i.getDimensions(c),C=h==="y",b=C?"top":"left",_=C?"bottom":"right",y=C?"clientHeight":"clientWidth",g=o.reference[m]+o.reference[h]-d[h]-o.floating[m],S=d[h]-o.reference[h],A=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let R=A?A[y]:0;(!R||!await(i.isElement==null?void 0:i.isElement(A)))&&(R=a.floating[y]||o.floating[m]);const O=g/2-S/2,x=R/2-p[m]/2-1,j=yr(f[b],x),V=yr(f[_],x),U=j,re=R-p[m]-V,se=R/2-p[m]/2+O,P=Tu(U,se,re),I=!l.arrow&&so(s)!=null&&se!==P&&o.reference[m]/2-(se<U?j:V)-p[m]/2<0,F=I?se<U?se-U:se-re:0;return{[h]:d[h]+F,data:{[h]:P,centerOffset:se-P-F,...I&&{alignmentOffset:F}},reset:I}}}),wE=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:p=!0,...C}=qn(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const b=Gn(s),_=vr(a),y=Gn(a)===a,g=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=d||(y||!p?[Ba(a)]:mE(a)),A=m!=="none";!d&&A&&S.push(...yE(a,p,m,g));const R=[a,...S],O=await ti(e,C),x=[];let j=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&x.push(O[b]),f){const se=pE(s,i,g);x.push(O[se[0]],O[se[1]])}if(j=[...j,{placement:s,overflows:x}],!x.every(se=>se<=0)){var V,U;const se=(((V=o.flip)==null?void 0:V.index)||0)+1,P=R[se];if(P)return{data:{index:se,overflows:j},reset:{placement:P}};let I=(U=j.filter(F=>F.overflows[0]<=0).sort((F,N)=>F.overflows[1]-N.overflows[1])[0])==null?void 0:U.placement;if(!I)switch(h){case"bestFit":{var re;const F=(re=j.filter(N=>{if(A){const le=vr(N.placement);return le===_||le==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(le=>le>0).reduce((le,ce)=>le+ce,0)]).sort((N,le)=>N[1]-le[1])[0])==null?void 0:re[0];F&&(I=F);break}case"initialPlacement":I=a;break}if(s!==I)return{reset:{placement:I}}}return{}}}};function wp(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Cp(t){return fE.some(e=>t[e]>=0)}const CE=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=qn(t,e);switch(r){case"referenceHidden":{const o=await ti(e,{...s,elementContext:"reference"}),i=wp(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Cp(i)}}}case"escaped":{const o=await ti(e,{...s,altBoundary:!0}),i=wp(o,n.floating);return{data:{escapedOffsets:i,escaped:Cp(i)}}}default:return{}}}}};async function xE(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=Gn(n),a=so(n),l=vr(n)==="y",c=["left","top"].includes(i)?-1:1,u=o&&l?-1:1,f=qn(e,t);let{mainAxis:d,crossAxis:h,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof m=="number"&&(h=a==="end"?m*-1:m),l?{x:h*u,y:d*c}:{x:d*c,y:h*u}}const EE=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=e,l=await xE(e,t);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},SE=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:C=>{let{x:b,y:_}=C;return{x:b,y:_}}},...l}=qn(t,e),c={x:n,y:r},u=await ti(e,l),f=vr(Gn(s)),d=If(f);let h=c[d],m=c[f];if(o){const C=d==="y"?"top":"left",b=d==="y"?"bottom":"right",_=h+u[C],y=h-u[b];h=Tu(_,h,y)}if(i){const C=f==="y"?"top":"left",b=f==="y"?"bottom":"right",_=m+u[C],y=m-u[b];m=Tu(_,m,y)}const p=a.fn({...e,[d]:h,[f]:m});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[d]:o,[f]:i}}}}}},AE=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=qn(t,e),u={x:n,y:r},f=vr(s),d=If(f);let h=u[d],m=u[f];const p=qn(a,e),C=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const y=d==="y"?"height":"width",g=o.reference[d]-o.floating[y]+C.mainAxis,S=o.reference[d]+o.reference[y]-C.mainAxis;h<g?h=g:h>S&&(h=S)}if(c){var b,_;const y=d==="y"?"width":"height",g=["top","left"].includes(Gn(s)),S=o.reference[f]-o.floating[y]+(g&&((b=i.offset)==null?void 0:b[f])||0)+(g?0:C.crossAxis),A=o.reference[f]+o.reference[y]+(g?0:((_=i.offset)==null?void 0:_[f])||0)-(g?C.crossAxis:0);m<S?m=S:m>A&&(m=A)}return{[d]:h,[f]:m}}}},TE=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:i,elements:a}=e,{apply:l=()=>{},...c}=qn(t,e),u=await ti(e,c),f=Gn(s),d=so(s),h=vr(s)==="y",{width:m,height:p}=o.floating;let C,b;f==="top"||f==="bottom"?(C=f,b=d===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(b=f,C=d==="end"?"top":"bottom");const _=p-u.top-u.bottom,y=m-u.left-u.right,g=yr(p-u[C],_),S=yr(m-u[b],y),A=!e.middlewareData.shift;let R=g,O=S;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(O=y),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(R=_),A&&!d){const j=Bt(u.left,0),V=Bt(u.right,0),U=Bt(u.top,0),re=Bt(u.bottom,0);h?O=m-2*(j!==0||V!==0?j+V:Bt(u.left,u.right)):R=p-2*(U!==0||re!==0?U+re:Bt(u.top,u.bottom))}await l({...e,availableWidth:O,availableHeight:R});const x=await i.getDimensions(a.floating);return m!==x.width||p!==x.height?{reset:{rects:!0}}:{}}}};function Sl(){return typeof window<"u"}function ns(t){return Lf(t)?(t.nodeName||"").toLowerCase():"#document"}function Vt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function An(t){var e;return(e=(Lf(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Lf(t){return Sl()?t instanceof Node||t instanceof Vt(t).Node:!1}function nn(t){return Sl()?t instanceof Element||t instanceof Vt(t).Element:!1}function Sn(t){return Sl()?t instanceof HTMLElement||t instanceof Vt(t).HTMLElement:!1}function xp(t){return!Sl()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Vt(t).ShadowRoot}function mi(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=rn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function kE(t){return["table","td","th"].includes(ns(t))}function Al(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Bf(t){const e=Uf(),n=nn(t)?rn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function OE(t){let e=br(t);for(;Sn(e)&&!Ks(e);){if(Bf(e))return e;if(Al(e))return null;e=br(e)}return null}function Uf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ks(t){return["html","body","#document"].includes(ns(t))}function rn(t){return Vt(t).getComputedStyle(t)}function Tl(t){return nn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function br(t){if(ns(t)==="html")return t;const e=t.assignedSlot||t.parentNode||xp(t)&&t.host||An(t);return xp(e)?e.host:e}function yv(t){const e=br(t);return Ks(e)?t.ownerDocument?t.ownerDocument.body:t.body:Sn(e)&&mi(e)?e:yv(e)}function ni(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=yv(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),i=Vt(s);if(o){const a=Ou(i);return e.concat(i,i.visualViewport||[],mi(s)?s:[],a&&n?ni(a):[])}return e.concat(s,ni(s,[],n))}function Ou(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function vv(t){const e=rn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Sn(t),o=s?t.offsetWidth:n,i=s?t.offsetHeight:r,a=La(n)!==o||La(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function jf(t){return nn(t)?t:t.contextElement}function Ms(t){const e=jf(t);if(!Sn(e))return wn(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=vv(e);let i=(o?La(n.width):n.width)/r,a=(o?La(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const RE=wn(0);function bv(t){const e=Vt(t);return!Uf()||!e.visualViewport?RE:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function $E(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Vt(t)?!1:e}function qr(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=jf(t);let i=wn(1);e&&(r?nn(r)&&(i=Ms(r)):i=Ms(t));const a=$E(o,n,r)?bv(o):wn(0);let l=(s.left+a.x)/i.x,c=(s.top+a.y)/i.y,u=s.width/i.x,f=s.height/i.y;if(o){const d=Vt(o),h=r&&nn(r)?Vt(r):r;let m=d,p=Ou(m);for(;p&&r&&h!==m;){const C=Ms(p),b=p.getBoundingClientRect(),_=rn(p),y=b.left+(p.clientLeft+parseFloat(_.paddingLeft))*C.x,g=b.top+(p.clientTop+parseFloat(_.paddingTop))*C.y;l*=C.x,c*=C.y,u*=C.x,f*=C.y,l+=y,c+=g,m=Vt(p),p=Ou(m)}}return Ua({width:u,height:f,x:l,y:c})}function Vf(t,e){const n=Tl(t).scrollLeft;return e?e.left+n:qr(An(t)).left+n}function _v(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Vf(t,r)),o=r.top+e.scrollTop;return{x:s,y:o}}function PE(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",i=An(r),a=e?Al(e.floating):!1;if(r===i||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=wn(1);const u=wn(0),f=Sn(r);if((f||!f&&!o)&&((ns(r)!=="body"||mi(i))&&(l=Tl(r)),Sn(r))){const h=qr(r);c=Ms(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}const d=i&&!f&&!o?_v(i,l,!0):wn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+d.x,y:n.y*c.y-l.scrollTop*c.y+u.y+d.y}}function DE(t){return Array.from(t.getClientRects())}function ME(t){const e=An(t),n=Tl(t),r=t.ownerDocument.body,s=Bt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Bt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Vf(t);const a=-n.scrollTop;return rn(r).direction==="rtl"&&(i+=Bt(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}function IE(t,e){const n=Vt(t),r=An(t),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const c=Uf();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:i,x:a,y:l}}function FE(t,e){const n=qr(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=Sn(t)?Ms(t):wn(1),i=t.clientWidth*o.x,a=t.clientHeight*o.y,l=s*o.x,c=r*o.y;return{width:i,height:a,x:l,y:c}}function Ep(t,e,n){let r;if(e==="viewport")r=IE(t,n);else if(e==="document")r=ME(An(t));else if(nn(e))r=FE(e,n);else{const s=bv(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Ua(r)}function wv(t,e){const n=br(t);return n===e||!nn(n)||Ks(n)?!1:rn(n).position==="fixed"||wv(n,e)}function NE(t,e){const n=e.get(t);if(n)return n;let r=ni(t,[],!1).filter(a=>nn(a)&&ns(a)!=="body"),s=null;const o=rn(t).position==="fixed";let i=o?br(t):t;for(;nn(i)&&!Ks(i);){const a=rn(i),l=Bf(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||mi(i)&&!l&&wv(t,i))?r=r.filter(u=>u!==i):s=a,i=br(i)}return e.set(t,r),r}function LE(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?Al(e)?[]:NE(e,this._c):[].concat(n),r],a=i[0],l=i.reduce((c,u)=>{const f=Ep(e,u,s);return c.top=Bt(f.top,c.top),c.right=yr(f.right,c.right),c.bottom=yr(f.bottom,c.bottom),c.left=Bt(f.left,c.left),c},Ep(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function BE(t){const{width:e,height:n}=vv(t);return{width:e,height:n}}function UE(t,e,n){const r=Sn(e),s=An(e),o=n==="fixed",i=qr(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=wn(0);if(r||!r&&!o)if((ns(e)!=="body"||mi(s))&&(a=Tl(e)),r){const d=qr(e,!0,o,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else s&&(l.x=Vf(s));const c=s&&!r&&!o?_v(s,a):wn(0),u=i.left+a.scrollLeft-l.x-c.x,f=i.top+a.scrollTop-l.y-c.y;return{x:u,y:f,width:i.width,height:i.height}}function mc(t){return rn(t).position==="static"}function Sp(t,e){if(!Sn(t)||rn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return An(t)===n&&(n=n.ownerDocument.body),n}function Cv(t,e){const n=Vt(t);if(Al(t))return n;if(!Sn(t)){let s=br(t);for(;s&&!Ks(s);){if(nn(s)&&!mc(s))return s;s=br(s)}return n}let r=Sp(t,e);for(;r&&kE(r)&&mc(r);)r=Sp(r,e);return r&&Ks(r)&&mc(r)&&!Bf(r)?n:r||OE(t)||n}const jE=async function(t){const e=this.getOffsetParent||Cv,n=this.getDimensions,r=await n(t.floating);return{reference:UE(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function VE(t){return rn(t).direction==="rtl"}const HE={convertOffsetParentRelativeRectToViewportRelativeRect:PE,getDocumentElement:An,getClippingRect:LE,getOffsetParent:Cv,getElementRects:jE,getClientRects:DE,getDimensions:BE,getScale:Ms,isElement:nn,isRTL:VE};function xv(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function zE(t,e){let n=null,r;const s=An(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:u,top:f,width:d,height:h}=c;if(a||e(),!d||!h)return;const m=Hi(f),p=Hi(s.clientWidth-(u+d)),C=Hi(s.clientHeight-(f+h)),b=Hi(u),y={rootMargin:-m+"px "+-p+"px "+-C+"px "+-b+"px",threshold:Bt(0,yr(1,l))||1};let g=!0;function S(A){const R=A[0].intersectionRatio;if(R!==l){if(!g)return i();R?i(!1,R):r=setTimeout(()=>{i(!1,1e-7)},1e3)}R===1&&!xv(c,t.getBoundingClientRect())&&i(),g=!1}try{n=new IntersectionObserver(S,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,y)}n.observe(t)}return i(!0),o}function WE(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=jf(t),u=s||o?[...c?ni(c):[],...ni(e)]:[];u.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),o&&b.addEventListener("resize",n)});const f=c&&a?zE(c,n):null;let d=-1,h=null;i&&(h=new ResizeObserver(b=>{let[_]=b;_&&_.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var y;(y=h)==null||y.observe(e)})),n()}),c&&!l&&h.observe(c),h.observe(e));let m,p=l?qr(t):null;l&&C();function C(){const b=qr(t);p&&!xv(p,b)&&n(),p=b,m=requestAnimationFrame(C)}return n(),()=>{var b;u.forEach(_=>{s&&_.removeEventListener("scroll",n),o&&_.removeEventListener("resize",n)}),f==null||f(),(b=h)==null||b.disconnect(),h=null,l&&cancelAnimationFrame(m)}}const KE=EE,YE=SE,Ap=wE,qE=TE,GE=CE,JE=_E,XE=AE,QE=(t,e,n)=>{const r=new Map,s={platform:HE,...n},o={...s.platform,_c:r};return bE(t,e,{...s,platform:o})};function ZE(t){return t!=null&&typeof t=="object"&&"$el"in t}function Ru(t){if(ZE(t)){const e=t.$el;return Lf(e)&&ns(e)==="#comment"?null:e}return t}function xs(t){return typeof t=="function"?t():E(t)}function eS(t){return{name:"arrow",options:t,fn(e){const n=Ru(xs(t.element));return n==null?{}:JE({element:n,padding:t.padding}).fn(e)}}}function Ev(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Tp(t,e){const n=Ev(t);return Math.round(e*n)/n}function tS(t,e,n){n===void 0&&(n={});const r=n.whileElementsMounted,s=z(()=>{var R;return(R=xs(n.open))!=null?R:!0}),o=z(()=>xs(n.middleware)),i=z(()=>{var R;return(R=xs(n.placement))!=null?R:"bottom"}),a=z(()=>{var R;return(R=xs(n.strategy))!=null?R:"absolute"}),l=z(()=>{var R;return(R=xs(n.transform))!=null?R:!0}),c=z(()=>Ru(t.value)),u=z(()=>Ru(e.value)),f=te(0),d=te(0),h=te(a.value),m=te(i.value),p=Qr({}),C=te(!1),b=z(()=>{const R={position:h.value,left:"0",top:"0"};if(!u.value)return R;const O=Tp(u.value,f.value),x=Tp(u.value,d.value);return l.value?{...R,transform:"translate("+O+"px, "+x+"px)",...Ev(u.value)>=1.5&&{willChange:"transform"}}:{position:h.value,left:O+"px",top:x+"px"}});let _;function y(){if(c.value==null||u.value==null)return;const R=s.value;QE(c.value,u.value,{middleware:o.value,placement:i.value,strategy:a.value}).then(O=>{f.value=O.x,d.value=O.y,h.value=O.strategy,m.value=O.placement,p.value=O.middlewareData,C.value=R!==!1})}function g(){typeof _=="function"&&(_(),_=void 0)}function S(){if(g(),r===void 0){y();return}if(c.value!=null&&u.value!=null){_=r(c.value,u.value,y);return}}function A(){s.value||(C.value=!1)}return Pe([o,i,a,s],y,{flush:"sync"}),Pe([c,u],S,{flush:"sync"}),Pe(s,A,{flush:"sync"}),di()&&ul(g),{x:Ir(f),y:Ir(d),strategy:Ir(h),placement:Ir(m),middlewareData:Ir(p),isPositioned:Ir(C),floatingStyles:b,update:y}}function Hf(t){return t?t.flatMap(e=>e.type===tt?Hf(e.children):[e]):[]}const $u=Z({name:"PrimitiveSlot",inheritAttrs:!1,setup(t,{attrs:e,slots:n}){return()=>{var l,c;if(!n.default)return null;const r=Hf(n.default()),s=r.findIndex(u=>u.type!==Kn);if(s===-1)return r;const o=r[s];(l=o.props)==null||delete l.ref;const i=o.props?Te(e,o.props):e;e.class&&((c=o.props)!=null&&c.class)&&delete o.props.class;const a=Yr(o,i);for(const u in i)u.startsWith("on")&&(a.props||(a.props={}),a.props[u]=i[u]);return r.length===1?a:(r[s]=a,r)}}}),nS=["area","img","input"],Ye=Z({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(t,{attrs:e,slots:n}){const r=t.asChild?"template":t.as;return typeof r=="string"&&nS.includes(r)?()=>Zt(r,e):r!=="template"?()=>Zt(t.as,e,{default:n.default}):()=>Zt($u,e,{default:n.default})}}),rS=Z({__name:"VisuallyHidden",props:{feature:{default:"focusable"},asChild:{type:Boolean},as:{default:"span"}},setup(t){return(e,n)=>(K(),ee(E(Ye),{as:e.as,"as-child":e.asChild,"aria-hidden":e.feature==="focusable"?"true":void 0,"data-hidden":e.feature==="fully-hidden"?"":void 0,tabindex:e.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal"}},{default:W(()=>[he(e.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}});function sS(t,e){var n;const r=Qr();return En(()=>{r.value=t()},{...e,flush:(n=void 0)!=null?n:"sync"}),hl(r)}function Sv(t){return di()?(ul(t),!0):!1}function oS(t){let e=!1,n;const r=cl(!0);return(...s)=>(e||(n=r.run(()=>t(...s)),e=!0),n)}function iS(t){let e=0,n,r;const s=()=>{e-=1,r&&e<=0&&(r.stop(),n=void 0,r=void 0)};return(...o)=>(e+=1,r||(r=cl(!0),n=r.run(()=>t(...o))),Sv(s),n)}function aS(t){if(!De(t))return en(t);const e=new Proxy({},{get(n,r,s){return E(Reflect.get(t.value,r,s))},set(n,r,s){return De(t.value[r])&&!De(s)?t.value[r].value=s:t.value[r]=s,!0},deleteProperty(n,r){return Reflect.deleteProperty(t.value,r)},has(n,r){return Reflect.has(t.value,r)},ownKeys(){return Object.keys(t.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return en(e)}function lS(t){return aS(z(t))}function cS(t,...e){const n=e.flat(),r=n[0];return lS(()=>Object.fromEntries(typeof r=="function"?Object.entries(Wn(t)).filter(([s,o])=>!r(et(o),s)):Object.entries(Wn(t)).filter(s=>!n.includes(s[0]))))}const xr=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const uS=t=>typeof t<"u",fS=Object.prototype.toString,dS=t=>fS.call(t)==="[object Object]",kp=hS();function hS(){var t,e;return xr&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function pS(t){return Qn()}function gc(t){return Array.isArray(t)?t:[t]}const mS=et;function gS(t,e){pS()&&iy(t,e)}function yS(t,e,n){return Pe(t,e,{...n,immediate:!0})}const zf=xr?window:void 0;function rs(t){var e;const n=et(t);return(e=n==null?void 0:n.$el)!=null?e:n}function Av(...t){const e=[],n=()=>{e.forEach(a=>a()),e.length=0},r=(a,l,c,u)=>(a.addEventListener(l,c,u),()=>a.removeEventListener(l,c,u)),s=z(()=>{const a=gc(et(t[0])).filter(l=>l!=null);return a.every(l=>typeof l!="string")?a:void 0}),o=yS(()=>{var a,l;return[(l=(a=s.value)==null?void 0:a.map(c=>rs(c)))!=null?l:[zf].filter(c=>c!=null),gc(et(s.value?t[1]:t[0])),gc(E(s.value?t[2]:t[1])),et(s.value?t[3]:t[2])]},([a,l,c,u])=>{if(n(),!(a!=null&&a.length)||!(l!=null&&l.length)||!(c!=null&&c.length))return;const f=dS(u)?{...u}:u;e.push(...a.flatMap(d=>l.flatMap(h=>c.map(m=>r(d,h,m,f)))))},{flush:"post"}),i=()=>{o(),n()};return Sv(n),i}function vS(){const t=Qr(!1),e=Qn();return e&&Zr(()=>{t.value=!0},e),t}function bS(t){return typeof t=="function"?t:typeof t=="string"?e=>e.key===t:Array.isArray(t)?e=>t.includes(e.key):()=>!0}function _S(...t){let e,n,r={};t.length===3?(e=t[0],n=t[1],r=t[2]):t.length===2?typeof t[1]=="object"?(e=!0,n=t[0],r=t[1]):(e=t[0],n=t[1]):(e=!0,n=t[0]);const{target:s=zf,eventName:o="keydown",passive:i=!1,dedupe:a=!1}=r,l=bS(e);return Av(s,o,u=>{u.repeat&&et(a)||l(u)&&n(u)},i)}function wS(t){return JSON.parse(JSON.stringify(t))}function ja(t,e,n,r={}){var s,o,i;const{clone:a=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:f,shouldEmit:d}=r,h=Qn(),m=n||(h==null?void 0:h.emit)||((s=h==null?void 0:h.$emit)==null?void 0:s.bind(h))||((i=(o=h==null?void 0:h.proxy)==null?void 0:o.$emit)==null?void 0:i.bind(h==null?void 0:h.proxy));let p=c;e||(e="modelValue"),p=p||`update:${e.toString()}`;const C=y=>a?typeof a=="function"?a(y):wS(y):y,b=()=>uS(t[e])?C(t[e]):f,_=y=>{d?d(y)&&m(p,y):m(p,y)};if(l){const y=b(),g=te(y);let S=!1;return Pe(()=>t[e],A=>{S||(S=!0,g.value=C(A),Dt(()=>S=!1))}),Pe(g,A=>{!S&&(A!==t[e]||u)&&_(A)},{deep:u}),g}else return z({get(){return b()},set(y){_(y)}})}function Er(t,e){const n=typeof t=="string"?`${t}Context`:e,r=Symbol(n);return[i=>{const a=jt(r,i);if(a||a===null)return a;throw new Error(`Injection \`${r.toString()}\` not found. Component must be used within ${Array.isArray(t)?`one of the following components: ${t.join(", ")}`:`\`${t}\``}`)},i=>(Ds(r,i),i)]}function Op(t){return typeof t=="string"?`'${t}'`:new CS().serialize(t)}const CS=function(){var e;class t{constructor(){cs(this,e,new Map)}compare(r,s){const o=typeof r,i=typeof s;return o==="string"&&i==="string"?r.localeCompare(s):o==="number"&&i==="number"?r-s:String.prototype.localeCompare.call(this.serialize(r,!0),this.serialize(s,!0))}serialize(r,s){if(r===null)return"null";switch(typeof r){case"string":return s?r:`'${r}'`;case"bigint":return`${r}n`;case"object":return this.$object(r);case"function":return this.$function(r)}return String(r)}serializeObject(r){const s=Object.prototype.toString.call(r);if(s!=="[object Object]")return this.serializeBuiltInType(s.length<10?`unknown:${s}`:s.slice(8,-1),r);const o=r.constructor,i=o===Object||o===void 0?"":o.name;if(i!==""&&globalThis[i]===o)return this.serializeBuiltInType(i,r);if(typeof r.toJSON=="function"){const a=r.toJSON();return i+(a!==null&&typeof a=="object"?this.$object(a):`(${this.serialize(a)})`)}return this.serializeObjectEntries(i,Object.entries(r))}serializeBuiltInType(r,s){const o=this["$"+r];if(o)return o.call(this,s);if(typeof(s==null?void 0:s.entries)=="function")return this.serializeObjectEntries(r,s.entries());throw new Error(`Cannot serialize ${r}`)}serializeObjectEntries(r,s){const o=Array.from(s).sort((a,l)=>this.compare(a[0],l[0]));let i=`${r}{`;for(let a=0;a<o.length;a++){const[l,c]=o[a];i+=`${this.serialize(l,!0)}:${this.serialize(c)}`,a<o.length-1&&(i+=",")}return i+"}"}$object(r){let s=go(this,e).get(r);return s===void 0&&(go(this,e).set(r,`#${go(this,e).size}`),s=this.serializeObject(r),go(this,e).set(r,s)),s}$function(r){const s=Function.prototype.toString.call(r);return s.slice(-15)==="[native code] }"?`${r.name||""}()[native]`:`${r.name}(${r.length})${s.replace(/\s*\n\s*/g,"")}`}$Array(r){let s="[";for(let o=0;o<r.length;o++)s+=this.serialize(r[o]),o<r.length-1&&(s+=",");return s+"]"}$Date(r){try{return`Date(${r.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(r){return`ArrayBuffer[${new Uint8Array(r).join(",")}]`}$Set(r){return`Set${this.$Array(Array.from(r).sort((s,o)=>this.compare(s,o)))}`}$Map(r){return this.serializeObjectEntries("Map",r.entries())}}e=new WeakMap;for(const n of["Error","RegExp","URL"])t.prototype["$"+n]=function(r){return`${n}(${r})`};for(const n of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])t.prototype["$"+n]=function(r){return`${n}[${r.join(",")}]`};for(const n of["BigInt64Array","BigUint64Array"])t.prototype["$"+n]=function(r){return`${n}[${r.join("n,")}${r.length>0?"n":""}]`};return t}();function Pu(t,e){return t===e||Op(t)===Op(e)}function Du(t){return t==null}function Rp(t,e){return Du(t)?!1:Array.isArray(t)?t.some(n=>Pu(n,e)):Pu(t,e)}const[kl,jD]=Er("ConfigProvider");function xS(t){const e=kl({dir:te("ltr")});return z(()=>{var n;return(t==null?void 0:t.value)||((n=e.dir)==null?void 0:n.value)||"ltr"})}function Tn(){const t=Qn(),e=te(),n=z(()=>{var i,a;return["#text","#comment"].includes((i=e.value)==null?void 0:i.$el.nodeName)?(a=e.value)==null?void 0:a.$el.nextElementSibling:rs(e)}),r=Object.assign({},t.exposed),s={};for(const i in t.props)Object.defineProperty(s,i,{enumerable:!0,configurable:!0,get:()=>t.props[i]});if(Object.keys(r).length>0)for(const i in r)Object.defineProperty(s,i,{enumerable:!0,configurable:!0,get:()=>r[i]});Object.defineProperty(s,"$el",{enumerable:!0,configurable:!0,get:()=>t.vnode.el}),t.exposed=s;function o(i){e.value=i,i&&(Object.defineProperty(s,"$el",{enumerable:!0,configurable:!0,get:()=>i instanceof Element?i:i.$el}),t.exposed=s)}return{forwardRef:o,currentRef:e,currentElement:n}}let ES=0;function Wf(t,e="reka"){const n=kl({useId:void 0});return wh?`${e}-${wh()}`:n.useId?`${e}-${n.useId()}`:`${e}-${++ES}`}function SS(t,e){const n=te(t);function r(o){return e[n.value][o]??n.value}return{state:n,dispatch:o=>{n.value=r(o)}}}function AS(t,e){var C;const n=te({}),r=te("none"),s=te(t),o=t.value?"mounted":"unmounted";let i;const a=((C=e.value)==null?void 0:C.ownerDocument.defaultView)??zf,{state:l,dispatch:c}=SS(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),u=b=>{var _;if(xr){const y=new CustomEvent(b,{bubbles:!1,cancelable:!1});(_=e.value)==null||_.dispatchEvent(y)}};Pe(t,async(b,_)=>{var g;const y=_!==b;if(await Dt(),y){const S=r.value,A=zi(e.value);b?(c("MOUNT"),u("enter"),A==="none"&&u("after-enter")):A==="none"||A==="undefined"||((g=n.value)==null?void 0:g.display)==="none"?(c("UNMOUNT"),u("leave"),u("after-leave")):_&&S!==A?(c("ANIMATION_OUT"),u("leave")):(c("UNMOUNT"),u("after-leave"))}},{immediate:!0});const f=b=>{const _=zi(e.value),y=_.includes(b.animationName),g=l.value==="mounted"?"enter":"leave";if(b.target===e.value&&y&&(u(`after-${g}`),c("ANIMATION_END"),!s.value)){const S=e.value.style.animationFillMode;e.value.style.animationFillMode="forwards",i=a==null?void 0:a.setTimeout(()=>{var A;((A=e.value)==null?void 0:A.style.animationFillMode)==="forwards"&&(e.value.style.animationFillMode=S)})}b.target===e.value&&_==="none"&&c("ANIMATION_END")},d=b=>{b.target===e.value&&(r.value=zi(e.value))},h=Pe(e,(b,_)=>{b?(n.value=getComputedStyle(b),b.addEventListener("animationstart",d),b.addEventListener("animationcancel",f),b.addEventListener("animationend",f)):(c("ANIMATION_END"),i!==void 0&&(a==null||a.clearTimeout(i)),_==null||_.removeEventListener("animationstart",d),_==null||_.removeEventListener("animationcancel",f),_==null||_.removeEventListener("animationend",f))},{immediate:!0}),m=Pe(l,()=>{const b=zi(e.value);r.value=l.value==="mounted"?b:"none"});return to(()=>{h(),m()}),{isPresent:z(()=>["mounted","unmountSuspended"].includes(l.value))}}function zi(t){return t&&getComputedStyle(t).animationName||"none"}const Tv=Z({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(t,{slots:e,expose:n}){var c;const{present:r,forceMount:s}=Wn(t),o=te(),{isPresent:i}=AS(r,o);n({present:i});let a=e.default({present:i.value});a=Hf(a||[]);const l=Qn();if(a&&(a==null?void 0:a.length)>1){const u=(c=l==null?void 0:l.parent)!=null&&c.type.name?`<${l.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${u}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(f=>`  - ${f}`).join(`
`)].join(`
`))}return()=>s.value||r.value||i.value?Zt(e.default({present:i.value})[0],{ref:u=>{const f=rs(u);return typeof(f==null?void 0:f.hasAttribute)>"u"||(f!=null&&f.hasAttribute("data-reka-popper-content-wrapper")?o.value=f.firstElementChild:o.value=f),f}}):null}});function TS(t){const e=Qn(),n=e==null?void 0:e.type.emits,r={};return n!=null&&n.length||console.warn(`No emitted event found. Please check component: ${e==null?void 0:e.type.__name}`),n==null||n.forEach(s=>{r[la(Pt(s))]=(...o)=>t(s,...o)}),r}function on(t){const e=Qn(),n=Object.keys((e==null?void 0:e.type.props)??{}).reduce((s,o)=>{const i=(e==null?void 0:e.type.props[o]).default;return i!==void 0&&(s[o]=i),s},{}),r=Kg(t);return z(()=>{const s={},o=(e==null?void 0:e.vnode.props)??{};return Object.keys(o).forEach(i=>{s[Pt(i)]=o[i]}),Object.keys({...n,...s}).reduce((i,a)=>(r.value[a]!==void 0&&(i[a]=r.value[a]),i),{})})}function ss(t,e){const n=on(t),r=e?TS(e):{};return z(()=>({...n.value,...r}))}const kS=Z({__name:"Teleport",props:{to:{default:"body"},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=vS();return(n,r)=>E(e)||n.forceMount?(K(),ee(Fw,{key:0,to:n.to,disabled:n.disabled,defer:n.defer},[he(n.$slots,"default")],8,["to","disabled","defer"])):Yn("",!0)}});function kv(t,e,n){const r=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),r.dispatchEvent(s)}const OS="dismissableLayer.pointerDownOutside",RS="dismissableLayer.focusOutside";function Ov(t,e){const n=e.closest("[data-dismissable-layer]"),r=t.dataset.dismissableLayer===""?t:t.querySelector("[data-dismissable-layer]"),s=Array.from(t.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(n&&r===n||s.indexOf(r)<s.indexOf(n))}function $S(t,e){var o;const n=((o=e==null?void 0:e.value)==null?void 0:o.ownerDocument)??(globalThis==null?void 0:globalThis.document),r=te(!1),s=te(()=>{});return En(i=>{if(!xr)return;const a=async c=>{const u=c.target;if(e!=null&&e.value){if(Ov(e.value,u)){r.value=!1;return}if(c.target&&!r.value){let f=function(){kv(OS,t,d)};const d={originalEvent:c};c.pointerType==="touch"?(n.removeEventListener("click",s.value),s.value=f,n.addEventListener("click",s.value,{once:!0})):f()}else n.removeEventListener("click",s.value);r.value=!1}},l=window.setTimeout(()=>{n.addEventListener("pointerdown",a)},0);i(()=>{window.clearTimeout(l),n.removeEventListener("pointerdown",a),n.removeEventListener("click",s.value)})}),{onPointerDownCapture:()=>r.value=!0}}function PS(t,e){var s;const n=((s=e==null?void 0:e.value)==null?void 0:s.ownerDocument)??(globalThis==null?void 0:globalThis.document),r=te(!1);return En(o=>{if(!xr)return;const i=async a=>{e!=null&&e.value&&(await Dt(),await Dt(),!(!e.value||Ov(e.value,a.target))&&a.target&&!r.value&&kv(RS,t,{originalEvent:a}))};n.addEventListener("focusin",i),o(()=>n.removeEventListener("focusin",i))}),{onFocusCapture:()=>r.value=!0,onBlurCapture:()=>r.value=!1}}const Mn=en({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DS=Z({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(t,{emit:e}){const n=t,r=e,{forwardRef:s,currentElement:o}=Tn(),i=z(()=>{var m;return((m=o.value)==null?void 0:m.ownerDocument)??globalThis.document}),a=z(()=>Mn.layersRoot),l=z(()=>o.value?Array.from(a.value).indexOf(o.value):-1),c=z(()=>Mn.layersWithOutsidePointerEventsDisabled.size>0),u=z(()=>{const m=Array.from(a.value),[p]=[...Mn.layersWithOutsidePointerEventsDisabled].slice(-1),C=m.indexOf(p);return l.value>=C}),f=$S(async m=>{const p=[...Mn.branches].some(C=>C==null?void 0:C.contains(m.target));!u.value||p||(r("pointerDownOutside",m),r("interactOutside",m),await Dt(),m.defaultPrevented||r("dismiss"))},o),d=PS(m=>{[...Mn.branches].some(C=>C==null?void 0:C.contains(m.target))||(r("focusOutside",m),r("interactOutside",m),m.defaultPrevented||r("dismiss"))},o);_S("Escape",m=>{l.value===a.value.size-1&&(r("escapeKeyDown",m),m.defaultPrevented||r("dismiss"))});let h;return En(m=>{o.value&&(n.disableOutsidePointerEvents&&(Mn.layersWithOutsidePointerEventsDisabled.size===0&&(h=i.value.body.style.pointerEvents,i.value.body.style.pointerEvents="none"),Mn.layersWithOutsidePointerEventsDisabled.add(o.value)),a.value.add(o.value),m(()=>{n.disableOutsidePointerEvents&&Mn.layersWithOutsidePointerEventsDisabled.size===1&&(i.value.body.style.pointerEvents=h)}))}),En(m=>{m(()=>{o.value&&(a.value.delete(o.value),Mn.layersWithOutsidePointerEventsDisabled.delete(o.value))})}),(m,p)=>(K(),ee(E(Ye),{ref:E(s),"as-child":m.asChild,as:m.as,"data-dismissable-layer":"",style:Zs({pointerEvents:c.value?u.value?"auto":"none":void 0}),onFocusCapture:E(d).onFocusCapture,onBlurCapture:E(d).onBlurCapture,onPointerdownCapture:E(f).onPointerDownCapture},{default:W(()=>[he(m.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}});function pr(){let t=document.activeElement;if(t==null)return null;for(;t!=null&&t.shadowRoot!=null&&t.shadowRoot.activeElement!=null;)t=t.shadowRoot.activeElement;return t}const yc="focusScope.autoFocusOnMount",vc="focusScope.autoFocusOnUnmount",$p={bubbles:!1,cancelable:!0};function MS(t,{select:e=!1}={}){const n=pr();for(const r of t)if(ir(r,{select:e}),pr()!==n)return!0}function IS(t){const e=Rv(t),n=Pp(e,t),r=Pp(e.reverse(),t);return[n,r]}function Rv(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Pp(t,e){for(const n of t)if(!FS(n,{upTo:e}))return n}function FS(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function NS(t){return t instanceof HTMLInputElement&&"select"in t}function ir(t,{select:e=!1}={}){if(t&&t.focus){const n=pr();t.focus({preventScroll:!0}),t!==n&&NS(t)&&e&&t.select()}}const LS=oS(()=>te([]));function BS(){const t=LS();return{add(e){const n=t.value[0];e!==n&&(n==null||n.pause()),t.value=Dp(t.value,e),t.value.unshift(e)},remove(e){var n;t.value=Dp(t.value,e),(n=t.value[0])==null||n.resume()}}}function Dp(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function US(t){return t.filter(e=>e.tagName!=="A")}const jS=Z({__name:"FocusScope",props:{loop:{type:Boolean,default:!1},trapped:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["mountAutoFocus","unmountAutoFocus"],setup(t,{emit:e}){const n=t,r=e,{currentRef:s,currentElement:o}=Tn(),i=te(null),a=BS(),l=en({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});En(u=>{if(!xr)return;const f=o.value;if(!n.trapped)return;function d(C){if(l.paused||!f)return;const b=C.target;f.contains(b)?i.value=b:ir(i.value,{select:!0})}function h(C){if(l.paused||!f)return;const b=C.relatedTarget;b!==null&&(f.contains(b)||ir(i.value,{select:!0}))}function m(C){f.contains(i.value)||ir(f)}document.addEventListener("focusin",d),document.addEventListener("focusout",h);const p=new MutationObserver(m);f&&p.observe(f,{childList:!0,subtree:!0}),u(()=>{document.removeEventListener("focusin",d),document.removeEventListener("focusout",h),p.disconnect()})}),En(async u=>{const f=o.value;if(await Dt(),!f)return;a.add(l);const d=pr();if(!f.contains(d)){const m=new CustomEvent(yc,$p);f.addEventListener(yc,p=>r("mountAutoFocus",p)),f.dispatchEvent(m),m.defaultPrevented||(MS(US(Rv(f)),{select:!0}),pr()===d&&ir(f))}u(()=>{f.removeEventListener(yc,C=>r("mountAutoFocus",C));const m=new CustomEvent(vc,$p),p=C=>{r("unmountAutoFocus",C)};f.addEventListener(vc,p),f.dispatchEvent(m),setTimeout(()=>{m.defaultPrevented||ir(d??document.body,{select:!0}),f.removeEventListener(vc,p),a.remove(l)},0)})});function c(u){if(!n.loop&&!n.trapped||l.paused)return;const f=u.key==="Tab"&&!u.altKey&&!u.ctrlKey&&!u.metaKey,d=pr();if(f&&d){const h=u.currentTarget,[m,p]=IS(h);m&&p?!u.shiftKey&&d===p?(u.preventDefault(),n.loop&&ir(m,{select:!0})):u.shiftKey&&d===m&&(u.preventDefault(),n.loop&&ir(p,{select:!0})):d===h&&u.preventDefault()}}return(u,f)=>(K(),ee(E(Ye),{ref_key:"currentRef",ref:s,tabindex:"-1","as-child":u.asChild,as:u.as,onKeydown:c},{default:W(()=>[he(u.$slots,"default")]),_:3},8,["as-child","as"]))}});var VS=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},hs=new WeakMap,Wi=new WeakMap,Ki={},bc=0,$v=function(t){return t&&(t.host||$v(t.parentNode))},HS=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=$v(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},zS=function(t,e,n,r){var s=HS(e,Array.isArray(t)?t:[t]);Ki[n]||(Ki[n]=new WeakMap);var o=Ki[n],i=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(d){if(a.has(d))u(d);else try{var h=d.getAttribute(r),m=h!==null&&h!=="false",p=(hs.get(d)||0)+1,C=(o.get(d)||0)+1;hs.set(d,p),o.set(d,C),i.push(d),p===1&&m&&Wi.set(d,!0),C===1&&d.setAttribute(n,"true"),m||d.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",d,b)}})};return u(e),a.clear(),bc++,function(){i.forEach(function(f){var d=hs.get(f)-1,h=o.get(f)-1;hs.set(f,d),o.set(f,h),d||(Wi.has(f)||f.removeAttribute(r),Wi.delete(f)),h||f.removeAttribute(n)}),bc--,bc||(hs=new WeakMap,hs=new WeakMap,Wi=new WeakMap,Ki={})}},WS=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=VS(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),zS(r,s,n,"aria-hidden")):function(){return null}};function KS(t){let e;Pe(()=>rs(t),n=>{n?e=WS(n):e&&e()}),to(()=>{e&&e()})}function _c(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function Mu(t,e,n=".",r){if(!_c(e))return Mu(t,{},n,r);const s=Object.assign({},e);for(const o in t){if(o==="__proto__"||o==="constructor")continue;const i=t[o];i!=null&&(r&&r(s,o,i,n)||(Array.isArray(i)&&Array.isArray(s[o])?s[o]=[...i,...s[o]]:_c(i)&&_c(s[o])?s[o]=Mu(i,s[o],(n?`${n}.`:"")+o.toString(),r):s[o]=i))}return s}function YS(t){return(...e)=>e.reduce((n,r)=>Mu(n,r,"",t),{})}const qS=YS(),GS=iS(()=>{const t=te(new Map),e=te(),n=z(()=>{for(const i of t.value.values())if(i)return!0;return!1}),r=kl({scrollBody:te(!0)});let s=null;const o=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.body.style.removeProperty("--scrollbar-width"),document.body.style.overflow=e.value??"",kp&&(s==null||s()),e.value=void 0};return Pe(n,(i,a)=>{var f;if(!xr)return;if(!i){a&&o();return}e.value===void 0&&(e.value=document.body.style.overflow);const l=window.innerWidth-document.documentElement.clientWidth,c={padding:l,margin:0},u=(f=r.scrollBody)!=null&&f.value?typeof r.scrollBody.value=="object"?qS({padding:r.scrollBody.value.padding===!0?l:r.scrollBody.value.padding,margin:r.scrollBody.value.margin===!0?l:r.scrollBody.value.margin},c):c:{padding:0,margin:0};l>0&&(document.body.style.paddingRight=typeof u.padding=="number"?`${u.padding}px`:String(u.padding),document.body.style.marginRight=typeof u.margin=="number"?`${u.margin}px`:String(u.margin),document.body.style.setProperty("--scrollbar-width",`${l}px`),document.body.style.overflow="hidden"),kp&&(s=Av(document,"touchmove",d=>XS(d),{passive:!1})),Dt(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),t});function JS(t){const e=Math.random().toString(36).substring(2,7),n=GS();n.value.set(e,t);const r=z({get:()=>n.value.get(e)??!1,set:s=>n.value.set(e,s)});return gS(()=>{n.value.delete(e)}),r}function Pv(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientWidth<t.scrollWidth||e.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const n=t.parentNode;return!(n instanceof Element)||n.tagName==="BODY"?!1:Pv(n)}}function XS(t){const e=t||window.event,n=e.target;return n instanceof Element&&Pv(n)?!1:e.touches.length>1?!0:(e.preventDefault&&e.cancelable&&e.preventDefault(),!1)}function Is(t,e){return t-e*Math.floor(t/e)}const Dv=1721426;function jr(t,e,n,r){e=gi(t,e);let s=e-1,o=-2;return n<=2?o=0:dr(e)&&(o=-1),Dv-1+365*s+Math.floor(s/4)-Math.floor(s/100)+Math.floor(s/400)+Math.floor((367*n-362)/12+o+r)}function dr(t){return t%4===0&&(t%100!==0||t%400===0)}function gi(t,e){return t==="BC"?1-e:e}function Ol(t){let e="AD";return t<=0&&(e="BC",t=1-t),[e,t]}const QS={standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]};class sn{fromJulianDay(e){let n=e,r=n-Dv,s=Math.floor(r/146097),o=Is(r,146097),i=Math.floor(o/36524),a=Is(o,36524),l=Math.floor(a/1461),c=Is(a,1461),u=Math.floor(c/365),f=s*400+i*100+l*4+u+(i!==4&&u!==4?1:0),[d,h]=Ol(f),m=n-jr(d,h,1,1),p=2;n<jr(d,h,3,1)?p=0:dr(h)&&(p=1);let C=Math.floor(((m+p)*12+373)/367),b=n-jr(d,h,C,1)+1;return new nt(d,h,C,b)}toJulianDay(e){return jr(e.era,e.year,e.month,e.day)}getDaysInMonth(e){return QS[dr(e.year)?"leapyear":"standard"][e.month-1]}getMonthsInYear(e){return 12}getDaysInYear(e){return dr(e.year)?366:365}getYearsInEra(e){return 9999}getEras(){return["BC","AD"]}isInverseEra(e){return e.era==="BC"}balanceDate(e){e.year<=0&&(e.era=e.era==="BC"?"AD":"BC",e.year=1-e.year)}constructor(){this.identifier="gregory"}}const ZS={"001":1,AD:1,AE:6,AF:6,AI:1,AL:1,AM:1,AN:1,AR:1,AT:1,AU:1,AX:1,AZ:1,BA:1,BE:1,BG:1,BH:6,BM:1,BN:1,BY:1,CH:1,CL:1,CM:1,CN:1,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DZ:6,EC:1,EE:1,EG:6,ES:1,FI:1,FJ:1,FO:1,FR:1,GB:1,GE:1,GF:1,GP:1,GR:1,HR:1,HU:1,IE:1,IQ:6,IR:6,IS:1,IT:1,JO:6,KG:1,KW:6,KZ:1,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MK:1,MN:1,MQ:1,MV:5,MY:1,NL:1,NO:1,NZ:1,OM:6,PL:1,QA:6,RE:1,RO:1,RS:1,RU:1,SD:6,SE:1,SI:1,SK:1,SM:1,SY:6,TJ:1,TM:1,TR:1,UA:1,UY:1,UZ:1,VA:1,VN:1,XK:1};function Gr(t,e){return e=$t(e,t.calendar),t.era===e.era&&t.year===e.year&&t.month===e.month&&t.day===e.day}function Mv(t,e){return e=$t(e,t.calendar),t=Iu(t),e=Iu(e),t.era===e.era&&t.year===e.year&&t.month===e.month}function wc(t,e){return Kf(t.calendar,e.calendar)&&Gr(t,e)}function Mp(t,e){return Kf(t.calendar,e.calendar)&&Mv(t,e)}function Kf(t,e){var n,r,s,o;return(o=(s=(n=t.isEqual)===null||n===void 0?void 0:n.call(t,e))!==null&&s!==void 0?s:(r=e.isEqual)===null||r===void 0?void 0:r.call(e,t))!==null&&o!==void 0?o:t.identifier===e.identifier}function eA(t,e){return Gr(t,Fv(e))}function Iv(t,e,n){let r=t.calendar.toJulianDay(t),s=sA(e),o=Math.ceil(r+1-s)%7;return o<0&&(o+=7),o}function tA(t){return Vn(Date.now(),t)}function Fv(t){return aA(tA(t))}function Nv(t,e){return t.calendar.toJulianDay(t)-e.calendar.toJulianDay(e)}function nA(t,e){return Ip(t)-Ip(e)}function Ip(t){return t.hour*36e5+t.minute*6e4+t.second*1e3+t.millisecond}let Cc=null;function yi(){return Cc==null&&(Cc=new Intl.DateTimeFormat().resolvedOptions().timeZone),Cc}function Iu(t){return t.subtract({days:t.day-1})}function Fp(t){return t.add({days:t.calendar.getDaysInMonth(t)-t.day})}const Np=new Map;function rA(t){if(Intl.Locale){let n=Np.get(t);return n||(n=new Intl.Locale(t).maximize().region,n&&Np.set(t,n)),n}let e=t.split("-")[1];return e==="u"?void 0:e}function sA(t){let e=rA(t);return e&&ZS[e]||0}function Ys(t){t=$t(t,new sn);let e=gi(t.era,t.year);return Lv(e,t.month,t.day,t.hour,t.minute,t.second,t.millisecond)}function Lv(t,e,n,r,s,o,i){let a=new Date;return a.setUTCHours(r,s,o,i),a.setUTCFullYear(t,e-1,n),a.getTime()}function Fu(t,e){if(e==="UTC")return 0;if(t>0&&e===yi())return new Date(t).getTimezoneOffset()*-6e4;let{year:n,month:r,day:s,hour:o,minute:i,second:a}=Bv(t,e);return Lv(n,r,s,o,i,a,0)-Math.floor(t/1e3)*1e3}const Lp=new Map;function Bv(t,e){let n=Lp.get(e);n||(n=new Intl.DateTimeFormat("en-US",{timeZone:e,hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),Lp.set(e,n));let r=n.formatToParts(new Date(t)),s={};for(let o of r)o.type!=="literal"&&(s[o.type]=o.value);return{year:s.era==="BC"||s.era==="B"?-s.year+1:+s.year,month:+s.month,day:+s.day,hour:s.hour==="24"?0:+s.hour,minute:+s.minute,second:+s.second}}const Bp=864e5;function oA(t,e,n,r){return(n===r?[n]:[n,r]).filter(o=>iA(t,e,o))}function iA(t,e,n){let r=Bv(n,e);return t.year===r.year&&t.month===r.month&&t.day===r.day&&t.hour===r.hour&&t.minute===r.minute&&t.second===r.second}function jn(t,e,n="compatible"){let r=qs(t);if(e==="UTC")return Ys(r);if(e===yi()&&n==="compatible"){r=$t(r,new sn);let l=new Date,c=gi(r.era,r.year);return l.setFullYear(c,r.month-1,r.day),l.setHours(r.hour,r.minute,r.second,r.millisecond),l.getTime()}let s=Ys(r),o=Fu(s-Bp,e),i=Fu(s+Bp,e),a=oA(r,e,s-o,s-i);if(a.length===1)return a[0];if(a.length>1)switch(n){case"compatible":case"earlier":return a[0];case"later":return a[a.length-1];case"reject":throw new RangeError("Multiple possible absolute times found")}switch(n){case"earlier":return Math.min(s-o,s-i);case"compatible":case"later":return Math.max(s-o,s-i);case"reject":throw new RangeError("No such absolute time found")}}function Uv(t,e,n="compatible"){return new Date(jn(t,e,n))}function Vn(t,e){let n=Fu(t,e),r=new Date(t+n),s=r.getUTCFullYear(),o=r.getUTCMonth()+1,i=r.getUTCDate(),a=r.getUTCHours(),l=r.getUTCMinutes(),c=r.getUTCSeconds(),u=r.getUTCMilliseconds();return new Js(s<1?"BC":"AD",s<1?-s+1:s,o,i,e,n,a,l,c,u)}function aA(t){return new nt(t.calendar,t.era,t.year,t.month,t.day)}function qs(t,e){let n=0,r=0,s=0,o=0;if("timeZone"in t)({hour:n,minute:r,second:s,millisecond:o}=t);else if("hour"in t&&!e)return t;return e&&({hour:n,minute:r,second:s,millisecond:o}=e),new Gs(t.calendar,t.era,t.year,t.month,t.day,n,r,s,o)}function $t(t,e){if(Kf(t.calendar,e))return t;let n=e.fromJulianDay(t.calendar.toJulianDay(t)),r=t.copy();return r.calendar=e,r.era=n.era,r.year=n.year,r.month=n.month,r.day=n.day,Jr(r),r}function lA(t,e,n){if(t instanceof Js)return t.timeZone===e?t:uA(t,e);let r=jn(t,e,n);return Vn(r,e)}function cA(t){let e=Ys(t)-t.offset;return new Date(e)}function uA(t,e){let n=Ys(t)-t.offset;return $t(Vn(n,e),t.calendar)}const wo=36e5;function Rl(t,e){let n=t.copy(),r="hour"in n?pA(n,e):0;Nu(n,e.years||0),n.calendar.balanceYearMonth&&n.calendar.balanceYearMonth(n,t),n.month+=e.months||0,Lu(n),jv(n),n.day+=(e.weeks||0)*7,n.day+=e.days||0,n.day+=r,fA(n),n.calendar.balanceDate&&n.calendar.balanceDate(n),n.year<1&&(n.year=1,n.month=1,n.day=1);let s=n.calendar.getYearsInEra(n);if(n.year>s){var o,i;let l=(o=(i=n.calendar).isInverseEra)===null||o===void 0?void 0:o.call(i,n);n.year=s,n.month=l?1:n.calendar.getMonthsInYear(n),n.day=l?1:n.calendar.getDaysInMonth(n)}n.month<1&&(n.month=1,n.day=1);let a=n.calendar.getMonthsInYear(n);return n.month>a&&(n.month=a,n.day=n.calendar.getDaysInMonth(n)),n.day=Math.max(1,Math.min(n.calendar.getDaysInMonth(n),n.day)),n}function Nu(t,e){var n,r;!((n=(r=t.calendar).isInverseEra)===null||n===void 0)&&n.call(r,t)&&(e=-e),t.year+=e}function Lu(t){for(;t.month<1;)Nu(t,-1),t.month+=t.calendar.getMonthsInYear(t);let e=0;for(;t.month>(e=t.calendar.getMonthsInYear(t));)t.month-=e,Nu(t,1)}function fA(t){for(;t.day<1;)t.month--,Lu(t),t.day+=t.calendar.getDaysInMonth(t);for(;t.day>t.calendar.getDaysInMonth(t);)t.day-=t.calendar.getDaysInMonth(t),t.month++,Lu(t)}function jv(t){t.month=Math.max(1,Math.min(t.calendar.getMonthsInYear(t),t.month)),t.day=Math.max(1,Math.min(t.calendar.getDaysInMonth(t),t.day))}function Jr(t){t.calendar.constrainDate&&t.calendar.constrainDate(t),t.year=Math.max(1,Math.min(t.calendar.getYearsInEra(t),t.year)),jv(t)}function Vv(t){let e={};for(let n in t)typeof t[n]=="number"&&(e[n]=-t[n]);return e}function Hv(t,e){return Rl(t,Vv(e))}function Yf(t,e){let n=t.copy();return e.era!=null&&(n.era=e.era),e.year!=null&&(n.year=e.year),e.month!=null&&(n.month=e.month),e.day!=null&&(n.day=e.day),Jr(n),n}function Va(t,e){let n=t.copy();return e.hour!=null&&(n.hour=e.hour),e.minute!=null&&(n.minute=e.minute),e.second!=null&&(n.second=e.second),e.millisecond!=null&&(n.millisecond=e.millisecond),hA(n),n}function dA(t){t.second+=Math.floor(t.millisecond/1e3),t.millisecond=Yi(t.millisecond,1e3),t.minute+=Math.floor(t.second/60),t.second=Yi(t.second,60),t.hour+=Math.floor(t.minute/60),t.minute=Yi(t.minute,60);let e=Math.floor(t.hour/24);return t.hour=Yi(t.hour,24),e}function hA(t){t.millisecond=Math.max(0,Math.min(t.millisecond,1e3)),t.second=Math.max(0,Math.min(t.second,59)),t.minute=Math.max(0,Math.min(t.minute,59)),t.hour=Math.max(0,Math.min(t.hour,23))}function Yi(t,e){let n=t%e;return n<0&&(n+=e),n}function pA(t,e){return t.hour+=e.hours||0,t.minute+=e.minutes||0,t.second+=e.seconds||0,t.millisecond+=e.milliseconds||0,dA(t)}function qf(t,e,n,r){let s=t.copy();switch(e){case"era":{let a=t.calendar.getEras(),l=a.indexOf(t.era);if(l<0)throw new Error("Invalid era: "+t.era);l=Hn(l,n,0,a.length-1,r==null?void 0:r.round),s.era=a[l],Jr(s);break}case"year":var o,i;!((o=(i=s.calendar).isInverseEra)===null||o===void 0)&&o.call(i,s)&&(n=-n),s.year=Hn(t.year,n,-1/0,9999,r==null?void 0:r.round),s.year===-1/0&&(s.year=1),s.calendar.balanceYearMonth&&s.calendar.balanceYearMonth(s,t);break;case"month":s.month=Hn(t.month,n,1,t.calendar.getMonthsInYear(t),r==null?void 0:r.round);break;case"day":s.day=Hn(t.day,n,1,t.calendar.getDaysInMonth(t),r==null?void 0:r.round);break;default:throw new Error("Unsupported field "+e)}return t.calendar.balanceDate&&t.calendar.balanceDate(s),Jr(s),s}function zv(t,e,n,r){let s=t.copy();switch(e){case"hour":{let o=t.hour,i=0,a=23;if((r==null?void 0:r.hourCycle)===12){let l=o>=12;i=l?12:0,a=l?23:11}s.hour=Hn(o,n,i,a,r==null?void 0:r.round);break}case"minute":s.minute=Hn(t.minute,n,0,59,r==null?void 0:r.round);break;case"second":s.second=Hn(t.second,n,0,59,r==null?void 0:r.round);break;case"millisecond":s.millisecond=Hn(t.millisecond,n,0,999,r==null?void 0:r.round);break;default:throw new Error("Unsupported field "+e)}return s}function Hn(t,e,n,r,s=!1){if(s){t+=Math.sign(e),t<n&&(t=r);let o=Math.abs(e);e>0?t=Math.ceil(t/o)*o:t=Math.floor(t/o)*o,t>r&&(t=n)}else t+=e,t<n?t=r-(n-t-1):t>r&&(t=n+(t-r-1));return t}function Wv(t,e){let n;if(e.years!=null&&e.years!==0||e.months!=null&&e.months!==0||e.weeks!=null&&e.weeks!==0||e.days!=null&&e.days!==0){let s=Rl(qs(t),{years:e.years,months:e.months,weeks:e.weeks,days:e.days});n=jn(s,t.timeZone)}else n=Ys(t)-t.offset;n+=e.milliseconds||0,n+=(e.seconds||0)*1e3,n+=(e.minutes||0)*6e4,n+=(e.hours||0)*36e5;let r=Vn(n,t.timeZone);return $t(r,t.calendar)}function mA(t,e){return Wv(t,Vv(e))}function gA(t,e,n,r){switch(e){case"hour":{let s=0,o=23;if((r==null?void 0:r.hourCycle)===12){let m=t.hour>=12;s=m?12:0,o=m?23:11}let i=qs(t),a=$t(Va(i,{hour:s}),new sn),l=[jn(a,t.timeZone,"earlier"),jn(a,t.timeZone,"later")].filter(m=>Vn(m,t.timeZone).day===a.day)[0],c=$t(Va(i,{hour:o}),new sn),u=[jn(c,t.timeZone,"earlier"),jn(c,t.timeZone,"later")].filter(m=>Vn(m,t.timeZone).day===c.day).pop(),f=Ys(t)-t.offset,d=Math.floor(f/wo),h=f%wo;return f=Hn(d,n,Math.floor(l/wo),Math.floor(u/wo),r==null?void 0:r.round)*wo+h,$t(Vn(f,t.timeZone),t.calendar)}case"minute":case"second":case"millisecond":return zv(t,e,n,r);case"era":case"year":case"month":case"day":{let s=qf(qs(t),e,n,r),o=jn(s,t.timeZone);return $t(Vn(o,t.timeZone),t.calendar)}default:throw new Error("Unsupported field "+e)}}function yA(t,e,n){let r=qs(t),s=Va(Yf(r,e),e);if(s.compare(r)===0)return t;let o=jn(s,t.timeZone,n);return $t(Vn(o,t.timeZone),t.calendar)}function vA(t){return`${String(t.hour).padStart(2,"0")}:${String(t.minute).padStart(2,"0")}:${String(t.second).padStart(2,"0")}${t.millisecond?String(t.millisecond/1e3).slice(1):""}`}function Kv(t){let e=$t(t,new sn),n;return e.era==="BC"?n=e.year===1?"0000":"-"+String(Math.abs(1-e.year)).padStart(6,"00"):n=String(e.year).padStart(4,"0"),`${n}-${String(e.month).padStart(2,"0")}-${String(e.day).padStart(2,"0")}`}function Yv(t){return`${Kv(t)}T${vA(t)}`}function bA(t){let e=Math.sign(t)<0?"-":"+";t=Math.abs(t);let n=Math.floor(t/36e5),r=t%36e5/6e4;return`${e}${String(n).padStart(2,"0")}:${String(r).padStart(2,"0")}`}function _A(t){return`${Yv(t)}${bA(t.offset)}[${t.timeZone}]`}function wA(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Gf(t,e,n){wA(t,e),e.set(t,n)}function Jf(t){let e=typeof t[0]=="object"?t.shift():new sn,n;if(typeof t[0]=="string")n=t.shift();else{let i=e.getEras();n=i[i.length-1]}let r=t.shift(),s=t.shift(),o=t.shift();return[e,n,r,s,o]}var CA=new WeakMap;class nt{copy(){return this.era?new nt(this.calendar,this.era,this.year,this.month,this.day):new nt(this.calendar,this.year,this.month,this.day)}add(e){return Rl(this,e)}subtract(e){return Hv(this,e)}set(e){return Yf(this,e)}cycle(e,n,r){return qf(this,e,n,r)}toDate(e){return Uv(this,e)}toString(){return Kv(this)}compare(e){return Nv(this,e)}constructor(...e){Gf(this,CA,{writable:!0,value:void 0});let[n,r,s,o,i]=Jf(e);this.calendar=n,this.era=r,this.year=s,this.month=o,this.day=i,Jr(this)}}var xA=new WeakMap;class Gs{copy(){return this.era?new Gs(this.calendar,this.era,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond):new Gs(this.calendar,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond)}add(e){return Rl(this,e)}subtract(e){return Hv(this,e)}set(e){return Yf(Va(this,e),e)}cycle(e,n,r){switch(e){case"era":case"year":case"month":case"day":return qf(this,e,n,r);default:return zv(this,e,n,r)}}toDate(e,n){return Uv(this,e,n)}toString(){return Yv(this)}compare(e){let n=Nv(this,e);return n===0?nA(this,qs(e)):n}constructor(...e){Gf(this,xA,{writable:!0,value:void 0});let[n,r,s,o,i]=Jf(e);this.calendar=n,this.era=r,this.year=s,this.month=o,this.day=i,this.hour=e.shift()||0,this.minute=e.shift()||0,this.second=e.shift()||0,this.millisecond=e.shift()||0,Jr(this)}}var EA=new WeakMap;class Js{copy(){return this.era?new Js(this.calendar,this.era,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond):new Js(this.calendar,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond)}add(e){return Wv(this,e)}subtract(e){return mA(this,e)}set(e,n){return yA(this,e,n)}cycle(e,n,r){return gA(this,e,n,r)}toDate(){return cA(this)}toString(){return _A(this)}toAbsoluteString(){return this.toDate().toISOString()}compare(e){return this.toDate().getTime()-lA(e,this.timeZone).toDate().getTime()}constructor(...e){Gf(this,EA,{writable:!0,value:void 0});let[n,r,s,o,i]=Jf(e),a=e.shift(),l=e.shift();this.calendar=n,this.era=r,this.year=s,this.month=o,this.day=i,this.timeZone=a,this.offset=l,this.hour=e.shift()||0,this.minute=e.shift()||0,this.second=e.shift()||0,this.millisecond=e.shift()||0,Jr(this)}}const Fs=[[1868,9,8],[1912,7,30],[1926,12,25],[1989,1,8],[2019,5,1]],SA=[[1912,7,29],[1926,12,24],[1989,1,7],[2019,4,30]],ha=[1867,1911,1925,1988,2018],ur=["meiji","taisho","showa","heisei","reiwa"];function Up(t){const e=Fs.findIndex(([n,r,s])=>t.year<n||t.year===n&&t.month<r||t.year===n&&t.month===r&&t.day<s);return e===-1?Fs.length-1:e===0?0:e-1}function xc(t){let e=ha[ur.indexOf(t.era)];if(!e)throw new Error("Unknown era: "+t.era);return new nt(t.year+e,t.month,t.day)}class AA extends sn{fromJulianDay(e){let n=super.fromJulianDay(e),r=Up(n);return new nt(this,ur[r],n.year-ha[r],n.month,n.day)}toJulianDay(e){return super.toJulianDay(xc(e))}balanceDate(e){let n=xc(e),r=Up(n);ur[r]!==e.era&&(e.era=ur[r],e.year=n.year-ha[r]),this.constrainDate(e)}constrainDate(e){let n=ur.indexOf(e.era),r=SA[n];if(r!=null){let[s,o,i]=r,a=s-ha[n];e.year=Math.max(1,Math.min(a,e.year)),e.year===a&&(e.month=Math.min(o,e.month),e.month===o&&(e.day=Math.min(i,e.day)))}if(e.year===1&&n>=0){let[,s,o]=Fs[n];e.month=Math.max(s,e.month),e.month===s&&(e.day=Math.max(o,e.day))}}getEras(){return ur}getYearsInEra(e){let n=ur.indexOf(e.era),r=Fs[n],s=Fs[n+1];if(s==null)return 9999-r[0]+1;let o=s[0]-r[0];return(e.month<s[1]||e.month===s[1]&&e.day<s[2])&&o++,o}getDaysInMonth(e){return super.getDaysInMonth(xc(e))}getMinimumMonthInYear(e){let n=jp(e);return n?n[1]:1}getMinimumDayInMonth(e){let n=jp(e);return n&&e.month===n[1]?n[2]:1}constructor(...e){super(...e),this.identifier="japanese"}}function jp(t){if(t.year===1){let e=ur.indexOf(t.era);return Fs[e]}}const qv=-543;class TA extends sn{fromJulianDay(e){let n=super.fromJulianDay(e),r=gi(n.era,n.year);return new nt(this,r-qv,n.month,n.day)}toJulianDay(e){return super.toJulianDay(Vp(e))}getEras(){return["BE"]}getDaysInMonth(e){return super.getDaysInMonth(Vp(e))}balanceDate(){}constructor(...e){super(...e),this.identifier="buddhist"}}function Vp(t){let[e,n]=Ol(t.year+qv);return new nt(e,n,t.month,t.day)}const Ha=1911;function Gv(t){return t.era==="minguo"?t.year+Ha:1-t.year+Ha}function Hp(t){let e=t-Ha;return e>0?["minguo",e]:["before_minguo",1-e]}class kA extends sn{fromJulianDay(e){let n=super.fromJulianDay(e),r=gi(n.era,n.year),[s,o]=Hp(r);return new nt(this,s,o,n.month,n.day)}toJulianDay(e){return super.toJulianDay(zp(e))}getEras(){return["before_minguo","minguo"]}balanceDate(e){let[n,r]=Hp(Gv(e));e.era=n,e.year=r}isInverseEra(e){return e.era==="before_minguo"}getDaysInMonth(e){return super.getDaysInMonth(zp(e))}getYearsInEra(e){return e.era==="before_minguo"?9999:9999-Ha}constructor(...e){super(...e),this.identifier="roc"}}function zp(t){let[e,n]=Ol(Gv(t));return new nt(e,n,t.month,t.day)}const Wp=1948320,Kp=[0,31,62,93,124,155,186,216,246,276,306,336];class OA{fromJulianDay(e){let n=e-Wp,r=1+Math.floor((33*n+3)/12053),s=365*(r-1)+Math.floor((8*r+21)/33),o=n-s,i=o<216?Math.floor(o/31):Math.floor((o-6)/30),a=o-Kp[i]+1;return new nt(this,r,i+1,a)}toJulianDay(e){let n=Wp-1+365*(e.year-1)+Math.floor((8*e.year+21)/33);return n+=Kp[e.month-1],n+=e.day,n}getMonthsInYear(){return 12}getDaysInMonth(e){return e.month<=6?31:e.month<=11||Is(25*e.year+11,33)<8?30:29}getEras(){return["AP"]}getYearsInEra(){return 9377}constructor(){this.identifier="persian"}}const Ec=78,Yp=80;class RA extends sn{fromJulianDay(e){let n=super.fromJulianDay(e),r=n.year-Ec,s=e-jr(n.era,n.year,1,1),o;s<Yp?(r--,o=dr(n.year-1)?31:30,s+=o+155+90+10):(o=dr(n.year)?31:30,s-=Yp);let i,a;if(s<o)i=1,a=s+1;else{let l=s-o;l<155?(i=Math.floor(l/31)+2,a=l%31+1):(l-=155,i=Math.floor(l/30)+7,a=l%30+1)}return new nt(this,r,i,a)}toJulianDay(e){let n=e.year+Ec,[r,s]=Ol(n),o,i;return dr(s)?(o=31,i=jr(r,s,3,21)):(o=30,i=jr(r,s,3,22)),e.month===1?i+e.day-1:(i+=o+Math.min(e.month-2,5)*31,e.month>=8&&(i+=(e.month-7)*30),i+=e.day-1,i)}getDaysInMonth(e){return e.month===1&&dr(e.year+Ec)||e.month>=2&&e.month<=6?31:30}getYearsInEra(){return 9919}getEras(){return["saka"]}balanceDate(){}constructor(...e){super(...e),this.identifier="indian"}}const za=1948440,qp=1948439,Wt=1300,ps=1600,$A=460322;function Wa(t,e,n,r){return r+Math.ceil(29.5*(n-1))+(e-1)*354+Math.floor((3+11*e)/30)+t-1}function Jv(t,e,n){let r=Math.floor((30*(n-e)+10646)/10631),s=Math.min(12,Math.ceil((n-(29+Wa(e,r,1,1)))/29.5)+1),o=n-Wa(e,r,s,1)+1;return new nt(t,r,s,o)}function Gp(t){return(14+11*t)%30<11}class Xf{fromJulianDay(e){return Jv(this,za,e)}toJulianDay(e){return Wa(za,e.year,e.month,e.day)}getDaysInMonth(e){let n=29+e.month%2;return e.month===12&&Gp(e.year)&&n++,n}getMonthsInYear(){return 12}getDaysInYear(e){return Gp(e.year)?355:354}getYearsInEra(){return 9665}getEras(){return["AH"]}constructor(){this.identifier="islamic-civil"}}class PA extends Xf{fromJulianDay(e){return Jv(this,qp,e)}toJulianDay(e){return Wa(qp,e.year,e.month,e.day)}constructor(...e){super(...e),this.identifier="islamic-tbla"}}const DA="qgpUDckO1AbqBmwDrQpVBakGkgepC9QF2gpcBS0NlQZKB1QLagutBa4ETwoXBYsGpQbVCtYCWwmdBE0KJg2VDawFtgm6AlsKKwWVCsoG6Qr0AnYJtgJWCcoKpAvSC9kF3AJtCU0FpQpSC6ULtAW2CVcFlwJLBaMGUgdlC2oFqworBZUMSg2lDcoF1gpXCasESwmlClILagt1BXYCtwhbBFUFqQW0BdoJ3QRuAjYJqgpUDbIN1QXaAlsJqwRVCkkLZAtxC7QFtQpVCiUNkg7JDtQG6QprCasEkwpJDaQNsg25CroEWworBZUKKgtVC1wFvQQ9Ah0JlQpKC1oLbQW2AjsJmwRVBqkGVAdqC2wFrQpVBSkLkgupC9QF2gpaBasKlQVJB2QHqgu1BbYCVgpNDiULUgtqC60FrgIvCZcESwalBqwG1gpdBZ0ETQoWDZUNqgW1BdoCWwmtBJUFygbkBuoK9QS2AlYJqgpUC9IL2QXqAm0JrQSVCkoLpQuyBbUJ1gSXCkcFkwZJB1ULagVrCisFiwpGDaMNygXWCtsEawJLCaUKUgtpC3UFdgG3CFsCKwVlBbQF2gntBG0BtgimClINqQ3UBdoKWwmrBFMGKQdiB6kLsgW1ClUFJQuSDckO0gbpCmsFqwRVCikNVA2qDbUJugQ7CpsETQqqCtUK2gJdCV4ELgqaDFUNsga5BroEXQotBZUKUguoC7QLuQXaAloJSgukDdEO6AZqC20FNQWVBkoNqA3UDdoGWwWdAisGFQtKC5ULqgWuCi4JjwwnBZUGqgbWCl0FnQI=";let Bu,Ns;function pa(t){return $A+Ns[t-Wt]}function Eo(t,e){let n=t-Wt,r=1<<11-(e-1);return(Bu[n]&r)===0?29:30}function Jp(t,e){let n=pa(t);for(let r=1;r<e;r++)n+=Eo(t,r);return n}function Xp(t){return Ns[t+1-Wt]-Ns[t-Wt]}class MA extends Xf{fromJulianDay(e){let n=e-za,r=pa(Wt),s=pa(ps);if(n<r||n>s)return super.fromJulianDay(e);{let o=Wt-1,i=1,a=1;for(;a>0;){o++,a=n-pa(o)+1;let l=Xp(o);if(a===l){i=12;break}else if(a<l){let c=Eo(o,i);for(i=1;a>c;)a-=c,i++,c=Eo(o,i);break}}return new nt(this,o,i,n-Jp(o,i)+1)}}toJulianDay(e){return e.year<Wt||e.year>ps?super.toJulianDay(e):za+Jp(e.year,e.month)+(e.day-1)}getDaysInMonth(e){return e.year<Wt||e.year>ps?super.getDaysInMonth(e):Eo(e.year,e.month)}getDaysInYear(e){return e.year<Wt||e.year>ps?super.getDaysInYear(e):Xp(e.year)}constructor(){if(super(),this.identifier="islamic-umalqura",Bu||(Bu=new Uint16Array(Uint8Array.from(atob(DA),e=>e.charCodeAt(0)).buffer)),!Ns){Ns=new Uint32Array(ps-Wt+1);let e=0;for(let n=Wt;n<=ps;n++){Ns[n-Wt]=e;for(let r=1;r<=12;r++)e+=Eo(n,r)}}}}const Qp=347997,Xv=1080,Qv=24*Xv,IA=29,FA=12*Xv+793,NA=IA*Qv+FA;function Nr(t){return Is(t*7+1,19)<7}function ma(t){let e=Math.floor((235*t-234)/19),n=12084+13753*e,r=e*29+Math.floor(n/25920);return Is(3*(r+1),7)<3&&(r+=1),r}function LA(t){let e=ma(t-1),n=ma(t);return ma(t+1)-n===356?2:n-e===382?1:0}function Vo(t){return ma(t)+LA(t)}function Zv(t){return Vo(t+1)-Vo(t)}function BA(t){let e=Zv(t);switch(e>380&&(e-=30),e){case 353:return 0;case 354:return 1;case 355:return 2}}function qi(t,e){if(e>=6&&!Nr(t)&&e++,e===4||e===7||e===9||e===11||e===13)return 29;let n=BA(t);return e===2?n===2?30:29:e===3?n===0?29:30:e===6?Nr(t)?30:0:30}class UA{fromJulianDay(e){let n=e-Qp,r=n*Qv/NA,s=Math.floor((19*r+234)/235)+1,o=Vo(s),i=Math.floor(n-o);for(;i<1;)s--,o=Vo(s),i=Math.floor(n-o);let a=1,l=0;for(;l<i;)l+=qi(s,a),a++;a--,l-=qi(s,a);let c=i-l;return new nt(this,s,a,c)}toJulianDay(e){let n=Vo(e.year);for(let r=1;r<e.month;r++)n+=qi(e.year,r);return n+e.day+Qp}getDaysInMonth(e){return qi(e.year,e.month)}getMonthsInYear(e){return Nr(e.year)?13:12}getDaysInYear(e){return Zv(e.year)}getYearsInEra(){return 9999}getEras(){return["AM"]}balanceYearMonth(e,n){n.year!==e.year&&(Nr(n.year)&&!Nr(e.year)&&n.month>6?e.month--:!Nr(n.year)&&Nr(e.year)&&n.month>6&&e.month++)}constructor(){this.identifier="hebrew"}}const Uu=1723856,Zp=1824665,ju=5500;function Ka(t,e,n,r){return t+365*e+Math.floor(e/4)+30*(n-1)+r-1}function Qf(t,e){let n=Math.floor(4*(e-t)/1461),r=1+Math.floor((e-Ka(t,n,1,1))/30),s=e+1-Ka(t,n,r,1);return[n,r,s]}function eb(t){return Math.floor(t%4/3)}function tb(t,e){return e%13!==0?30:eb(t)+5}class Zf{fromJulianDay(e){let[n,r,s]=Qf(Uu,e),o="AM";return n<=0&&(o="AA",n+=ju),new nt(this,o,n,r,s)}toJulianDay(e){let n=e.year;return e.era==="AA"&&(n-=ju),Ka(Uu,n,e.month,e.day)}getDaysInMonth(e){return tb(e.year,e.month)}getMonthsInYear(){return 13}getDaysInYear(e){return 365+eb(e.year)}getYearsInEra(e){return e.era==="AA"?9999:9991}getEras(){return["AA","AM"]}constructor(){this.identifier="ethiopic"}}class jA extends Zf{fromJulianDay(e){let[n,r,s]=Qf(Uu,e);return n+=ju,new nt(this,"AA",n,r,s)}getEras(){return["AA"]}getYearsInEra(){return 9999}constructor(...e){super(...e),this.identifier="ethioaa"}}class VA extends Zf{fromJulianDay(e){let[n,r,s]=Qf(Zp,e),o="CE";return n<=0&&(o="BCE",n=1-n),new nt(this,o,n,r,s)}toJulianDay(e){let n=e.year;return e.era==="BCE"&&(n=1-n),Ka(Zp,n,e.month,e.day)}getDaysInMonth(e){let n=e.year;return e.era==="BCE"&&(n=1-n),tb(n,e.month)}isInverseEra(e){return e.era==="BCE"}balanceDate(e){e.year<=0&&(e.era=e.era==="BCE"?"CE":"BCE",e.year=1-e.year)}getEras(){return["BCE","CE"]}getYearsInEra(e){return e.era==="BCE"?9999:9715}constructor(...e){super(...e),this.identifier="coptic"}}function HA(t){switch(t){case"buddhist":return new TA;case"ethiopic":return new Zf;case"ethioaa":return new jA;case"coptic":return new VA;case"hebrew":return new UA;case"indian":return new RA;case"islamic-civil":return new Xf;case"islamic-tbla":return new PA;case"islamic-umalqura":return new MA;case"japanese":return new AA;case"persian":return new OA;case"roc":return new kA;case"gregory":default:return new sn}}let Sc=new Map;class Fn{format(e){return this.formatter.format(e)}formatToParts(e){return this.formatter.formatToParts(e)}formatRange(e,n){if(typeof this.formatter.formatRange=="function")return this.formatter.formatRange(e,n);if(n<e)throw new RangeError("End date must be >= start date");return`${this.formatter.format(e)} – ${this.formatter.format(n)}`}formatRangeToParts(e,n){if(typeof this.formatter.formatRangeToParts=="function")return this.formatter.formatRangeToParts(e,n);if(n<e)throw new RangeError("End date must be >= start date");let r=this.formatter.formatToParts(e),s=this.formatter.formatToParts(n);return[...r.map(o=>({...o,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...s.map(o=>({...o,source:"endRange"}))]}resolvedOptions(){let e=this.formatter.resolvedOptions();return KA()&&(this.resolvedHourCycle||(this.resolvedHourCycle=YA(e.locale,this.options)),e.hourCycle=this.resolvedHourCycle,e.hour12=this.resolvedHourCycle==="h11"||this.resolvedHourCycle==="h12"),e.calendar==="ethiopic-amete-alem"&&(e.calendar="ethioaa"),e}constructor(e,n={}){this.formatter=nb(e,n),this.options=n}}const zA={true:{ja:"h11"},false:{}};function nb(t,e={}){if(typeof e.hour12=="boolean"&&WA()){e={...e};let s=zA[String(e.hour12)][t.split("-")[0]],o=e.hour12?"h12":"h23";e.hourCycle=s??o,delete e.hour12}let n=t+(e?Object.entries(e).sort((s,o)=>s[0]<o[0]?-1:1).join():"");if(Sc.has(n))return Sc.get(n);let r=new Intl.DateTimeFormat(t,e);return Sc.set(n,r),r}let Ac=null;function WA(){return Ac==null&&(Ac=new Intl.DateTimeFormat("en-US",{hour:"numeric",hour12:!1}).format(new Date(2020,2,3,0))==="24"),Ac}let Tc=null;function KA(){return Tc==null&&(Tc=new Intl.DateTimeFormat("fr",{hour:"numeric",hour12:!1}).resolvedOptions().hourCycle==="h12"),Tc}function YA(t,e){if(!e.timeStyle&&!e.hour)return;t=t.replace(/(-u-)?-nu-[a-zA-Z0-9]+/,""),t+=(t.includes("-u-")?"":"-u")+"-nu-latn";let n=nb(t,{...e,timeZone:void 0}),r=parseInt(n.formatToParts(new Date(2020,2,3,0)).find(o=>o.type==="hour").value,10),s=parseInt(n.formatToParts(new Date(2020,2,3,23)).find(o=>o.type==="hour").value,10);if(r===0&&s===23)return"h23";if(r===24&&s===23)return"h24";if(r===0&&s===11)return"h11";if(r===12&&s===11)return"h12";throw new Error("Unexpected hour cycle result")}function qA(t){const e=t.querySelector("[data-selected]");if(e)return e.focus();const n=t.querySelector("[data-today]");if(n)return n.focus();const r=t.querySelector("[data-reka-calendar-day]");if(r)return r.focus()}function GA(t,e){const n=[];for(let r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n}function JA(t){const{defaultValue:e,defaultPlaceholder:n,granularity:r="day",locale:s="en"}=t;if(Array.isArray(e)&&e.length)return e.at(-1).copy();if(e&&!Array.isArray(e))return e.copy();if(n)return n.copy();const o=new Date,i=o.getFullYear(),a=o.getMonth()+1,l=o.getDate(),c=["hour","minute","second"],u=new Fn(s),f=HA(u.resolvedOptions().calendar);return c.includes(r??"day")?$t(new Gs(i,a,l,0,0,0),f):$t(new nt(i,a,l),f)}function yn(t,e=yi()){return ed(t)?t.toDate():t.toDate(e)}function XA(t){return t instanceof Gs}function ed(t){return t instanceof Js}function QA(t){return XA(t)||ed(t)}function Xr(t){if(t instanceof Date){const e=t.getFullYear(),n=t.getMonth()+1;return new Date(e,n,0).getDate()}else return t.set({day:100}).day}function kc(t,e){return t.compare(e)<0}function Oc(t,e){return t.compare(e)>0}function ZA(t,e,n){const r=Iv(t,n);return e>r?t.subtract({days:r+7-e}):e===r?t:t.subtract({days:r-e})}function eT(t,e,n){const r=Iv(t,n),s=e===0?6:e-1;return r===s?t:r>s?t.add({days:7-r+s}):t.add({days:s-r})}function em(t,e){const n=[];let r=t.add({days:1});const s=e;for(;r.compare(s)<0;)n.push(r),r=r.add({days:1});return n}function Rc(t){const{dateObj:e,weekStartsOn:n,fixedWeeks:r,locale:s}=t,o=Xr(e),i=Array.from({length:o},(C,b)=>e.set({day:b+1})),a=Iu(e),l=Fp(e),c=ZA(a,n,s),u=eT(l,n,s),f=em(c.subtract({days:1}),a),d=em(l,u.add({days:1})),h=f.length+i.length+d.length;if(r&&h<42){const C=42-h;let b=d[d.length-1];b||(b=Fp(e));const _=Array.from({length:C},(y,g)=>{const S=g+1;return b.add({days:S})});d.push(..._)}const m=f.concat(i,d),p=GA(m,7);return{value:e,cells:m,rows:p}}function Pr(t){const{numberOfMonths:e,dateObj:n,...r}=t,s=[];if(!e||e===1)return s.push(Rc({...r,dateObj:n})),s;s.push(Rc({...r,dateObj:n}));for(let o=1;o<e;o++){const i=n.add({months:o});s.push(Rc({...r,dateObj:i}))}return s}function tT(t){const e=te(t);function n(){return e.value}function r(p){e.value=p}function s(p,C){return new Fn(e.value,C).format(p)}function o(p,C=!0){return QA(p)&&C?s(yn(p),{dateStyle:"long",timeStyle:"long"}):s(yn(p),{dateStyle:"long"})}function i(p,C={}){return new Fn(e.value,{month:"long",year:"numeric",...C}).format(p)}function a(p,C={}){return new Fn(e.value,{month:"long",...C}).format(p)}function l(){const p=Fv(yi());return[1,2,3,4,5,6,7,8,9,10,11,12].map(b=>({label:a(yn(p.set({month:b}))),value:b}))}function c(p,C={}){return new Fn(e.value,{year:"numeric",...C}).format(p)}function u(p,C){return ed(p)?new Fn(e.value,{...C,timeZone:p.timeZone}).formatToParts(yn(p)):new Fn(e.value,C).formatToParts(yn(p))}function f(p,C="narrow"){return new Fn(e.value,{weekday:C}).format(p)}function d(p){var _;return((_=new Fn(e.value,{hour:"numeric",minute:"numeric"}).formatToParts(p).find(y=>y.type==="dayPeriod"))==null?void 0:_.value)==="PM"?"PM":"AM"}const h={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};function m(p,C,b={}){const _={...h,...b},g=u(p,_).find(S=>S.type===C);return g?g.value:""}return{setLocale:r,getLocale:n,fullMonth:a,fullYear:c,fullMonthAndYear:i,toParts:u,custom:s,part:m,dayPeriod:d,selectedDate:o,dayOfWeek:f,getMonths:l}}function nT(t){function e(r){return Array.isArray(t.date.value)?t.date.value.some(s=>Gr(s,r)):t.date.value?Gr(t.date.value,r):!1}const n=z(()=>{var r,s,o,i;if(Array.isArray(t.date.value)){if(!t.date.value.length)return!1;for(const a of t.date.value)if((r=t.isDateDisabled)!=null&&r.call(t,a)||(s=t.isDateUnavailable)!=null&&s.call(t,a))return!0}else{if(!t.date.value)return!1;if((o=t.isDateDisabled)!=null&&o.call(t,t.date.value)||(i=t.isDateUnavailable)!=null&&i.call(t,t.date.value))return!0}return!1});return{isDateSelected:e,isInvalid:n}}function rT(t,e){const n=e(t),r=n.compare(t),s={};return r>=7&&(s.day=1),r>=Xr(t)&&(s.month=1),n.set({...s})}function sT(t,e){const n=e(t),r=t.compare(n),s={};return r>=7&&(s.day=35),r>=Xr(t)&&(s.month=13),n.set({...s})}function oT(t,e){return e(t)}function iT(t,e){return e(t)}function aT(t){const e=tT(t.locale.value),n=z(()=>{const p={calendar:t.placeholder.value.calendar.identifier};return t.placeholder.value.calendar.identifier==="gregory"&&t.placeholder.value.era==="BC"&&(p.era="short"),p}),r=te(Pr({dateObj:t.placeholder.value,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value})),s=z(()=>r.value.map(p=>p.value));function o(p){return!s.value.some(C=>Mp(p,C))}const i=p=>{if(!t.maxValue.value||!r.value.length)return!1;if(t.disabled.value)return!0;const C=r.value[r.value.length-1].value;if(!p&&!t.nextPage.value){const _=C.add({months:1}).set({day:1});return Oc(_,t.maxValue.value)}const b=rT(C,p||t.nextPage.value);return Oc(b,t.maxValue.value)},a=p=>{if(!t.minValue.value||!r.value.length)return!1;if(t.disabled.value)return!0;const C=r.value[0].value;if(!p&&!t.prevPage.value){const _=C.subtract({months:1}).set({day:35});return kc(_,t.minValue.value)}const b=sT(C,p||t.prevPage.value);return kc(b,t.minValue.value)};function l(p){var C;return!!((C=t.isDateDisabled)!=null&&C.call(t,p)||t.disabled.value||t.maxValue.value&&Oc(p,t.maxValue.value)||t.minValue.value&&kc(p,t.minValue.value))}const c=p=>{var C;return!!((C=t.isDateUnavailable)!=null&&C.call(t,p))},u=z(()=>r.value.length?r.value[0].rows[0].map(p=>e.dayOfWeek(yn(p),t.weekdayFormat.value)):[]),f=p=>{const C=r.value[0].value;if(!p&&!t.nextPage.value){const g=C.add({months:t.pagedNavigation.value?t.numberOfMonths.value:1}),S=Pr({dateObj:g,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value});r.value=S,t.placeholder.value=S[0].value.set({day:1});return}const b=oT(C,p||t.nextPage.value),_=Pr({dateObj:b,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value});r.value=_;const y={};if(!p){const g=_[0].value.compare(C);g>=Xr(C)&&(y.day=1),g>=365&&(y.month=1)}t.placeholder.value=_[0].value.set({...y})},d=p=>{const C=r.value[0].value;if(!p&&!t.prevPage.value){const g=C.subtract({months:t.pagedNavigation.value?t.numberOfMonths.value:1}),S=Pr({dateObj:g,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value});r.value=S,t.placeholder.value=S[0].value.set({day:1});return}const b=iT(C,p||t.prevPage.value),_=Pr({dateObj:b,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value});r.value=_;const y={};if(!p){const g=C.compare(_[0].value);g>=Xr(C)&&(y.day=1),g>=365&&(y.month=1)}t.placeholder.value=_[0].value.set({...y})};Pe(t.placeholder,p=>{s.value.some(C=>Mp(C,p))||(r.value=Pr({dateObj:p,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value}))}),Pe([t.locale,t.weekStartsOn,t.fixedWeeks,t.numberOfMonths],()=>{r.value=Pr({dateObj:t.placeholder.value,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value})});const h=z(()=>{if(!r.value.length)return"";if(t.locale.value!==e.getLocale()&&e.setLocale(t.locale.value),r.value.length===1){const A=r.value[0].value;return`${e.fullMonthAndYear(yn(A),n.value)}`}const p=yn(r.value[0].value),C=yn(r.value[r.value.length-1].value),b=e.fullMonth(p,n.value),_=e.fullMonth(C,n.value),y=e.fullYear(p,n.value),g=e.fullYear(C,n.value);return y===g?`${b} - ${_} ${g}`:`${b} ${y} - ${_} ${g}`}),m=z(()=>`${t.calendarLabel.value??"Event Date"}, ${h.value}`);return{isDateDisabled:l,isDateUnavailable:c,isNextButtonDisabled:i,isPrevButtonDisabled:a,grid:r,weekdays:u,visibleView:s,isOutsideVisibleView:o,formatter:e,nextPage:f,prevPage:d,headingValue:h,fullCalendarLabel:m}}function ri(){const t=te(),e=z(()=>{var n,r;return["#text","#comment"].includes((n=t.value)==null?void 0:n.$el.nodeName)?(r=t.value)==null?void 0:r.$el.nextElementSibling:rs(t)});return{primitiveElement:t,currentElement:e}}function lT(t){const e=kl({locale:te("en")});return z(()=>{var n;return(t==null?void 0:t.value)||((n=e.locale)==null?void 0:n.value)||"en"})}const cT={style:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute","white-space":"nowrap",width:"1px"}},uT={role:"heading","aria-level":"2"},[oo,fT]=Er("CalendarRoot"),dT=Z({__name:"CalendarRoot",props:{modelValue:{},multiple:{type:Boolean,default:!1},defaultValue:{default:void 0},defaultPlaceholder:{},placeholder:{default:void 0},pagedNavigation:{type:Boolean,default:!1},preventDeselect:{type:Boolean,default:!1},weekStartsOn:{default:0},weekdayFormat:{default:"narrow"},calendarLabel:{},fixedWeeks:{type:Boolean,default:!1},maxValue:{},minValue:{},locale:{},numberOfMonths:{default:1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},initialFocus:{type:Boolean,default:!1},isDateDisabled:{type:Function,default:void 0},isDateUnavailable:{type:Function,default:void 0},dir:{},nextPage:{},prevPage:{},asChild:{type:Boolean},as:{default:"div"}},emits:["update:modelValue","update:placeholder"],setup(t,{emit:e}){const n=t,r=e,{disabled:s,readonly:o,initialFocus:i,pagedNavigation:a,weekStartsOn:l,weekdayFormat:c,fixedWeeks:u,multiple:f,minValue:d,maxValue:h,numberOfMonths:m,preventDeselect:p,isDateDisabled:C,isDateUnavailable:b,calendarLabel:_,defaultValue:y,nextPage:g,prevPage:S,dir:A,locale:R}=Wn(n),{primitiveElement:O,currentElement:x}=ri(),j=lT(R),V=xS(A),U=ja(n,"modelValue",r,{defaultValue:y.value,passive:n.modelValue===void 0}),re=JA({defaultPlaceholder:n.placeholder,defaultValue:U.value,locale:n.locale}),se=ja(n,"placeholder",r,{defaultValue:n.defaultPlaceholder??re.copy(),passive:n.placeholder===void 0});function P(G){se.value=G.copy()}const{fullCalendarLabel:I,headingValue:F,isDateDisabled:N,isDateUnavailable:le,isNextButtonDisabled:ce,isPrevButtonDisabled:Oe,weekdays:Se,isOutsideVisibleView:Ae,nextPage:ge,prevPage:Ie,formatter:je,grid:w}=aT({locale:j,placeholder:se,weekStartsOn:l,fixedWeeks:u,numberOfMonths:m,minValue:d,maxValue:h,disabled:s,weekdayFormat:c,pagedNavigation:a,isDateDisabled:C.value,isDateUnavailable:b.value,calendarLabel:_,nextPage:g,prevPage:S}),{isInvalid:v,isDateSelected:D}=nT({date:U,isDateDisabled:N,isDateUnavailable:le});Pe(U,G=>{if(Array.isArray(G)&&G.length){const T=G[G.length-1];T&&!wc(se.value,T)&&P(T)}else!Array.isArray(G)&&G&&!wc(se.value,G)&&P(G)});function $(G){if(f.value){if(!U.value)U.value=[G.copy()];else if(Array.isArray(U.value)){if(U.value.findIndex(k=>Gr(k,G))===-1)U.value=[...U.value,G];else if(!p.value){const k=U.value.filter(M=>!Gr(M,G));if(!k.length){se.value=G.copy(),U.value=void 0;return}U.value=k.map(M=>M.copy())}}}else{if(!U.value){U.value=G.copy();return}!p.value&&wc(U.value,G)?(se.value=G.copy(),U.value=void 0):U.value=G.copy()}}return Zr(()=>{i.value&&qA(x.value)}),fT({isDateUnavailable:le,dir:V,isDateDisabled:N,locale:j,formatter:je,modelValue:U,placeholder:se,disabled:s,initialFocus:i,pagedNavigation:a,grid:w,weekDays:Se,weekStartsOn:l,weekdayFormat:c,fixedWeeks:u,multiple:f,numberOfMonths:m,readonly:o,preventDeselect:p,fullCalendarLabel:I,headingValue:F,isInvalid:v,isDateSelected:D,isNextButtonDisabled:ce,isPrevButtonDisabled:Oe,isOutsideVisibleView:Ae,nextPage:ge,prevPage:Ie,parentElement:x,onPlaceholderChange:P,onDateChange:$}),(G,T)=>(K(),ee(E(Ye),{ref_key:"primitiveElement",ref:O,as:G.as,"as-child":G.asChild,role:"application","aria-label":E(I),"data-readonly":E(o)?"":void 0,"data-disabled":E(s)?"":void 0,"data-invalid":E(v)?"":void 0,dir:E(V)},{default:W(()=>[he(G.$slots,"default",{date:E(se),grid:E(w),weekDays:E(Se),weekStartsOn:E(l),locale:E(j),fixedWeeks:E(u),modelValue:E(U)}),Me("div",cT,[Me("div",uT,ft(E(I)),1)])]),_:3},8,["as","as-child","aria-label","data-readonly","data-disabled","data-invalid","dir"]))}}),hT=Z({__name:"CalendarHeader",props:{asChild:{type:Boolean},as:{default:"div"}},setup(t){const e=t;return(n,r)=>(K(),ee(E(Ye),eo(es(e)),{default:W(()=>[he(n.$slots,"default")]),_:3},16))}}),pT=Z({__name:"CalendarHeading",props:{asChild:{type:Boolean},as:{default:"div"}},setup(t){const e=t,n=oo();return(r,s)=>(K(),ee(E(Ye),Te(e,{"data-disabled":E(n).disabled.value?"":void 0}),{default:W(()=>[he(r.$slots,"default",{headingValue:E(n).headingValue.value},()=>[pt(ft(E(n).headingValue.value),1)])]),_:3},16,["data-disabled"]))}}),mT=Z({__name:"CalendarGrid",props:{asChild:{type:Boolean},as:{default:"table"}},setup(t){const e=t,n=oo(),r=z(()=>n.disabled.value?!0:void 0),s=z(()=>n.readonly.value?!0:void 0);return(o,i)=>(K(),ee(E(Ye),Te(e,{tabindex:"-1",role:"grid","aria-readonly":s.value,"aria-disabled":r.value,"data-readonly":s.value&&"","data-disabled":r.value&&""}),{default:W(()=>[he(o.$slots,"default")]),_:3},16,["aria-readonly","aria-disabled","data-readonly","data-disabled"]))}}),gT=Z({__name:"CalendarCell",props:{date:{},asChild:{type:Boolean},as:{default:"td"}},setup(t){const e=oo();return(n,r)=>{var s,o;return K(),ee(E(Ye),{as:n.as,"as-child":n.asChild,role:"gridcell","aria-selected":E(e).isDateSelected(n.date)?!0:void 0,"aria-disabled":E(e).isDateDisabled(n.date)||((o=(s=E(e)).isDateUnavailable)==null?void 0:o.call(s,n.date)),"data-disabled":E(e).isDateDisabled(n.date)?"":void 0},{default:W(()=>[he(n.$slots,"default")]),_:3},8,["as","as-child","aria-selected","aria-disabled","data-disabled"])}}}),yT=Z({__name:"CalendarHeadCell",props:{asChild:{type:Boolean},as:{default:"th"}},setup(t){const e=t;return(n,r)=>(K(),ee(E(Ye),eo(es(e)),{default:W(()=>[he(n.$slots,"default")]),_:3},16))}}),vT=Z({__name:"CalendarNext",props:{nextPage:{},asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t,n=z(()=>r.disabled.value||r.isNextButtonDisabled(e.nextPage)),r=oo();return(s,o)=>(K(),ee(E(Ye),{as:e.as,"as-child":e.asChild,"aria-label":"Next page",type:s.as==="button"?"button":void 0,"aria-disabled":n.value||void 0,"data-disabled":n.value||void 0,disabled:n.value,onClick:o[0]||(o[0]=i=>E(r).nextPage(e.nextPage))},{default:W(()=>[he(s.$slots,"default",{disabled:n.value},()=>[o[1]||(o[1]=pt(" Next page "))])]),_:3},8,["as","as-child","type","aria-disabled","data-disabled","disabled"]))}}),bT=Z({__name:"CalendarPrev",props:{prevPage:{},asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t,n=z(()=>r.disabled.value||r.isPrevButtonDisabled(e.prevPage)),r=oo();return(s,o)=>(K(),ee(E(Ye),{"aria-label":"Previous page",as:e.as,"as-child":e.asChild,type:s.as==="button"?"button":void 0,"aria-disabled":n.value||void 0,"data-disabled":n.value||void 0,disabled:n.value,onClick:o[0]||(o[0]=i=>E(r).prevPage(e.prevPage))},{default:W(()=>[he(s.$slots,"default",{disabled:n.value},()=>[o[1]||(o[1]=pt(" Prev page "))])]),_:3},8,["as","as-child","type","aria-disabled","data-disabled","disabled"]))}}),_T=Z({__name:"CalendarGridHead",props:{asChild:{type:Boolean},as:{default:"thead"}},setup(t){const e=t;return(n,r)=>(K(),ee(E(Ye),Te(e,{"aria-hidden":"true"}),{default:W(()=>[he(n.$slots,"default")]),_:3},16))}}),wT=Z({__name:"CalendarGridBody",props:{asChild:{type:Boolean},as:{default:"tbody"}},setup(t){const e=t;return(n,r)=>(K(),ee(E(Ye),eo(es(e)),{default:W(()=>[he(n.$slots,"default")]),_:3},16))}}),CT=Z({__name:"CalendarGridRow",props:{asChild:{type:Boolean},as:{default:"tr"}},setup(t){const e=t;return(n,r)=>(K(),ee(E(Ye),eo(es(e)),{default:W(()=>[he(n.$slots,"default")]),_:3},16))}}),xT="[data-reka-calendar-cell-trigger]:not([data-outside-view]):not([data-outside-visible-view])";function $c(t){return Array.from(t.querySelectorAll(xT))??[]}function ET(){return{ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",SPACE_CODE:"Space"}}const ST=Z({__name:"CalendarCellTrigger",props:{day:{},month:{},asChild:{type:Boolean},as:{default:"div"}},setup(t){const e=t,n=ET(),r=oo(),{primitiveElement:s,currentElement:o}=ri(),i=z(()=>e.day.day.toLocaleString(r.locale.value)),a=z(()=>r.formatter.custom(yn(e.day),{weekday:"long",month:"long",day:"numeric",year:"numeric"})),l=z(()=>r.isDateDisabled(e.day)),c=z(()=>{var _;return((_=r.isDateUnavailable)==null?void 0:_.call(r,e.day))??!1}),u=z(()=>eA(e.day,yi())),f=z(()=>!Mv(e.day,e.month)),d=z(()=>r.isOutsideVisibleView(e.day)),h=z(()=>!r.disabled.value&&Gr(e.day,r.placeholder.value)),m=z(()=>r.isDateSelected(e.day));function p(_){var y;r.readonly.value||r.isDateDisabled(_)||(y=r.isDateUnavailable)!=null&&y.call(r,_)||r.onDateChange(_)}function C(){p(e.day)}function b(_){_.preventDefault(),_.stopPropagation();const y=r.parentElement.value,g=7,S=r.dir.value==="rtl"?-1:1;switch(_.code){case n.ARROW_RIGHT:A(o.value,S);break;case n.ARROW_LEFT:A(o.value,-S);break;case n.ARROW_UP:A(o.value,-7);break;case n.ARROW_DOWN:A(o.value,g);break;case n.ENTER:case n.SPACE_CODE:p(e.day)}function A(R,O){const x=$c(y);if(!x.length)return;const V=x.indexOf(R)+O;if(V>=0&&V<x.length){x[V].hasAttribute("data-disabled")&&A(x[V],O),x[V].focus();return}if(V<0){if(r.isPrevButtonDisabled())return;r.prevPage(),Dt(()=>{const U=$c(y);if(!U.length)return;if(!r.pagedNavigation.value&&r.numberOfMonths.value>1){const P=Xr(r.placeholder.value)-Math.abs(V);U[P].hasAttribute("data-disabled")&&A(U[P],O),U[P].focus();return}const re=U.length-Math.abs(V);U[re].hasAttribute("data-disabled")&&A(U[re],O),U[re].focus()});return}if(V>=x.length){if(r.isNextButtonDisabled())return;r.nextPage(),Dt(()=>{const U=$c(y);if(!U.length)return;if(!r.pagedNavigation.value&&r.numberOfMonths.value>1){const se=Xr(r.placeholder.value.add({months:r.numberOfMonths.value-1})),P=V-x.length+(U.length-se);U[P].hasAttribute("data-disabled")&&A(U[P],O),U[P].focus();return}const re=V-x.length;U[re].hasAttribute("data-disabled")&&A(U[re],O),U[re].focus()})}}}return(_,y)=>(K(),ee(E(Ye),Te({ref_key:"primitiveElement",ref:s},e,{role:"button","aria-label":a.value,"data-reka-calendar-cell-trigger":"","aria-disabled":l.value||c.value?!0:void 0,"data-selected":m.value?!0:void 0,"data-value":_.day.toString(),"data-disabled":l.value?"":void 0,"data-unavailable":c.value?"":void 0,"data-today":u.value?"":void 0,"data-outside-view":f.value?"":void 0,"data-outside-visible-view":d.value?"":void 0,"data-focused":h.value?"":void 0,tabindex:h.value?0:f.value||l.value?void 0:-1,onClick:C,onKeydown:[Hs(b,["up","down","left","right","space","enter"]),y[0]||(y[0]=Hs(Na(()=>{},["prevent"]),["enter"]))]}),{default:W(()=>[he(_.$slots,"default",{dayValue:i.value,disabled:l.value,today:u.value,selected:m.value,outsideView:f.value,outsideVisibleView:d.value,unavailable:c.value},()=>[pt(ft(i.value),1)])]),_:3},16,["aria-label","aria-disabled","data-selected","data-value","data-disabled","data-unavailable","data-today","data-outside-view","data-outside-visible-view","data-focused","tabindex"]))}});function AT(t){return z(()=>{var e;return mS(t)?!!((e=rs(t))!=null&&e.closest("form")):!0})}const TT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function kT(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function OT(t,e,n){const r=kT(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return TT[r]}function RT(t,e=!1){const n=pr();for(const r of t)if(r===n||(r.focus({preventScroll:e}),pr()!==n))return}function $T(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const tm="data-reka-collection-item";function PT(t={}){const{key:e="",isProvider:n=!1}=t,r=`${e}CollectionProvider`;let s;if(n){const u=te(new Map);s={collectionRef:te(),itemMap:u},Ds(r,s)}else s=jt(r);const o=(u=!1)=>{const f=s.collectionRef.value;if(!f)return[];const d=Array.from(f.querySelectorAll(`[${tm}]`)),m=Array.from(s.itemMap.value.values()).sort((p,C)=>d.indexOf(p.ref)-d.indexOf(C.ref));return u?m:m.filter(p=>p.ref.dataset.disabled!=="")},i=Z({name:"CollectionSlot",setup(u,{slots:f}){const{primitiveElement:d,currentElement:h}=ri();return Pe(h,()=>{s.collectionRef.value=h.value}),()=>Zt($u,{ref:d},f)}}),a=Z({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(u,{slots:f,attrs:d}){const{primitiveElement:h,currentElement:m}=ri();return En(p=>{if(m.value){const C=ml(m.value);s.itemMap.value.set(C,{ref:m.value,value:u.value}),p(()=>s.itemMap.value.delete(C))}}),()=>Zt($u,{...d,[tm]:"",ref:h},f)}}),l=z(()=>Array.from(s.itemMap.value.values())),c=z(()=>s.itemMap.value.size);return{getItems:o,reactiveItems:l,itemMapSize:c,CollectionSlot:i,CollectionItem:a}}const[DT,VD]=Er("RovingFocusGroup"),nm=Z({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(t){const e=t,{primitiveElement:n,currentElement:r}=ri(),s=z(()=>e.checked??e.value);return Pe(s,(o,i)=>{if(!r.value)return;const a=r.value,l=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(u&&o!==i){const f=new Event("input",{bubbles:!0}),d=new Event("change",{bubbles:!0});u.call(a,o),a.dispatchEvent(f),a.dispatchEvent(d)}}),(o,i)=>(K(),ee(rS,Te({ref_key:"primitiveElement",ref:n},{...e,...o.$attrs},{as:"input"}),null,16))}}),MT=Z({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(t){const e=t,n=z(()=>typeof e.value=="object"&&Array.isArray(e.value)&&e.value.length===0&&e.required),r=z(()=>typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"?[{name:e.name,value:e.value}]:typeof e.value=="object"&&Array.isArray(e.value)?e.value.flatMap((s,o)=>typeof s=="object"?Object.entries(s).map(([i,a])=>({name:`[${e.name}][${o}][${i}]`,value:a})):{name:`[${e.name}][${o}]`,value:s}):e.value!==null&&typeof e.value=="object"&&!Array.isArray(e.value)?Object.entries(e.value).map(([s,o])=>({name:`[${e.name}][${s}]`,value:o})):[]);return(s,o)=>n.value?(K(),ee(nm,Te({key:s.name},{...e,...s.$attrs},{name:s.name,value:s.value}),null,16,["name","value"])):(K(!0),He(tt,{key:1},Ur(r.value,i=>(K(),ee(nm,Te({key:i.name,ref_for:!0},{...e,...s.$attrs},{name:i.name,value:i.value}),null,16,["name","value"]))),128))}}),[IT,HD]=Er("CheckboxGroupRoot");function Ya(t){return t==="indeterminate"}function rb(t){return Ya(t)?"indeterminate":t?"checked":"unchecked"}const FT=Z({__name:"RovingFocusItem",props:{tabStopId:{},focusable:{type:Boolean,default:!0},active:{type:Boolean},allowShiftKey:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(t){const e=t,n=DT(),r=Wf(),s=z(()=>e.tabStopId||r),o=z(()=>n.currentTabStopId.value===s.value),{getItems:i,CollectionItem:a}=PT();Zr(()=>{e.focusable&&n.onFocusableItemAdd()}),to(()=>{e.focusable&&n.onFocusableItemRemove()});function l(c){if(c.key==="Tab"&&c.shiftKey){n.onItemShiftTab();return}if(c.target!==c.currentTarget)return;const u=OT(c,n.orientation.value,n.dir.value);if(u!==void 0){if(c.metaKey||c.ctrlKey||c.altKey||!e.allowShiftKey&&c.shiftKey)return;c.preventDefault();let f=[...i().map(d=>d.ref).filter(d=>d.dataset.disabled!=="")];if(u==="last")f.reverse();else if(u==="prev"||u==="next"){u==="prev"&&f.reverse();const d=f.indexOf(c.currentTarget);f=n.loop.value?$T(f,d+1):f.slice(d+1)}Dt(()=>RT(f))}}return(c,u)=>(K(),ee(E(a),null,{default:W(()=>[q(E(Ye),{tabindex:o.value?0:-1,"data-orientation":E(n).orientation.value,"data-active":c.active?"":void 0,"data-disabled":c.focusable?void 0:"",as:c.as,"as-child":c.asChild,onMousedown:u[0]||(u[0]=f=>{c.focusable?E(n).onItemFocus(s.value):f.preventDefault()}),onFocus:u[1]||(u[1]=f=>E(n).onItemFocus(s.value)),onKeydown:l},{default:W(()=>[he(c.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),[NT,LT]=Er("CheckboxRoot"),BT=Z({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null],default:void 0},disabled:{type:Boolean},value:{default:"on"},id:{},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,r=e,{forwardRef:s,currentElement:o}=Tn(),i=IT(null),a=ja(n,"modelValue",r,{defaultValue:n.defaultValue,passive:n.modelValue===void 0}),l=z(()=>(i==null?void 0:i.disabled.value)||n.disabled),c=z(()=>Du(i==null?void 0:i.modelValue.value)?a.value==="indeterminate"?"indeterminate":a.value:Rp(i.modelValue.value,n.value));function u(){if(Du(i==null?void 0:i.modelValue.value))a.value=Ya(a.value)?!0:!a.value;else{const h=[...i.modelValue.value||[]];if(Rp(h,n.value)){const m=h.findIndex(p=>Pu(p,n.value));h.splice(m,1)}else h.push(n.value);i.modelValue.value=h}}const f=AT(o),d=z(()=>{var h;return n.id&&o.value?(h=document.querySelector(`[for="${n.id}"]`))==null?void 0:h.innerText:void 0});return LT({disabled:l,state:c}),(h,m)=>{var p,C;return K(),ee(uy((p=E(i))!=null&&p.rovingFocus.value?E(FT):E(Ye)),Te(h.$attrs,{id:h.id,ref:E(s),role:"checkbox","as-child":h.asChild,as:h.as,type:h.as==="button"?"button":void 0,"aria-checked":E(Ya)(c.value)?"mixed":c.value,"aria-required":h.required,"aria-label":h.$attrs["aria-label"]||d.value,"data-state":E(rb)(c.value),"data-disabled":l.value?"":void 0,disabled:l.value,focusable:(C=E(i))!=null&&C.rovingFocus.value?!l.value:void 0,onKeydown:Hs(Na(()=>{},["prevent"]),["enter"]),onClick:u}),{default:W(()=>[he(h.$slots,"default",{modelValue:E(a),state:c.value}),E(f)&&h.name&&!E(i)?(K(),ee(E(MT),{key:0,type:"checkbox",checked:!!c.value,name:h.name,value:h.value,disabled:l.value,required:h.required},null,8,["checked","name","value","disabled","required"])):Yn("",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"])}}}),UT=Z({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(t){const{forwardRef:e}=Tn(),n=NT();return(r,s)=>(K(),ee(E(Tv),{present:r.forceMount||E(Ya)(E(n).state.value)||E(n).state.value===!0},{default:W(()=>[q(E(Ye),Te({ref:E(e),"data-state":E(rb)(E(n).state.value),"data-disabled":E(n).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":r.asChild,as:r.as},r.$attrs),{default:W(()=>[he(r.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),[sb,jT]=Er("PopperRoot"),VT=Z({inheritAttrs:!1,__name:"PopperRoot",setup(t){const e=te();return jT({anchor:e,onAnchorChange:n=>e.value=n}),(n,r)=>he(n.$slots,"default")}}),HT=Z({__name:"PopperAnchor",props:{reference:{},asChild:{type:Boolean},as:{}},setup(t){const e=t,{forwardRef:n,currentElement:r}=Tn(),s=sb();return Ay(()=>{s.onAnchorChange(e.reference??r.value)}),(o,i)=>(K(),ee(E(Ye),{ref:E(n),as:o.as,"as-child":o.asChild},{default:W(()=>[he(o.$slots,"default")]),_:3},8,["as","as-child"]))}});function zT(t){return t!==null}function WT(t){return{name:"transformOrigin",options:t,fn(e){var C,b,_;const{placement:n,rects:r,middlewareData:s}=e,i=((C=s.arrow)==null?void 0:C.centerOffset)!==0,a=i?0:t.arrowWidth,l=i?0:t.arrowHeight,[c,u]=Vu(n),f={start:"0%",center:"50%",end:"100%"}[u],d=(((b=s.arrow)==null?void 0:b.x)??0)+a/2,h=(((_=s.arrow)==null?void 0:_.y)??0)+l/2;let m="",p="";return c==="bottom"?(m=i?f:`${d}px`,p=`${-l}px`):c==="top"?(m=i?f:`${d}px`,p=`${r.floating.height+l}px`):c==="right"?(m=`${-l}px`,p=i?f:`${h}px`):c==="left"&&(m=`${r.floating.width+l}px`,p=i?f:`${h}px`),{data:{x:m,y:p}}}}}function Vu(t){const[e,n="center"]=t.split("-");return[e,n]}function KT(t){const e=te(),n=z(()=>{var s;return((s=e.value)==null?void 0:s.width)??0}),r=z(()=>{var s;return((s=e.value)==null?void 0:s.height)??0});return Zr(()=>{const s=rs(t);if(s){e.value={width:s.offsetWidth,height:s.offsetHeight};const o=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,c;if("borderBoxSize"in a){const u=a.borderBoxSize,f=Array.isArray(u)?u[0]:u;l=f.inlineSize,c=f.blockSize}else l=s.offsetWidth,c=s.offsetHeight;e.value={width:l,height:c}});return o.observe(s,{box:"border-box"}),()=>o.unobserve(s)}else e.value=void 0}),{width:n,height:r}}const YT={side:"bottom",sideOffset:0,align:"center",alignOffset:0,arrowPadding:0,avoidCollisions:!0,collisionBoundary:()=>[],collisionPadding:0,sticky:"partial",hideWhenDetached:!1,positionStrategy:"fixed",updatePositionStrategy:"optimized",prioritizePosition:!1},[zD,qT]=Er("PopperContent"),GT=Z({inheritAttrs:!1,__name:"PopperContent",props:qw({side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},{...YT}),emits:["placed"],setup(t,{emit:e}){const n=t,r=e,s=sb(),{forwardRef:o,currentElement:i}=Tn(),a=te(),l=te(),{width:c,height:u}=KT(l),f=z(()=>n.side+(n.align!=="center"?`-${n.align}`:"")),d=z(()=>typeof n.collisionPadding=="number"?n.collisionPadding:{top:0,right:0,bottom:0,left:0,...n.collisionPadding}),h=z(()=>Array.isArray(n.collisionBoundary)?n.collisionBoundary:[n.collisionBoundary]),m=z(()=>({padding:d.value,boundary:h.value.filter(zT),altBoundary:h.value.length>0})),p=sS(()=>[KE({mainAxis:n.sideOffset+u.value,alignmentAxis:n.alignOffset}),n.prioritizePosition&&n.avoidCollisions&&Ap({...m.value}),n.avoidCollisions&&YE({mainAxis:!0,crossAxis:!!n.prioritizePosition,limiter:n.sticky==="partial"?XE():void 0,...m.value}),!n.prioritizePosition&&n.avoidCollisions&&Ap({...m.value}),qE({...m.value,apply:({elements:V,rects:U,availableWidth:re,availableHeight:se})=>{const{width:P,height:I}=U.reference,F=V.floating.style;F.setProperty("--reka-popper-available-width",`${re}px`),F.setProperty("--reka-popper-available-height",`${se}px`),F.setProperty("--reka-popper-anchor-width",`${P}px`),F.setProperty("--reka-popper-anchor-height",`${I}px`)}}),l.value&&eS({element:l.value,padding:n.arrowPadding}),WT({arrowWidth:c.value,arrowHeight:u.value}),n.hideWhenDetached&&GE({strategy:"referenceHidden",...m.value})]),C=z(()=>n.reference??s.anchor.value),{floatingStyles:b,placement:_,isPositioned:y,middlewareData:g}=tS(C,a,{strategy:n.positionStrategy,placement:f,whileElementsMounted:(...V)=>WE(...V,{layoutShift:!n.disableUpdateOnLayoutShift,animationFrame:n.updatePositionStrategy==="always"}),middleware:p}),S=z(()=>Vu(_.value)[0]),A=z(()=>Vu(_.value)[1]);Ay(()=>{y.value&&r("placed")});const R=z(()=>{var V;return((V=g.value.arrow)==null?void 0:V.centerOffset)!==0}),O=te("");En(()=>{i.value&&(O.value=window.getComputedStyle(i.value).zIndex)});const x=z(()=>{var V;return((V=g.value.arrow)==null?void 0:V.x)??0}),j=z(()=>{var V;return((V=g.value.arrow)==null?void 0:V.y)??0});return qT({placedSide:S,onArrowChange:V=>l.value=V,arrowX:x,arrowY:j,shouldHideArrow:R}),(V,U)=>{var re,se,P;return K(),He("div",{ref_key:"floatingRef",ref:a,"data-reka-popper-content-wrapper":"",style:Zs({...E(b),transform:E(y)?E(b).transform:"translate(0, -200%)",minWidth:"max-content",zIndex:O.value,"--reka-popper-transform-origin":[(re=E(g).transformOrigin)==null?void 0:re.x,(se=E(g).transformOrigin)==null?void 0:se.y].join(" "),...((P=E(g).hide)==null?void 0:P.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}})},[q(E(Ye),Te({ref:E(o)},V.$attrs,{"as-child":n.asChild,as:V.as,"data-side":S.value,"data-align":A.value,style:{animation:E(y)?void 0:"none"}}),{default:W(()=>[he(V.$slots,"default")]),_:3},16,["as-child","as","data-side","data-align","style"])],4)}}});let Pc=0;function JT(){En(t=>{if(!xr)return;const e=document.querySelectorAll("[data-reka-focus-guard]");document.body.insertAdjacentElement("afterbegin",e[0]??rm()),document.body.insertAdjacentElement("beforeend",e[1]??rm()),Pc++,t(()=>{Pc===1&&document.querySelectorAll("[data-reka-focus-guard]").forEach(n=>n.remove()),Pc--})})}function rm(){const t=document.createElement("span");return t.setAttribute("data-reka-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}const[vi,XT]=Er("PopoverRoot"),QT=Z({__name:"PopoverRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},modal:{type:Boolean,default:!1}},emits:["update:open"],setup(t,{emit:e}){const n=t,r=e,{modal:s}=Wn(n),o=ja(n,"open",r,{defaultValue:n.defaultOpen,passive:n.open===void 0}),i=te(),a=te(!1);return XT({contentId:"",triggerId:"",modal:s,open:o,onOpenChange:l=>{o.value=l},onOpenToggle:()=>{o.value=!o.value},triggerElement:i,hasCustomAnchor:a}),(l,c)=>(K(),ee(E(VT),null,{default:W(()=>[he(l.$slots,"default",{open:E(o)})]),_:3}))}}),ZT=Z({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t,n=vi(),{forwardRef:r,currentElement:s}=Tn();return n.triggerId||(n.triggerId=Wf(void 0,"reka-popover-trigger")),Zr(()=>{n.triggerElement.value=s.value}),(o,i)=>(K(),ee(uy(E(n).hasCustomAnchor.value?E(Ye):E(HT)),{"as-child":""},{default:W(()=>[q(E(Ye),{id:E(n).triggerId,ref:E(r),type:o.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":E(n).open.value,"aria-controls":E(n).contentId,"data-state":E(n).open.value?"open":"closed",as:o.as,"as-child":e.asChild,onClick:E(n).onOpenToggle},{default:W(()=>[he(o.$slots,"default")]),_:3},8,["id","type","aria-expanded","aria-controls","data-state","as","as-child","onClick"])]),_:3}))}}),ek=Z({__name:"PopoverPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=t;return(n,r)=>(K(),ee(E(kS),eo(es(e)),{default:W(()=>[he(n.$slots,"default")]),_:3},16))}}),ob=Z({__name:"PopoverContentImpl",props:{trapFocus:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,s=on(cS(n,"trapFocus","disableOutsidePointerEvents")),{forwardRef:o}=Tn(),i=vi();return JT(),(a,l)=>(K(),ee(E(jS),{"as-child":"",loop:"",trapped:a.trapFocus,onMountAutoFocus:l[5]||(l[5]=c=>r("openAutoFocus",c)),onUnmountAutoFocus:l[6]||(l[6]=c=>r("closeAutoFocus",c))},{default:W(()=>[q(E(DS),{"as-child":"","disable-outside-pointer-events":a.disableOutsidePointerEvents,onPointerDownOutside:l[0]||(l[0]=c=>r("pointerDownOutside",c)),onInteractOutside:l[1]||(l[1]=c=>r("interactOutside",c)),onEscapeKeyDown:l[2]||(l[2]=c=>r("escapeKeyDown",c)),onFocusOutside:l[3]||(l[3]=c=>r("focusOutside",c)),onDismiss:l[4]||(l[4]=c=>E(i).onOpenChange(!1))},{default:W(()=>[q(E(GT),Te(E(s),{id:E(i).contentId,ref:E(o),"data-state":E(i).open.value?"open":"closed","aria-labelledby":E(i).triggerId,style:{"--reka-popover-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-popover-content-available-width":"var(--reka-popper-available-width)","--reka-popover-content-available-height":"var(--reka-popper-available-height)","--reka-popover-trigger-width":"var(--reka-popper-anchor-width)","--reka-popover-trigger-height":"var(--reka-popper-anchor-height)"},role:"dialog"}),{default:W(()=>[he(a.$slots,"default")]),_:3},16,["id","data-state","aria-labelledby"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),tk=Z({__name:"PopoverContentModal",props:{side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,s=vi(),o=te(!1);JS(!0);const i=ss(n,r),{forwardRef:a,currentElement:l}=Tn();return KS(l),(c,u)=>(K(),ee(ob,Te(E(i),{ref:E(a),"trap-focus":E(s).open.value,"disable-outside-pointer-events":"",onCloseAutoFocus:u[0]||(u[0]=Na(f=>{var d;r("closeAutoFocus",f),o.value||(d=E(s).triggerElement.value)==null||d.focus()},["prevent"])),onPointerDownOutside:u[1]||(u[1]=f=>{r("pointerDownOutside",f);const d=f.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,m=d.button===2||h;o.value=m}),onFocusOutside:u[2]||(u[2]=Na(()=>{},["prevent"]))}),{default:W(()=>[he(c.$slots,"default")]),_:3},16,["trap-focus"]))}}),nk=Z({__name:"PopoverContentNonModal",props:{side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,s=vi(),o=te(!1),i=te(!1),a=ss(n,r);return(l,c)=>(K(),ee(ob,Te(E(a),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:c[0]||(c[0]=u=>{var f;r("closeAutoFocus",u),u.defaultPrevented||(o.value||(f=E(s).triggerElement.value)==null||f.focus(),u.preventDefault()),o.value=!1,i.value=!1}),onInteractOutside:c[1]||(c[1]=async u=>{var h;r("interactOutside",u),u.defaultPrevented||(o.value=!0,u.detail.originalEvent.type==="pointerdown"&&(i.value=!0));const f=u.target;((h=E(s).triggerElement.value)==null?void 0:h.contains(f))&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&i.value&&u.preventDefault()})}),{default:W(()=>[he(l.$slots,"default")]),_:3},16))}}),rk=Z({__name:"PopoverContent",props:{forceMount:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,s=vi(),o=ss(n,r),{forwardRef:i}=Tn();return s.contentId||(s.contentId=Wf(void 0,"reka-popover-content")),(a,l)=>(K(),ee(E(Tv),{present:a.forceMount||E(s).open.value},{default:W(()=>[E(s).modal.value?(K(),ee(tk,Te({key:0},E(o),{ref:E(i)}),{default:W(()=>[he(a.$slots,"default")]),_:3},16)):(K(),ee(nk,Te({key:1},E(o),{ref:E(i)}),{default:W(()=>[he(a.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),sk=Z({__name:"BaseSeparator",props:{orientation:{default:"horizontal"},decorative:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const e=t,n=["horizontal","vertical"];function r(a){return n.includes(a)}const s=z(()=>r(e.orientation)?e.orientation:"horizontal"),o=z(()=>s.value==="vertical"?e.orientation:void 0),i=z(()=>e.decorative?{role:"none"}:{"aria-orientation":o.value,role:"separator"});return(a,l)=>(K(),ee(E(Ye),Te({as:a.as,"as-child":a.asChild,"data-orientation":s.value},i.value),{default:W(()=>[he(a.$slots,"default")]),_:3},16,["as","as-child","data-orientation"]))}}),ok=Z({__name:"Separator",props:{orientation:{default:"horizontal"},decorative:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,r)=>(K(),ee(sk,eo(es(e)),{default:W(()=>[he(n.$slots,"default")]),_:3},16))}}),hn=Z({__name:"Button",props:{variant:{},size:{},class:{},asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t;return(n,r)=>(K(),ee(E(Ye),{"data-slot":"button",as:n.as,"as-child":n.asChild,class:ct(E(Je)(E($l)({variant:n.variant,size:n.size}),e.class))},{default:W(()=>[he(n.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),$l=ov("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});var As=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function td(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ik(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Dc={exports:{}},sm;function ak(){return sm||(sm=1,function(t){var e=function(){var n=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={};function i(l,c){if(!o[l]){o[l]={};for(var u=0;u<l.length;u++)o[l][l.charAt(u)]=u}return o[l][c]}var a={compressToBase64:function(l){if(l==null)return"";var c=a._compress(l,6,function(u){return r.charAt(u)});switch(c.length%4){default:case 0:return c;case 1:return c+"===";case 2:return c+"==";case 3:return c+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:a._decompress(l.length,32,function(c){return i(r,l.charAt(c))})},compressToUTF16:function(l){return l==null?"":a._compress(l,15,function(c){return n(c+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:a._decompress(l.length,16384,function(c){return l.charCodeAt(c)-32})},compressToUint8Array:function(l){for(var c=a.compress(l),u=new Uint8Array(c.length*2),f=0,d=c.length;f<d;f++){var h=c.charCodeAt(f);u[f*2]=h>>>8,u[f*2+1]=h%256}return u},decompressFromUint8Array:function(l){if(l==null)return a.decompress(l);for(var c=new Array(l.length/2),u=0,f=c.length;u<f;u++)c[u]=l[u*2]*256+l[u*2+1];var d=[];return c.forEach(function(h){d.push(n(h))}),a.decompress(d.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":a._compress(l,6,function(c){return s.charAt(c)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),a._decompress(l.length,32,function(c){return i(s,l.charAt(c))}))},compress:function(l){return a._compress(l,16,function(c){return n(c)})},_compress:function(l,c,u){if(l==null)return"";var f,d,h={},m={},p="",C="",b="",_=2,y=3,g=2,S=[],A=0,R=0,O;for(O=0;O<l.length;O+=1)if(p=l.charAt(O),Object.prototype.hasOwnProperty.call(h,p)||(h[p]=y++,m[p]=!0),C=b+p,Object.prototype.hasOwnProperty.call(h,C))b=C;else{if(Object.prototype.hasOwnProperty.call(m,b)){if(b.charCodeAt(0)<256){for(f=0;f<g;f++)A=A<<1,R==c-1?(R=0,S.push(u(A)),A=0):R++;for(d=b.charCodeAt(0),f=0;f<8;f++)A=A<<1|d&1,R==c-1?(R=0,S.push(u(A)),A=0):R++,d=d>>1}else{for(d=1,f=0;f<g;f++)A=A<<1|d,R==c-1?(R=0,S.push(u(A)),A=0):R++,d=0;for(d=b.charCodeAt(0),f=0;f<16;f++)A=A<<1|d&1,R==c-1?(R=0,S.push(u(A)),A=0):R++,d=d>>1}_--,_==0&&(_=Math.pow(2,g),g++),delete m[b]}else for(d=h[b],f=0;f<g;f++)A=A<<1|d&1,R==c-1?(R=0,S.push(u(A)),A=0):R++,d=d>>1;_--,_==0&&(_=Math.pow(2,g),g++),h[C]=y++,b=String(p)}if(b!==""){if(Object.prototype.hasOwnProperty.call(m,b)){if(b.charCodeAt(0)<256){for(f=0;f<g;f++)A=A<<1,R==c-1?(R=0,S.push(u(A)),A=0):R++;for(d=b.charCodeAt(0),f=0;f<8;f++)A=A<<1|d&1,R==c-1?(R=0,S.push(u(A)),A=0):R++,d=d>>1}else{for(d=1,f=0;f<g;f++)A=A<<1|d,R==c-1?(R=0,S.push(u(A)),A=0):R++,d=0;for(d=b.charCodeAt(0),f=0;f<16;f++)A=A<<1|d&1,R==c-1?(R=0,S.push(u(A)),A=0):R++,d=d>>1}_--,_==0&&(_=Math.pow(2,g),g++),delete m[b]}else for(d=h[b],f=0;f<g;f++)A=A<<1|d&1,R==c-1?(R=0,S.push(u(A)),A=0):R++,d=d>>1;_--,_==0&&(_=Math.pow(2,g),g++)}for(d=2,f=0;f<g;f++)A=A<<1|d&1,R==c-1?(R=0,S.push(u(A)),A=0):R++,d=d>>1;for(;;)if(A=A<<1,R==c-1){S.push(u(A));break}else R++;return S.join("")},decompress:function(l){return l==null?"":l==""?null:a._decompress(l.length,32768,function(c){return l.charCodeAt(c)})},_decompress:function(l,c,u){var f=[],d=4,h=4,m=3,p="",C=[],b,_,y,g,S,A,R,O={val:u(0),position:c,index:1};for(b=0;b<3;b+=1)f[b]=b;for(y=0,S=Math.pow(2,2),A=1;A!=S;)g=O.val&O.position,O.position>>=1,O.position==0&&(O.position=c,O.val=u(O.index++)),y|=(g>0?1:0)*A,A<<=1;switch(y){case 0:for(y=0,S=Math.pow(2,8),A=1;A!=S;)g=O.val&O.position,O.position>>=1,O.position==0&&(O.position=c,O.val=u(O.index++)),y|=(g>0?1:0)*A,A<<=1;R=n(y);break;case 1:for(y=0,S=Math.pow(2,16),A=1;A!=S;)g=O.val&O.position,O.position>>=1,O.position==0&&(O.position=c,O.val=u(O.index++)),y|=(g>0?1:0)*A,A<<=1;R=n(y);break;case 2:return""}for(f[3]=R,_=R,C.push(R);;){if(O.index>l)return"";for(y=0,S=Math.pow(2,m),A=1;A!=S;)g=O.val&O.position,O.position>>=1,O.position==0&&(O.position=c,O.val=u(O.index++)),y|=(g>0?1:0)*A,A<<=1;switch(R=y){case 0:for(y=0,S=Math.pow(2,8),A=1;A!=S;)g=O.val&O.position,O.position>>=1,O.position==0&&(O.position=c,O.val=u(O.index++)),y|=(g>0?1:0)*A,A<<=1;f[h++]=n(y),R=h-1,d--;break;case 1:for(y=0,S=Math.pow(2,16),A=1;A!=S;)g=O.val&O.position,O.position>>=1,O.position==0&&(O.position=c,O.val=u(O.index++)),y|=(g>0?1:0)*A,A<<=1;f[h++]=n(y),R=h-1,d--;break;case 2:return C.join("")}if(d==0&&(d=Math.pow(2,m),m++),f[R])p=f[R];else if(R===h)p=_+_.charAt(0);else return null;C.push(p),f[h++]=_+p.charAt(0),d--,_=p,d==0&&(d=Math.pow(2,m),m++)}}};return a}();t!=null?t.exports=e:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return e})}(Dc)),Dc.exports}var Gi=ak();const Ji="allKeys";function Sr(){function t(){return JSON.parse(localStorage.getItem(Ji)??"[]")}function e(){const c=localStorage.getItem("age");return c?parseInt(c,10):new Date().getTime()}function n(c,u){if(u==null){console.warn("Value is null or undefined");return}const f=t();f.includes(c)||f.push(c);const d=JSON.stringify(r(c)),h=JSON.stringify(u);if(d==h){console.warn("Value did not change. Ignoring set.");return}else console.warn("Value updated",c);localStorage.setItem(c,Gi.compress(h)),localStorage.setItem(Ji,JSON.stringify(f)),localStorage.setItem("age",JSON.stringify(new Date().getTime()))}function r(c){const u=localStorage.getItem(c);if(!u)return console.warn(`No ${c} in db`),null;const f=Gi.decompress(u);return f?JSON.parse(f):null}function s(c){localStorage.removeItem(c);const u=t().filter(f=>f!==c);localStorage.setItem(Ji,JSON.stringify(u)),localStorage.setItem("age",JSON.stringify(new Date().getTime()))}function o(){console.warn("No keys were found.");for(const c of t())s(c)}function i(c=!1){const u=t(),f=u.map(h=>localStorage.getItem(h)??null),d=c?new Date().getTime():e();return Gi.compressToBase64(JSON.stringify({keys:u,values:f,age:d}))}function a(c){const{keys:u,values:f,age:d}=JSON.parse(Gi.decompressFromBase64(c)??"{}"),h=new Date(d).getTime();return{keys:u,values:f,age:h}}function l(c){const{keys:u,values:f}=a(c);if(console.log(`Unpacked ${u}`),!Array.isArray(u)||!Array.isArray(f)){console.warn("Values must be an array or an array.");return}u.forEach((d,h)=>{f[h]!=null&&localStorage.setItem(d,f[h])}),localStorage.setItem(Ji,JSON.stringify(u))}return{get:r,getAge:e,set:n,remove:s,removeAll:o,toString:i,fromString:l,unpack:a}}const ib=ts("weather",()=>{const t=Sr(),e=te(t.get("weather-location")??""),n=te({lastUpdated:"",location:"",temperature:0,weather:""}),r=te(t.get("weather-api-key")??"");Pe(r,()=>{t.set("weather-api-key",r.value)}),Pe(e,()=>{t.set("weather-location",e.value),s()});const s=async()=>{if(!r.value){console.error("Weather API key not found!");return}await fetch(`https://api.weatherapi.com/v
1/current.json?key=${r.value}&q=${e.value}`).then(o=>o.json()).then(o=>{n.value.location=`${o.location.name}, ${o.location.country}`,n.value.temperature=o.current.temp_c,n.value.weather=o.current.condition.text,n.value.lastUpdated=new Date(o.current.last_updated_epoch*1e3).toLocaleString().replace(",","").slice(0,-3)}).catch(o=>console.error(o))};return s(),{weather:n,weatherApiKey:r,location:e}});function Hu(t){return di()?(ul(t),!0):!1}function lk(t){if(!De(t))return en(t);const e=new Proxy({},{get(n,r,s){return E(Reflect.get(t.value,r,s))},set(n,r,s){return De(t.value[r])&&!De(s)?t.value[r].value=s:t.value[r]=s,!0},deleteProperty(n,r){return Reflect.deleteProperty(t.value,r)},has(n,r){return Reflect.has(t.value,r)},ownKeys(){return Object.keys(t.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return en(e)}function ck(t){return lk(z(t))}function uk(t,...e){const n=e.flat(),r=n[0];return ck(()=>Object.fromEntries(typeof r=="function"?Object.entries(Wn(t)).filter(([s,o])=>!r(et(o),s)):Object.entries(Wn(t)).filter(s=>!n.includes(s[0]))))}const zu=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const fk=t=>typeof t<"u",om=()=>+Date.now(),dk=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[T\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/i,hk=/[YMDHhms]o|\[([^\]]+)\]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a{1,2}|A{1,2}|m{1,2}|s{1,2}|Z{1,2}|z{1,4}|SSS/g;function pk(t,e,n,r){let s=t<12?"AM":"PM";return r&&(s=s.split("").reduce((o,i)=>o+=`${i}.`,"")),n?s.toLowerCase():s}function Dr(t){const e=["th","st","nd","rd"],n=t%100;return t+(e[(n-20)%10]||e[n]||e[0])}function mk(t,e,n={}){var r;const s=t.getFullYear(),o=t.getMonth(),i=t.getDate(),a=t.getHours(),l=t.getMinutes(),c=t.getSeconds(),u=t.getMilliseconds(),f=t.getDay(),d=(r=n.customMeridiem)!=null?r:pk,h=p=>{var C;return(C=p.split(" ")[1])!=null?C:""},m={Yo:()=>Dr(s),YY:()=>String(s).slice(-2),YYYY:()=>s,M:()=>o+1,Mo:()=>Dr(o+1),MM:()=>`${o+1}`.padStart(2,"0"),MMM:()=>t.toLocaleDateString(et(n.locales),{month:"short"}),MMMM:()=>t.toLocaleDateString(et(n.locales),{month:"long"}),D:()=>String(i),Do:()=>Dr(i),DD:()=>`${i}`.padStart(2,"0"),H:()=>String(a),Ho:()=>Dr(a),HH:()=>`${a}`.padStart(2,"0"),h:()=>`${a%12||12}`.padStart(1,"0"),ho:()=>Dr(a%12||12),hh:()=>`${a%12||12}`.padStart(2,"0"),m:()=>String(l),mo:()=>Dr(l),mm:()=>`${l}`.padStart(2,"0"),s:()=>String(c),so:()=>Dr(c),ss:()=>`${c}`.padStart(2,"0"),SSS:()=>`${u}`.padStart(3,"0"),d:()=>f,dd:()=>t.toLocaleDateString(et(n.locales),{weekday:"narrow"}),ddd:()=>t.toLocaleDateString(et(n.locales),{weekday:"short"}),dddd:()=>t.toLocaleDateString(et(n.locales),{weekday:"long"}),A:()=>d(a,l),AA:()=>d(a,l,!1,!0),a:()=>d(a,l,!0),aa:()=>d(a,l,!0,!0),z:()=>h(t.toLocaleDateString(et(n.locales),{timeZoneName:"shortOffset"})),zz:()=>h(t.toLocaleDateString(et(n.locales),{timeZoneName:"shortOffset"})),zzz:()=>h(t.toLocaleDateString(et(n.locales),{timeZoneName:"shortOffset"})),zzzz:()=>h(t.toLocaleDateString(et(n.locales),{timeZoneName:"longOffset"}))};return e.replace(hk,(p,C)=>{var b,_;return(_=C??((b=m[p])==null?void 0:b.call(m)))!=null?_:p})}function gk(t){if(t===null)return new Date(Number.NaN);if(t===void 0)return new Date;if(t instanceof Date)return new Date(t);if(typeof t=="string"&&!/Z$/i.test(t)){const e=t.match(dk);if(e){const n=e[2]-1||0,r=(e[7]||"0").substring(0,3);return new Date(e[1],n,e[3]||1,e[4]||0,e[5]||0,e[6]||0,r)}}return new Date(t)}function qa(t,e="HH:mm:ss",n={}){return z(()=>mk(gk(et(t)),et(e),n))}function ab(t,e=1e3,n={}){const{immediate:r=!0,immediateCallback:s=!1}=n;let o=null;const i=Qr(!1);function a(){o&&(clearInterval(o),o=null)}function l(){i.value=!1,a()}function c(){const u=et(e);u<=0||(i.value=!0,s&&t(),a(),i.value&&(o=setInterval(t,u)))}if(r&&zu&&c(),De(e)||typeof e=="function"){const u=Pe(e,()=>{i.value&&zu&&c()});Hu(u)}return Hu(l),{isActive:Ir(i),pause:l,resume:c}}const yk=zu?window:void 0;function lb(t,e={}){const{immediate:n=!0,fpsLimit:r=void 0,window:s=yk,once:o=!1}=e,i=Qr(!1),a=z(()=>r?1e3/et(r):null);let l=0,c=null;function u(h){if(!i.value||!s)return;l||(l=h);const m=h-l;if(a.value&&m<a.value){c=s.requestAnimationFrame(u);return}if(l=h,t({delta:m,timestamp:h}),o){i.value=!1,c=null;return}c=s.requestAnimationFrame(u)}function f(){!i.value&&s&&(i.value=!0,l=0,c=s.requestAnimationFrame(u))}function d(){i.value=!1,c!=null&&s&&(s.cancelAnimationFrame(c),c=null)}return n&&f(),Hu(d),{isActive:hl(i),pause:d,resume:f}}function vk(t){return JSON.parse(JSON.stringify(t))}function bk(t={}){const{controls:e=!1,interval:n="requestAnimationFrame"}=t,r=te(new Date),s=()=>r.value=new Date,o=n==="requestAnimationFrame"?lb(s,{immediate:!0}):ab(s,n,{immediate:!0});return e?{now:r,...o}:r}function _k(t={}){const{controls:e=!1,offset:n=0,immediate:r=!0,interval:s="requestAnimationFrame",callback:o}=t,i=Qr(om()+n),a=()=>i.value=om()+n,l=o?()=>{a(),o(i.value)}:a,c=s==="requestAnimationFrame"?lb(l,{immediate:r}):ab(l,s,{immediate:r});return e?{timestamp:i,...c}:i}function cb(t,e,n,r={}){var s,o,i;const{clone:a=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:f,shouldEmit:d}=r,h=Qn(),m=n||(h==null?void 0:h.emit)||((s=h==null?void 0:h.$emit)==null?void 0:s.bind(h))||((i=(o=h==null?void 0:h.proxy)==null?void 0:o.$emit)==null?void 0:i.bind(h==null?void 0:h.proxy));let p=c;p=p||`update:${e.toString()}`;const C=y=>a?typeof a=="function"?a(y):vk(y):y,b=()=>fk(t[e])?C(t[e]):f,_=y=>{d?d(y)&&m(p,y):m(p,y)};if(l){const y=b(),g=te(y);let S=!1;return Pe(()=>t[e],A=>{S||(S=!0,g.value=C(A),Dt(()=>S=!1))}),Pe(g,A=>{!S&&(A!==t[e]||u)&&_(A)},{deep:u}),g}else return z({get(){return b()},set(y){_(y)}})}const Wu=Z({__name:"Separator",props:{orientation:{default:"horizontal"},decorative:{type:Boolean,default:!0},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=uk(e,"class");return(r,s)=>(K(),ee(E(ok),Te({"data-slot":"separator-root"},E(n),{class:E(Je)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e.class)}),null,16,["class"]))}}),ub=ts("user",()=>{const t=Sr(),e=te(t.get("user")??{name:"",personalInformation:""});return Pe(e,n=>{t.set("user",n)},{deep:!0}),{user:e}}),Ga=Z({__name:"Badge",props:{asChild:{type:Boolean},as:{},variant:{},class:{}},setup(t){const e=t,n=z(()=>{const{class:r,...s}=e;return s});return(r,s)=>(K(),ee(E(Ye),Te({"data-slot":"badge",class:E(Je)(E(wk)({variant:r.variant}),e.class)},n.value),{default:W(()=>[he(r.$slots,"default")]),_:3},16,["class"]))}}),wk=ov("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}}),Ck={class:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4"},xk={class:"text-2xl sm:text-3xl font-bold tracking-tight"},Ek={class:"flex flex-wrap items-center gap-2 sm:gap-4 w-full md:w-auto"},Sk={class:"hidden sm:inline"},Ak={class:"sm:hidden"},Tk=Z({__name:"AppHeader",setup(t){const e=_k({offset:0,interval:1e3}),n=bk({interval:1e3*60}),r=z(()=>new Date(e.value)),s=qa(n,"HH:mm"),o=qa(n,"dddd, D. MMMM YYYY, HH:mm"),i=z(()=>r.value.getHours()>=18||r.value.getHours()<6),a=ub(),l=z(()=>{const f=r.value.getHours();let d="";return i.value?d+="Guten Abend":f>=6&&f<12?d+="Guten Morgen":f>=12&&f<18?d+="Guten Tag":d+="Guten Abend",a.user.name!==""&&(d+=`, ${a.user.name}`),d}),c=ib(),{weather:u}=Uy(c);return(f,d)=>{const h=ly("router-link");return K(),He("header",null,[Me("nav",Ck,[Me("div",null,[Me("h1",xk,[q(h,{to:"/"},{default:W(()=>[pt(ft(l.value),1)]),_:1})])]),Me("div",Ek,[q(E(Ga),{variant:"outline",class:"flex items-center gap-1 py-1.5 px-2.5"},{default:W(()=>[i.value?(K(),ee(E(Sx),{key:1,class:"h-4 w-4 text-gray-500"})):(K(),ee(E(kx),{key:0,class:"h-4 w-4 text-amber-500"})),Me("span",Sk,ft(E(o))+" Uhr",1),Me("span",Ak,ft(E(s))+" Uhr",1)]),_:1}),q(E(Wu),{orientation:"vertical",class:"h-6 hidden sm:block"}),q(E(Ga),{variant:"secondary",class:"flex items-center gap-1 py-1.5 px-2.5"},{default:W(()=>[E(u).temperature>10?(K(),ee(E(Rx),{key:0,class:"h-4 w-4 text-blue-400"})):Yn("",!0),E(u).temperature<=10?(K(),ee(E(Ox),{key:1,class:"h-4 w-4 text-blue-400"})):Yn("",!0),pt(" "+ft(E(u).temperature)+"°C ",1)]),_:1}),q(E(Wu),{orientation:"vertical",class:"h-6 hidden sm:block"}),q(E(hn),{variant:"ghost",size:"sm",class:"p-2",onClick:d[0]||(d[0]=m=>f.$router.push("/settings"))},{default:W(()=>[q(E(Tx),{class:"h-5 w-5"})]),_:1})])])])}}});class kk{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){const e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){const e=[];for(const n of this._parts)e.push(n);return Ok(e).buffer}}function Ok(t){let e=0;for(const s of t)e+=s.byteLength;const n=new Uint8Array(e);let r=0;for(const s of t){const o=new Uint8Array(s.buffer,s.byteOffset,s.byteLength);n.set(o,r),r+=s.byteLength}return n}function fb(t){return new Rk(t).unpack()}function db(t){const e=new $k,n=e.pack(t);return n instanceof Promise?n.then(()=>e.getBuffer()):e.getBuffer()}class Rk{constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;let n;if((n=e^160)<=15)return this.unpack_raw(n);if((n=e^176)<=15)return this.unpack_string(n);if((n=e^144)<=15)return this.unpack_array(n);if((n=e^128)<=15)return this.unpack_map(n);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return n=this.unpack_uint16(),this.unpack_string(n);case 217:return n=this.unpack_uint32(),this.unpack_string(n);case 218:return n=this.unpack_uint16(),this.unpack_raw(n);case 219:return n=this.unpack_uint32(),this.unpack_raw(n);case 220:return n=this.unpack_uint16(),this.unpack_array(n);case 221:return n=this.unpack_uint32(),this.unpack_array(n);case 222:return n=this.unpack_uint16(),this.unpack_map(n);case 223:return n=this.unpack_uint32(),this.unpack_map(n)}}unpack_uint8(){const e=this.dataView[this.index]&255;return this.index++,e}unpack_uint16(){const e=this.read(2),n=(e[0]&255)*256+(e[1]&255);return this.index+=2,n}unpack_uint32(){const e=this.read(4),n=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,n}unpack_uint64(){const e=this.read(8),n=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,n}unpack_int8(){const e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){const e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){const e=this.unpack_uint32();return e<2**31?e:e-2**32}unpack_int64(){const e=this.unpack_uint64();return e<2**63?e:e-2**64}unpack_raw(e){if(this.length<this.index+e)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);const n=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,n}unpack_string(e){const n=this.read(e);let r=0,s="",o,i;for(;r<e;)o=n[r],o<160?(i=o,r++):(o^192)<32?(i=(o&31)<<6|n[r+1]&63,r+=2):(o^224)<16?(i=(o&15)<<12|(n[r+1]&63)<<6|n[r+2]&63,r+=3):(i=(o&7)<<18|(n[r+1]&63)<<12|(n[r+2]&63)<<6|n[r+3]&63,r+=4),s+=String.fromCodePoint(i);return this.index+=e,s}unpack_array(e){const n=new Array(e);for(let r=0;r<e;r++)n[r]=this.unpack();return n}unpack_map(e){const n={};for(let r=0;r<e;r++){const s=this.unpack();n[s]=this.unpack()}return n}unpack_float(){const e=this.unpack_uint32(),n=e>>31,r=(e>>23&255)-127,s=e&8388607|8388608;return(n===0?1:-1)*s*2**(r-23)}unpack_double(){const e=this.unpack_uint32(),n=this.unpack_uint32(),r=e>>31,s=(e>>20&2047)-1023,i=(e&1048575|1048576)*2**(s-20)+n*2**(s-52);return(r===0?1:-1)*i}read(e){const n=this.index;if(n+e<=this.length)return this.dataView.subarray(n,n+e);throw new Error("BinaryPackFailure: read index out of range")}}class $k{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if(typeof e=="string")this.pack_string(e);else if(typeof e=="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(typeof e=="boolean")e===!0?this._bufferBuilder.append(195):e===!1&&this._bufferBuilder.append(194);else if(e===void 0)this._bufferBuilder.append(192);else if(typeof e=="object")if(e===null)this._bufferBuilder.append(192);else{const n=e.constructor;if(e instanceof Array){const r=this.pack_array(e);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e){const r=e;this.pack_bin(new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}else if(e instanceof Date)this.pack_string(e.toString());else{if(e instanceof Blob)return e.arrayBuffer().then(r=>{this.pack_bin(new Uint8Array(r)),this._bufferBuilder.flush()});if(n==Object||n.toString().startsWith("class")){const r=this.pack_object(e);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${n.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof e}" not yet supported`);this._bufferBuilder.flush()}pack_bin(e){const n=e.length;if(n<=15)this.pack_uint8(160+n);else if(n<=65535)this._bufferBuilder.append(218),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_string(e){const n=this._textEncoder.encode(e),r=n.length;if(r<=15)this.pack_uint8(176+r);else if(r<=65535)this._bufferBuilder.append(216),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(r);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_array(e){const n=e.length;if(n<=15)this.pack_uint8(144+n);else if(n<=65535)this._bufferBuilder.append(220),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(n);else throw new Error("Invalid length");const r=s=>{if(s<n){const o=this.pack(e[s]);return o instanceof Promise?o.then(()=>r(s+1)):r(s+1)}};return r(0)}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(e&255);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")}pack_double(e){let n=0;e<0&&(n=1,e=-e);const r=Math.floor(Math.log(e)/Math.LN2),s=e/2**r-1,o=Math.floor(s*2**52),i=2**32,a=n<<31|r+1023<<20|o/i&1048575,l=o%i;this._bufferBuilder.append(203),this.pack_int32(a),this.pack_int32(l)}pack_object(e){const n=Object.keys(e),r=n.length;if(r<=15)this.pack_uint8(128+r);else if(r<=65535)this._bufferBuilder.append(222),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(r);else throw new Error("Invalid length");const s=o=>{if(o<n.length){const i=n[o];if(e.hasOwnProperty(i)){this.pack(i);const a=this.pack(e[i]);if(a instanceof Promise)return a.then(()=>s(o+1))}return s(o+1)}};return s(0)}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(e&255)}pack_uint32(e){const n=e&4294967295;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_uint64(e){const n=e/4294967296,r=e%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}pack_int8(e){this._bufferBuilder.append(e&255)}pack_int16(e){this._bufferBuilder.append((e&65280)>>8),this._bufferBuilder.append(e&255)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_int64(e){const n=Math.floor(e/4294967296),r=e%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}constructor(){this._bufferBuilder=new kk,this._textEncoder=new TextEncoder}}let hb=!0,pb=!0;function So(t,e,n){const r=t.match(e);return r&&r.length>=n&&parseFloat(r[n],10)}function os(t,e,n){if(!t.RTCPeerConnection)return;const r=t.RTCPeerConnection.prototype,s=r.addEventListener;r.addEventListener=function(i,a){if(i!==e)return s.apply(this,arguments);const l=c=>{const u=n(c);u&&(a.handleEvent?a.handleEvent(u):a(u))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(a,l),s.apply(this,[i,l])};const o=r.removeEventListener;r.removeEventListener=function(i,a){if(i!==e||!this._eventMap||!this._eventMap[e])return o.apply(this,arguments);if(!this._eventMap[e].has(a))return o.apply(this,arguments);const l=this._eventMap[e].get(a);return this._eventMap[e].delete(a),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,o.apply(this,[i,l])},Object.defineProperty(r,"on"+e,{get(){return this["_on"+e]},set(i){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),i&&this.addEventListener(e,this["_on"+e]=i)},enumerable:!0,configurable:!0})}function Pk(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(hb=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function Dk(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(pb=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function mb(){if(typeof window=="object"){if(hb)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function nd(t,e){pb&&console.warn(t+" is deprecated, please use "+e+" instead.")}function Mk(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator||!t.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:n}=t;if(n.userAgentData&&n.userAgentData.brands){const r=n.userAgentData.brands.find(s=>s.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(n.mozGetUserMedia)e.browser="firefox",e.version=parseInt(So(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=parseInt(So(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(t.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=parseInt(So(n.userAgent,/AppleWebKit\/(\d+)\./,1)),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype,e._safariVersion=So(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return e.browser="Not a supported browser.",e;return e}function im(t){return Object.prototype.toString.call(t)==="[object Object]"}function gb(t){return im(t)?Object.keys(t).reduce(function(e,n){const r=im(t[n]),s=r?gb(t[n]):t[n],o=r&&!Object.keys(s).length;return s===void 0||o?e:Object.assign(e,{[n]:s})},{}):t}function Ku(t,e,n){!e||n.has(e.id)||(n.set(e.id,e),Object.keys(e).forEach(r=>{r.endsWith("Id")?Ku(t,t.get(e[r]),n):r.endsWith("Ids")&&e[r].forEach(s=>{Ku(t,t.get(s),n)})}))}function am(t,e,n){const r=n?"outbound-rtp":"inbound-rtp",s=new Map;if(e===null)return s;const o=[];return t.forEach(i=>{i.type==="track"&&i.trackIdentifier===e.id&&o.push(i)}),o.forEach(i=>{t.forEach(a=>{a.type===r&&a.trackId===i.id&&Ku(t,a,s)})}),s}const lm=mb;function yb(t,e){const n=t&&t.navigator;if(!n.mediaDevices)return;const r=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const l={};return Object.keys(a).forEach(c=>{if(c==="require"||c==="advanced"||c==="mediaSource")return;const u=typeof a[c]=="object"?a[c]:{ideal:a[c]};u.exact!==void 0&&typeof u.exact=="number"&&(u.min=u.max=u.exact);const f=function(d,h){return d?d+h.charAt(0).toUpperCase()+h.slice(1):h==="deviceId"?"sourceId":h};if(u.ideal!==void 0){l.optional=l.optional||[];let d={};typeof u.ideal=="number"?(d[f("min",c)]=u.ideal,l.optional.push(d),d={},d[f("max",c)]=u.ideal,l.optional.push(d)):(d[f("",c)]=u.ideal,l.optional.push(d))}u.exact!==void 0&&typeof u.exact!="number"?(l.mandatory=l.mandatory||{},l.mandatory[f("",c)]=u.exact):["min","max"].forEach(d=>{u[d]!==void 0&&(l.mandatory=l.mandatory||{},l.mandatory[f(d,c)]=u[d])})}),a.advanced&&(l.optional=(l.optional||[]).concat(a.advanced)),l},s=function(a,l){if(e.version>=61)return l(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){const c=function(u,f,d){f in u&&!(d in u)&&(u[d]=u[f],delete u[f])};a=JSON.parse(JSON.stringify(a)),c(a.audio,"autoGainControl","googAutoGainControl"),c(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=r(a.audio)}if(a&&typeof a.video=="object"){let c=a.video.facingMode;c=c&&(typeof c=="object"?c:{ideal:c});const u=e.version<66;if(c&&(c.exact==="user"||c.exact==="environment"||c.ideal==="user"||c.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!u)){delete a.video.facingMode;let f;if(c.exact==="environment"||c.ideal==="environment"?f=["back","rear"]:(c.exact==="user"||c.ideal==="user")&&(f=["front"]),f)return n.mediaDevices.enumerateDevices().then(d=>{d=d.filter(m=>m.kind==="videoinput");let h=d.find(m=>f.some(p=>m.label.toLowerCase().includes(p)));return!h&&d.length&&f.includes("back")&&(h=d[d.length-1]),h&&(a.video.deviceId=c.exact?{exact:h.deviceId}:{ideal:h.deviceId}),a.video=r(a.video),lm("chrome: "+JSON.stringify(a)),l(a)})}a.video=r(a.video)}return lm("chrome: "+JSON.stringify(a)),l(a)},o=function(a){return e.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},i=function(a,l,c){s(a,u=>{n.webkitGetUserMedia(u,l,f=>{c&&c(o(f))})})};if(n.getUserMedia=i.bind(n),n.mediaDevices.getUserMedia){const a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(l){return s(l,c=>a(c).then(u=>{if(c.audio&&!u.getAudioTracks().length||c.video&&!u.getVideoTracks().length)throw u.getTracks().forEach(f=>{f.stop()}),new DOMException("","NotFoundError");return u},u=>Promise.reject(o(u))))}}}function vb(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function bb(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",s=>{let o;t.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(a=>a.track&&a.track.id===s.track.id):o={track:s.track};const i=new Event("track");i.track=s.track,i.receiver=o,i.transceiver={receiver:o},i.streams=[r.stream],this.dispatchEvent(i)}),r.stream.getTracks().forEach(s=>{let o;t.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(a=>a.track&&a.track.id===s.id):o={track:s};const i=new Event("track");i.track=s,i.receiver=o,i.transceiver={receiver:o},i.streams=[r.stream],this.dispatchEvent(i)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else os(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function _b(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(s,o){return{track:o,get dtmf(){return this._dtmf===void 0&&(o.kind==="audio"?this._dtmf=s.createDTMFSender(o):this._dtmf=null),this._dtmf},_pc:s}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const s=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(a,l){let c=s.apply(this,arguments);return c||(c=e(this,a),this._senders.push(c)),c};const o=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(a){o.apply(this,arguments);const l=this._senders.indexOf(a);l!==-1&&this._senders.splice(l,1)}}const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(o){this._senders=this._senders||[],n.apply(this,[o]),o.getTracks().forEach(i=>{this._senders.push(e(this,i))})};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(o){this._senders=this._senders||[],r.apply(this,[o]),o.getTracks().forEach(i=>{const a=this._senders.find(l=>l.track===i);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const r=e.apply(this,[]);return r.forEach(s=>s._pc=this),r},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function wb(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){const o=n.apply(this,[]);return o.forEach(i=>i._pc=this),o});const r=t.RTCPeerConnection.prototype.addTrack;r&&(t.RTCPeerConnection.prototype.addTrack=function(){const o=r.apply(this,arguments);return o._pc=this,o}),t.RTCRtpSender.prototype.getStats=function(){const o=this;return this._pc.getStats().then(i=>am(i,o.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){const s=n.apply(this,[]);return s.forEach(o=>o._pc=this),s}),os(t,"track",r=>(r.receiver._pc=r.srcElement,r)),t.RTCRtpReceiver.prototype.getStats=function(){const s=this;return this._pc.getStats().then(o=>am(o,s.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const r=arguments[0];let s,o,i;return this.getSenders().forEach(a=>{a.track===r&&(s?i=!0:s=a)}),this.getReceivers().forEach(a=>(a.track===r&&(o?i=!0:o=a),a.track===r)),i||s&&o?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):s?s.getStats():o?o.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function Cb(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(i=>this._shimmedLocalStreams[i][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(i,a){if(!a)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const l=e.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(l)===-1&&this._shimmedLocalStreams[a.id].push(l):this._shimmedLocalStreams[a.id]=[a,l],l};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(i){this._shimmedLocalStreams=this._shimmedLocalStreams||{},i.getTracks().forEach(c=>{if(this.getSenders().find(f=>f.track===c))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();n.apply(this,arguments);const l=this.getSenders().filter(c=>a.indexOf(c)===-1);this._shimmedLocalStreams[i.id]=[i].concat(l)};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(i){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[i.id],r.apply(this,arguments)};const s=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(i){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},i&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const l=this._shimmedLocalStreams[a].indexOf(i);l!==-1&&this._shimmedLocalStreams[a].splice(l,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),s.apply(this,arguments)}}function xb(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return Cb(t);const n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const u=n.apply(this);return this._reverseStreams=this._reverseStreams||{},u.map(f=>this._reverseStreams[f.id])};const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(u){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},u.getTracks().forEach(f=>{if(this.getSenders().find(h=>h.track===f))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[u.id]){const f=new t.MediaStream(u.getTracks());this._streams[u.id]=f,this._reverseStreams[f.id]=u,u=f}r.apply(this,[u])};const s=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(u){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},s.apply(this,[this._streams[u.id]||u]),delete this._reverseStreams[this._streams[u.id]?this._streams[u.id].id:u.id],delete this._streams[u.id]},t.RTCPeerConnection.prototype.addTrack=function(u,f){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const d=[].slice.call(arguments,1);if(d.length!==1||!d[0].getTracks().find(p=>p===u))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(p=>p.track===u))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const m=this._streams[f.id];if(m)m.addTrack(u),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const p=new t.MediaStream([u]);this._streams[f.id]=p,this._reverseStreams[p.id]=f,this.addStream(p)}return this.getSenders().find(p=>p.track===u)};function o(c,u){let f=u.sdp;return Object.keys(c._reverseStreams||[]).forEach(d=>{const h=c._reverseStreams[d],m=c._streams[h.id];f=f.replace(new RegExp(m.id,"g"),h.id)}),new RTCSessionDescription({type:u.type,sdp:f})}function i(c,u){let f=u.sdp;return Object.keys(c._reverseStreams||[]).forEach(d=>{const h=c._reverseStreams[d],m=c._streams[h.id];f=f.replace(new RegExp(h.id,"g"),m.id)}),new RTCSessionDescription({type:u.type,sdp:f})}["createOffer","createAnswer"].forEach(function(c){const u=t.RTCPeerConnection.prototype[c],f={[c](){const d=arguments;return arguments.length&&typeof arguments[0]=="function"?u.apply(this,[m=>{const p=o(this,m);d[0].apply(null,[p])},m=>{d[1]&&d[1].apply(null,m)},arguments[2]]):u.apply(this,arguments).then(m=>o(this,m))}};t.RTCPeerConnection.prototype[c]=f[c]});const a=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=i(this,arguments[0]),a.apply(this,arguments))};const l=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const c=l.get.apply(this);return c.type===""?c:o(this,c)}}),t.RTCPeerConnection.prototype.removeTrack=function(u){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!u._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(u._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let d;Object.keys(this._streams).forEach(h=>{this._streams[h].getTracks().find(p=>u.track===p)&&(d=this._streams[h])}),d&&(d.getTracks().length===1?this.removeStream(this._reverseStreams[d.id]):d.removeTrack(u.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Yu(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=t.RTCPeerConnection.prototype[n],s={[n](){return arguments[0]=new(n==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=s[n]})}function Eb(t,e){os(t,"negotiationneeded",n=>{const r=n.target;if(!((e.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const cm=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:Eb,shimAddTrackRemoveTrack:xb,shimAddTrackRemoveTrackWithNative:Cb,shimGetSendersWithDtmf:_b,shimGetUserMedia:yb,shimMediaStream:vb,shimOnTrack:bb,shimPeerConnection:Yu,shimSenderReceiverGetStats:wb},Symbol.toStringTag,{value:"Module"}));function Sb(t,e){const n=t&&t.navigator,r=t&&t.MediaStreamTrack;if(n.getUserMedia=function(s,o,i){nd("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(s).then(o,i)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const s=function(i,a,l){a in i&&!(l in i)&&(i[l]=i[a],delete i[a])},o=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(i){return typeof i=="object"&&typeof i.audio=="object"&&(i=JSON.parse(JSON.stringify(i)),s(i.audio,"autoGainControl","mozAutoGainControl"),s(i.audio,"noiseSuppression","mozNoiseSuppression")),o(i)},r&&r.prototype.getSettings){const i=r.prototype.getSettings;r.prototype.getSettings=function(){const a=i.apply(this,arguments);return s(a,"mozAutoGainControl","autoGainControl"),s(a,"mozNoiseSuppression","noiseSuppression"),a}}if(r&&r.prototype.applyConstraints){const i=r.prototype.applyConstraints;r.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),s(a,"autoGainControl","mozAutoGainControl"),s(a,"noiseSuppression","mozNoiseSuppression")),i.apply(this,[a])}}}}function Ik(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const s=new DOMException("getDisplayMedia without video constraints is undefined");return s.name="NotFoundError",s.code=8,Promise.reject(s)}return r.video===!0?r.video={mediaSource:e}:r.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(r)})}function Ab(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function qu(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(s){const o=t.RTCPeerConnection.prototype[s],i={[s](){return arguments[0]=new(s==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),o.apply(this,arguments)}};t.RTCPeerConnection.prototype[s]=i[s]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[o,i,a]=arguments;return r.apply(this,[o||null]).then(l=>{if(e.version<53&&!i)try{l.forEach(c=>{c.type=n[c.type]||c.type})}catch(c){if(c.name!=="TypeError")throw c;l.forEach((u,f)=>{l.set(f,Object.assign({},u,{type:n[u.type]||u.type}))})}return l}).then(i,a)}}function Tb(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const s=e.apply(this,[]);return s.forEach(o=>o._pc=this),s});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const s=n.apply(this,arguments);return s._pc=this,s}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function kb(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const r=e.apply(this,[]);return r.forEach(s=>s._pc=this),r}),os(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Ob(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){nd("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function Rb(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function $b(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const s=r.length>0;s&&r.forEach(i=>{if("rid"in i&&!/^[a-z0-9]{0,16}$/i.test(i.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in i&&!(parseFloat(i.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in i&&!(parseFloat(i.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const o=e.apply(this,arguments);if(s){const{sender:i}=o,a=i.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=r,i.sendEncodings=r,this.setParametersPromises.push(i.setParameters(a).then(()=>{delete i.sendEncodings}).catch(()=>{delete i.sendEncodings})))}return o})}function Pb(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const r=e.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function Db(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function Mb(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const um=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:$b,shimCreateAnswer:Mb,shimCreateOffer:Db,shimGetDisplayMedia:Ik,shimGetParameters:Pb,shimGetUserMedia:Sb,shimOnTrack:Ab,shimPeerConnection:qu,shimRTCDataChannel:Rb,shimReceiverGetStats:kb,shimRemoveStream:Ob,shimSenderGetStats:Tb},Symbol.toStringTag,{value:"Module"}));function Ib(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(s=>e.call(this,s,r)),r.getVideoTracks().forEach(s=>e.call(this,s,r))},t.RTCPeerConnection.prototype.addTrack=function(r,...s){return s&&s.forEach(o=>{this._localStreams?this._localStreams.includes(o)||this._localStreams.push(o):this._localStreams=[o]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const s=n.getTracks();this.getSenders().forEach(o=>{s.includes(o.track)&&this.removeTrack(o)})})}}function Fb(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(s=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(s))return;this._remoteStreams.push(s);const o=new Event("addstream");o.stream=s,this.dispatchEvent(o)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(s){s.streams.forEach(o=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(o)>=0)return;r._remoteStreams.push(o);const i=new Event("addstream");i.stream=o,r.dispatchEvent(i)})}),e.apply(r,arguments)}}}function Nb(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,n=e.createOffer,r=e.createAnswer,s=e.setLocalDescription,o=e.setRemoteDescription,i=e.addIceCandidate;e.createOffer=function(c,u){const f=arguments.length>=2?arguments[2]:arguments[0],d=n.apply(this,[f]);return u?(d.then(c,u),Promise.resolve()):d},e.createAnswer=function(c,u){const f=arguments.length>=2?arguments[2]:arguments[0],d=r.apply(this,[f]);return u?(d.then(c,u),Promise.resolve()):d};let a=function(l,c,u){const f=s.apply(this,[l]);return u?(f.then(c,u),Promise.resolve()):f};e.setLocalDescription=a,a=function(l,c,u){const f=o.apply(this,[l]);return u?(f.then(c,u),Promise.resolve()):f},e.setRemoteDescription=a,a=function(l,c,u){const f=i.apply(this,[l]);return u?(f.then(c,u),Promise.resolve()):f},e.addIceCandidate=a}function Lb(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const n=e.mediaDevices,r=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=s=>r(Bb(s))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(r,s,o){e.mediaDevices.getUserMedia(r).then(s,o)}).bind(e))}function Bb(t){return t&&t.video!==void 0?Object.assign({},t,{video:gb(t.video)}):t}function Ub(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(r,s){if(r&&r.iceServers){const o=[];for(let i=0;i<r.iceServers.length;i++){let a=r.iceServers[i];a.urls===void 0&&a.url?(nd("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,o.push(a)):o.push(r.iceServers[i])}r.iceServers=o}return new e(r,s)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function jb(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Vb(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const s=this.getTransceivers().find(i=>i.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):r.offerToReceiveAudio===!0&&!s&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const o=this.getTransceivers().find(i=>i.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&o?o.direction==="sendrecv"?o.setDirection?o.setDirection("sendonly"):o.direction="sendonly":o.direction==="recvonly"&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive"):r.offerToReceiveVideo===!0&&!o&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function Hb(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}const fm=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:Hb,shimCallbacksAPI:Nb,shimConstraints:Bb,shimCreateOfferLegacy:Vb,shimGetUserMedia:Lb,shimLocalStreamsAPI:Ib,shimRTCIceServerUrls:Ub,shimRemoteStreamsAPI:Fb,shimTrackEventTransceiver:jb},Symbol.toStringTag,{value:"Module"}));var Mc={exports:{}},dm;function Fk(){return dm||(dm=1,function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},e.splitSections=function(n){return n.split(`
m=`).map((s,o)=>(o>0?"m="+s:s).trim()+`\r
`)},e.getDescription=function(n){const r=e.splitSections(n);return r&&r[0]},e.getMediaSections=function(n){const r=e.splitSections(n);return r.shift(),r},e.matchPrefix=function(n,r){return e.splitLines(n).filter(s=>s.indexOf(r)===0)},e.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const s={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let o=8;o<r.length;o+=2)switch(r[o]){case"raddr":s.relatedAddress=r[o+1];break;case"rport":s.relatedPort=parseInt(r[o+1],10);break;case"tcptype":s.tcpType=r[o+1];break;case"ufrag":s.ufrag=r[o+1],s.usernameFragment=r[o+1];break;default:s[r[o]]===void 0&&(s[r[o]]=r[o+1]);break}return s},e.writeCandidate=function(n){const r=[];r.push(n.foundation);const s=n.component;s==="rtp"?r.push(1):s==="rtcp"?r.push(2):r.push(s),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const o=n.type;return r.push("typ"),r.push(o),o!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},e.parseIceOptions=function(n){return n.substring(14).split(" ")},e.parseRtpMap=function(n){let r=n.substring(9).split(" ");const s={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),s.name=r[0],s.clockRate=parseInt(r[1],10),s.channels=r.length===3?parseInt(r[2],10):1,s.numChannels=s.channels,s},e.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const s=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(s!==1?"/"+s:"")+`\r
`},e.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},e.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},e.parseFmtp=function(n){const r={};let s;const o=n.substring(n.indexOf(" ")+1).split(";");for(let i=0;i<o.length;i++)s=o[i].trim().split("="),r[s[0].trim()]=s[1];return r},e.writeFmtp=function(n){let r="",s=n.payloadType;if(n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const o=[];Object.keys(n.parameters).forEach(i=>{n.parameters[i]!==void 0?o.push(i+"="+n.parameters[i]):o.push(i)}),r+="a=fmtp:"+s+" "+o.join(";")+`\r
`}return r},e.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},e.writeRtcpFb=function(n){let r="",s=n.payloadType;return n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(o=>{r+="a=rtcp-fb:"+s+" "+o.type+(o.parameter&&o.parameter.length?" "+o.parameter:"")+`\r
`}),r},e.parseSsrcMedia=function(n){const r=n.indexOf(" "),s={ssrc:parseInt(n.substring(7,r),10)},o=n.indexOf(":",r);return o>-1?(s.attribute=n.substring(r+1,o),s.value=n.substring(o+1)):s.attribute=n.substring(r+1),s},e.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(s=>parseInt(s,10))}},e.getMid=function(n){const r=e.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},e.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},e.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:e.matchPrefix(n+r,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(n,r){let s="a=setup:"+r+`\r
`;return n.fingerprints.forEach(o=>{s+="a=fingerprint:"+o.algorithm+" "+o.value+`\r
`}),s},e.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},e.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?e.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},e.getCryptoParameters=function(n,r){return e.matchPrefix(n+r,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(n,r){const s=e.matchPrefix(n+r,"a=ice-ufrag:")[0],o=e.matchPrefix(n+r,"a=ice-pwd:")[0];return s&&o?{usernameFragment:s.substring(12),password:o.substring(10)}:null},e.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},e.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},o=e.splitLines(n)[0].split(" ");r.profile=o[2];for(let a=3;a<o.length;a++){const l=o[a],c=e.matchPrefix(n,"a=rtpmap:"+l+" ")[0];if(c){const u=e.parseRtpMap(c),f=e.matchPrefix(n,"a=fmtp:"+l+" ");switch(u.parameters=f.length?e.parseFmtp(f[0]):{},u.rtcpFeedback=e.matchPrefix(n,"a=rtcp-fb:"+l+" ").map(e.parseRtcpFb),r.codecs.push(u),u.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(u.name.toUpperCase());break}}}e.matchPrefix(n,"a=extmap:").forEach(a=>{r.headerExtensions.push(e.parseExtmap(a))});const i=e.matchPrefix(n,"a=rtcp-fb:* ").map(e.parseRtcpFb);return r.codecs.forEach(a=>{i.forEach(l=>{a.rtcpFeedback.find(u=>u.type===l.type&&u.parameter===l.parameter)||a.rtcpFeedback.push(l)})}),r},e.writeRtpDescription=function(n,r){let s="";s+="m="+n+" ",s+=r.codecs.length>0?"9":"0",s+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",s+=r.codecs.map(i=>i.preferredPayloadType!==void 0?i.preferredPayloadType:i.payloadType).join(" ")+`\r
`,s+=`c=IN IP4 0.0.0.0\r
`,s+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(i=>{s+=e.writeRtpMap(i),s+=e.writeFmtp(i),s+=e.writeRtcpFb(i)});let o=0;return r.codecs.forEach(i=>{i.maxptime>o&&(o=i.maxptime)}),o>0&&(s+="a=maxptime:"+o+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(i=>{s+=e.writeExtmap(i)}),s},e.parseRtpEncodingParameters=function(n){const r=[],s=e.parseRtpParameters(n),o=s.fecMechanisms.indexOf("RED")!==-1,i=s.fecMechanisms.indexOf("ULPFEC")!==-1,a=e.matchPrefix(n,"a=ssrc:").map(d=>e.parseSsrcMedia(d)).filter(d=>d.attribute==="cname"),l=a.length>0&&a[0].ssrc;let c;const u=e.matchPrefix(n,"a=ssrc-group:FID").map(d=>d.substring(17).split(" ").map(m=>parseInt(m,10)));u.length>0&&u[0].length>1&&u[0][0]===l&&(c=u[0][1]),s.codecs.forEach(d=>{if(d.name.toUpperCase()==="RTX"&&d.parameters.apt){let h={ssrc:l,codecPayloadType:parseInt(d.parameters.apt,10)};l&&c&&(h.rtx={ssrc:c}),r.push(h),o&&(h=JSON.parse(JSON.stringify(h)),h.fec={ssrc:l,mechanism:i?"red+ulpfec":"red"},r.push(h))}}),r.length===0&&l&&r.push({ssrc:l});let f=e.matchPrefix(n,"b=");return f.length&&(f[0].indexOf("b=TIAS:")===0?f=parseInt(f[0].substring(7),10):f[0].indexOf("b=AS:")===0?f=parseInt(f[0].substring(5),10)*1e3*.95-50*40*8:f=void 0,r.forEach(d=>{d.maxBitrate=f})),r},e.parseRtcpParameters=function(n){const r={},s=e.matchPrefix(n,"a=ssrc:").map(a=>e.parseSsrcMedia(a)).filter(a=>a.attribute==="cname")[0];s&&(r.cname=s.value,r.ssrc=s.ssrc);const o=e.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=o.length>0,r.compound=o.length===0;const i=e.matchPrefix(n,"a=rtcp-mux");return r.mux=i.length>0,r},e.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},e.parseMsid=function(n){let r;const s=e.matchPrefix(n,"a=msid:");if(s.length===1)return r=s[0].substring(7).split(" "),{stream:r[0],track:r[1]};const o=e.matchPrefix(n,"a=ssrc:").map(i=>e.parseSsrcMedia(i)).filter(i=>i.attribute==="msid");if(o.length>0)return r=o[0].value.split(" "),{stream:r[0],track:r[1]}},e.parseSctpDescription=function(n){const r=e.parseMLine(n),s=e.matchPrefix(n,"a=max-message-size:");let o;s.length>0&&(o=parseInt(s[0].substring(19),10)),isNaN(o)&&(o=65536);const i=e.matchPrefix(n,"a=sctp-port:");if(i.length>0)return{port:parseInt(i[0].substring(12),10),protocol:r.fmt,maxMessageSize:o};const a=e.matchPrefix(n,"a=sctpmap:");if(a.length>0){const l=a[0].substring(10).split(" ");return{port:parseInt(l[0],10),protocol:l[1],maxMessageSize:o}}},e.writeSctpDescription=function(n,r){let s=[];return n.protocol!=="DTLS/SCTP"?s=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:s=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&s.push("a=max-message-size:"+r.maxMessageSize+`\r
`),s.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(n,r,s){let o;const i=r!==void 0?r:2;return n?o=n:o=e.generateSessionId(),`v=0\r
o=`+(s||"thisisadapterortc")+" "+o+" "+i+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(n,r){const s=e.splitLines(n);for(let o=0;o<s.length;o++)switch(s[o]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return s[o].substring(2)}return r?e.getDirection(r):"sendrecv"},e.getKind=function(n){return e.splitLines(n)[0].split(" ")[0].substring(2)},e.isRejected=function(n){return n.split(" ",2)[1]==="0"},e.parseMLine=function(n){const s=e.splitLines(n)[0].substring(2).split(" ");return{kind:s[0],port:parseInt(s[1],10),protocol:s[2],fmt:s.slice(3).join(" ")}},e.parseOLine=function(n){const s=e.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:s[0],sessionId:s[1],sessionVersion:parseInt(s[2],10),netType:s[3],addressType:s[4],address:s[5]}},e.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=e.splitLines(n);for(let s=0;s<r.length;s++)if(r[s].length<2||r[s].charAt(1)!=="=")return!1;return!0},t.exports=e}(Mc)),Mc.exports}var zb=Fk();const Ls=td(zb),Nk=K_({__proto__:null,default:Ls},[zb]);function ga(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const s=new e(r),o=Ls.parseCandidate(r.candidate);for(const i in o)i in s||Object.defineProperty(s,i,{value:o[i]});return s.toJSON=function(){return{candidate:s.candidate,sdpMid:s.sdpMid,sdpMLineIndex:s.sdpMLineIndex,usernameFragment:s.usernameFragment}},s}return new e(r)},t.RTCIceCandidate.prototype=e.prototype,os(t,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new t.RTCIceCandidate(n.candidate),writable:"false"}),n))}function Gu(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||os(t,"icecandidate",e=>{if(e.candidate){const n=Ls.parseCandidate(e.candidate.candidate);n.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return e})}function ya(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(a){if(!a||!a.sdp)return!1;const l=Ls.splitSections(a.sdp);return l.shift(),l.some(c=>{const u=Ls.parseMLine(c);return u&&u.kind==="application"&&u.protocol.indexOf("SCTP")!==-1})},r=function(a){const l=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(l===null||l.length<2)return-1;const c=parseInt(l[1],10);return c!==c?-1:c},s=function(a){let l=65536;return e.browser==="firefox"&&(e.version<57?a===-1?l=16384:l=2147483637:e.version<60?l=e.version===57?65535:65536:l=2147483637),l},o=function(a,l){let c=65536;e.browser==="firefox"&&e.version===57&&(c=65535);const u=Ls.matchPrefix(a.sdp,"a=max-message-size:");return u.length>0?c=parseInt(u[0].substring(19),10):e.browser==="firefox"&&l!==-1&&(c=2147483637),c},i=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:l}=this.getConfiguration();l==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const l=r(arguments[0]),c=s(l),u=o(arguments[0],l);let f;c===0&&u===0?f=Number.POSITIVE_INFINITY:c===0||u===0?f=Math.max(c,u):f=Math.min(c,u);const d={};Object.defineProperty(d,"maxMessageSize",{get(){return f}}),this._sctp=d}return i.apply(this,arguments)}}function va(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(r,s){const o=r.send;r.send=function(){const a=arguments[0],l=a.length||a.size||a.byteLength;if(r.readyState==="open"&&s.sctp&&l>s.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+s.sctp.maxMessageSize+" bytes)");return o.apply(r,arguments)}}const n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const s=n.apply(this,arguments);return e(s,this),s},os(t,"datachannel",r=>(e(r.channel,r.target),r))}function Ju(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=s=>{const o=s.target;if(o._lastConnectionState!==o.connectionState){o._lastConnectionState=o.connectionState;const i=new Event("connectionstatechange",s);o.dispatchEvent(i)}return s},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function Xu(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e._safariVersion>=13.1)return;const n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(s){if(s&&s.sdp&&s.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const o=s.sdp.split(`
`).filter(i=>i.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&s instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:s.type,sdp:o}):s.sdp=o}return n.apply(this,arguments)}}function ba(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function _a(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let s=arguments[0]||{};if(typeof s!="object"||s.type&&s.sdp)return n.apply(this,arguments);if(s={type:s.type,sdp:s.sdp},!s.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":s.type="offer";break;default:s.type="answer";break}return s.sdp||s.type!=="offer"&&s.type!=="answer"?n.apply(this,[s]):(s.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(i=>n.apply(this,[i]))})}const Lk=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Xu,shimAddIceCandidateNullOrEmpty:ba,shimConnectionState:Ju,shimMaxMessageSize:ya,shimParameterlessSetLocalDescription:_a,shimRTCIceCandidate:ga,shimRTCIceCandidateRelayProtocol:Gu,shimSendThrowTypeError:va},Symbol.toStringTag,{value:"Module"}));function Bk({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=mb,r=Mk(t),s={browserDetails:r,commonShim:Lk,extractVersion:So,disableLog:Pk,disableWarnings:Dk,sdp:Nk};switch(r.browser){case"chrome":if(!cm||!Yu||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),s;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),s;n("adapter.js shimming chrome."),s.browserShim=cm,ba(t,r),_a(t),yb(t,r),vb(t),Yu(t,r),bb(t),xb(t,r),_b(t),wb(t),Eb(t,r),ga(t),Gu(t),Ju(t),ya(t,r),va(t),Xu(t,r);break;case"firefox":if(!um||!qu||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),s;n("adapter.js shimming firefox."),s.browserShim=um,ba(t,r),_a(t),Sb(t,r),qu(t,r),Ab(t),Ob(t),Tb(t),kb(t),Rb(t),$b(t),Pb(t),Db(t),Mb(t),ga(t),Ju(t),ya(t,r),va(t);break;case"safari":if(!fm||!e.shimSafari)return n("Safari shim is not included in this adapter release."),s;n("adapter.js shimming safari."),s.browserShim=fm,ba(t,r),_a(t),Ub(t),Vb(t),Nb(t),Ib(t),Fb(t),jb(t),Lb(t),Hb(t),ga(t),Gu(t),ya(t,r),va(t),Xu(t,r);break;default:n("Unsupported browser!");break}return s}const hm=Bk({window:typeof window>"u"?void 0:window});function is(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}class Wb{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{const n=[],r=e.byteLength,s=Math.ceil(r/this.chunkedMTU);let o=0,i=0;for(;i<r;){const a=Math.min(r,i+this.chunkedMTU),l=e.slice(i,a),c={__peerData:this._dataCount,n:o,data:l,total:s};n.push(c),i=a,o++}return this._dataCount++,n}}}function Uk(t){let e=0;for(const s of t)e+=s.byteLength;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.byteLength;return n}const Ic=hm.default||hm,Co=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const t=this.getBrowser(),e=this.getVersion();return this.supportedBrowsers.includes(t)?t==="chrome"?e>=this.minChromeVersion:t==="firefox"?e>=this.minFirefoxVersion:t==="safari"?!this.isIOS&&e>=this.minSafariVersion:!1:!1}getBrowser(){return Ic.browserDetails.browser}getVersion(){return Ic.browserDetails.version||0}isUnifiedPlanSupported(){const t=this.getBrowser(),e=Ic.browserDetails.version||0;if(t==="chrome"&&e<this.minChromeVersion)return!1;if(t==="firefox"&&e>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,r=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),r=!0}catch{}finally{n&&n.close()}return r}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},jk=t=>!t||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(t),Kb=()=>Math.random().toString(36).slice(2),pm={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class Vk extends Wb{noop(){}blobToArrayBuffer(e,n){const r=new FileReader;return r.onload=function(s){s.target&&n(s.target.result)},r.readAsArrayBuffer(e),r}binaryStringToArrayBuffer(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r)&255;return n.buffer}isSecure(){return location.protocol==="https:"}constructor(...e){super(...e),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=pm,this.browser=Co.getBrowser(),this.browserVersion=Co.getVersion(),this.pack=db,this.unpack=fb,this.supports=function(){const n={browser:Co.isBrowserSupported(),webRTC:Co.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!n.webRTC)return n;let r;try{r=new RTCPeerConnection(pm),n.audioVideo=!0;let s;try{s=r.createDataChannel("_PEERJSTEST",{ordered:!0}),n.data=!0,n.reliable=!!s.ordered;try{s.binaryType="blob",n.binaryBlob=!Co.isIOS}catch{}}catch{}finally{s&&s.close()}}catch{}finally{r&&r.close()}return n}(),this.validateId=jk,this.randomToken=Kb}}const Rt=new Vk,Hk="PeerJS: ";var mm;(function(t){t[t.Disabled=0]="Disabled",t[t.Errors=1]="Errors",t[t.Warnings=2]="Warnings",t[t.All=3]="All"})(mm||(mm={}));class zk{get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...n){const r=[Hk,...n];for(const s in r)r[s]instanceof Error&&(r[s]="("+r[s].name+") "+r[s].message);e>=3?console.log(...r):e>=2?console.warn("WARNING",...r):e>=1&&console.error("ERROR",...r)}constructor(){this._logLevel=0}}var ae=new zk,rd={},Wk=Object.prototype.hasOwnProperty,Tt="~";function si(){}Object.create&&(si.prototype=Object.create(null),new si().__proto__||(Tt=!1));function Kk(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function Yb(t,e,n,r,s){if(typeof n!="function")throw new TypeError("The listener must be a function");var o=new Kk(n,r||t,s),i=Tt?Tt+e:e;return t._events[i]?t._events[i].fn?t._events[i]=[t._events[i],o]:t._events[i].push(o):(t._events[i]=o,t._eventsCount++),t}function wa(t,e){--t._eventsCount===0?t._events=new si:delete t._events[e]}function wt(){this._events=new si,this._eventsCount=0}wt.prototype.eventNames=function(){var e=[],n,r;if(this._eventsCount===0)return e;for(r in n=this._events)Wk.call(n,r)&&e.push(Tt?r.slice(1):r);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(n)):e};wt.prototype.listeners=function(e){var n=Tt?Tt+e:e,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var s=0,o=r.length,i=new Array(o);s<o;s++)i[s]=r[s].fn;return i};wt.prototype.listenerCount=function(e){var n=Tt?Tt+e:e,r=this._events[n];return r?r.fn?1:r.length:0};wt.prototype.emit=function(e,n,r,s,o,i){var a=Tt?Tt+e:e;if(!this._events[a])return!1;var l=this._events[a],c=arguments.length,u,f;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,n),!0;case 3:return l.fn.call(l.context,n,r),!0;case 4:return l.fn.call(l.context,n,r,s),!0;case 5:return l.fn.call(l.context,n,r,s,o),!0;case 6:return l.fn.call(l.context,n,r,s,o,i),!0}for(f=1,u=new Array(c-1);f<c;f++)u[f-1]=arguments[f];l.fn.apply(l.context,u)}else{var d=l.length,h;for(f=0;f<d;f++)switch(l[f].once&&this.removeListener(e,l[f].fn,void 0,!0),c){case 1:l[f].fn.call(l[f].context);break;case 2:l[f].fn.call(l[f].context,n);break;case 3:l[f].fn.call(l[f].context,n,r);break;case 4:l[f].fn.call(l[f].context,n,r,s);break;default:if(!u)for(h=1,u=new Array(c-1);h<c;h++)u[h-1]=arguments[h];l[f].fn.apply(l[f].context,u)}}return!0};wt.prototype.on=function(e,n,r){return Yb(this,e,n,r,!1)};wt.prototype.once=function(e,n,r){return Yb(this,e,n,r,!0)};wt.prototype.removeListener=function(e,n,r,s){var o=Tt?Tt+e:e;if(!this._events[o])return this;if(!n)return wa(this,o),this;var i=this._events[o];if(i.fn)i.fn===n&&(!s||i.once)&&(!r||i.context===r)&&wa(this,o);else{for(var a=0,l=[],c=i.length;a<c;a++)(i[a].fn!==n||s&&!i[a].once||r&&i[a].context!==r)&&l.push(i[a]);l.length?this._events[o]=l.length===1?l[0]:l:wa(this,o)}return this};wt.prototype.removeAllListeners=function(e){var n;return e?(n=Tt?Tt+e:e,this._events[n]&&wa(this,n)):(this._events=new si,this._eventsCount=0),this};wt.prototype.off=wt.prototype.removeListener;wt.prototype.addListener=wt.prototype.on;wt.prefixed=Tt;wt.EventEmitter=wt;rd=wt;var as={};is(as,"ConnectionType",()=>Cn);is(as,"PeerErrorType",()=>Xe);is(as,"BaseConnectionErrorType",()=>oi);is(as,"DataConnectionErrorType",()=>ii);is(as,"SerializationType",()=>Xs);is(as,"SocketEventType",()=>vn);is(as,"ServerMessageType",()=>lt);var Cn;(function(t){t.Data="data",t.Media="media"})(Cn||(Cn={}));var Xe;(function(t){t.BrowserIncompatible="browser-incompatible",t.Disconnected="disconnected",t.InvalidID="invalid-id",t.InvalidKey="invalid-key",t.Network="network",t.PeerUnavailable="peer-unavailable",t.SslUnavailable="ssl-unavailable",t.ServerError="server-error",t.SocketError="socket-error",t.SocketClosed="socket-closed",t.UnavailableID="unavailable-id",t.WebRTC="webrtc"})(Xe||(Xe={}));var oi;(function(t){t.NegotiationFailed="negotiation-failed",t.ConnectionClosed="connection-closed"})(oi||(oi={}));var ii;(function(t){t.NotOpenYet="not-open-yet",t.MessageToBig="message-too-big"})(ii||(ii={}));var Xs;(function(t){t.Binary="binary",t.BinaryUTF8="binary-utf8",t.JSON="json",t.None="raw"})(Xs||(Xs={}));var vn;(function(t){t.Message="message",t.Disconnected="disconnected",t.Error="error",t.Close="close"})(vn||(vn={}));var lt;(function(t){t.Heartbeat="HEARTBEAT",t.Candidate="CANDIDATE",t.Offer="OFFER",t.Answer="ANSWER",t.Open="OPEN",t.Error="ERROR",t.IdTaken="ID-TAKEN",t.InvalidKey="INVALID-KEY",t.Leave="LEAVE",t.Expire="EXPIRE"})(lt||(lt={}));var sd={};sd=JSON.parse('{"name":"peerjs","version":"1.5.4","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz Stückler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","Sören Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","browser-minified-msgpack":"dist/serializer.msgpack.mjs","types":"dist/types.d.ts","engines":{"node":">= 14"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-minified-msgpack":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/MsgPack.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit && tsc -p e2e/tsconfig.json --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"jest","test:watch":"jest --watch","coverage":"jest --coverage --collectCoverageFrom=\\"./lib/**\\"","format":"prettier --write .","format:check":"prettier --check .","semantic-release":"semantic-release","e2e":"wdio run e2e/wdio.local.conf.ts","e2e:bstack":"wdio run e2e/wdio.bstack.conf.ts"},"devDependencies":{"@parcel/config-default":"^2.9.3","@parcel/packager-ts":"^2.9.3","@parcel/transformer-typescript-tsc":"^2.9.3","@parcel/transformer-typescript-types":"^2.9.3","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@swc/core":"^1.3.27","@swc/jest":"^0.2.24","@types/jasmine":"^4.3.4","@wdio/browserstack-service":"^8.11.2","@wdio/cli":"^8.11.2","@wdio/globals":"^8.11.2","@wdio/jasmine-framework":"^8.11.2","@wdio/local-runner":"^8.11.2","@wdio/spec-reporter":"^8.11.2","@wdio/types":"^8.10.4","http-server":"^14.1.1","jest":"^29.3.1","jest-environment-jsdom":"^29.3.1","mock-socket":"^9.0.0","parcel":"^2.9.3","prettier":"^3.0.0","semantic-release":"^21.0.0","ts-node":"^10.9.1","typescript":"^5.0.0","wdio-geckodriver-service":"^5.0.1"},"dependencies":{"@msgpack/msgpack":"^2.8.0","eventemitter3":"^4.0.7","peerjs-js-binarypack":"^2.1.0","webrtc-adapter":"^9.0.0"},"alias":{"process":false,"buffer":false}}');class Yk extends rd.EventEmitter{constructor(e,n,r,s,o,i=5e3){super(),this.pingInterval=i,this._disconnected=!0,this._messagesQueue=[];const a=e?"wss://":"ws://";this._baseUrl=a+n+":"+r+s+"peerjs?key="+o}start(e,n){this._id=e;const r=`${this._baseUrl}&id=${e}&token=${n}`;this._socket||!this._disconnected||(this._socket=new WebSocket(r+"&version="+sd.version),this._disconnected=!1,this._socket.onmessage=s=>{let o;try{o=JSON.parse(s.data),ae.log("Server message received:",o)}catch{ae.log("Invalid server message",s.data);return}this.emit(vn.Message,o)},this._socket.onclose=s=>{this._disconnected||(ae.log("Socket closed.",s),this._cleanup(),this._disconnected=!0,this.emit(vn.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),ae.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){ae.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:lt.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const n of e)this.send(n)}send(e){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(e);return}if(!e.type){this.emit(vn.Error,"Invalid message");return}if(!this._wsOpen())return;const n=JSON.stringify(e);this._socket.send(n)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class qb{constructor(e){this.connection=e}startConnection(e){const n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===Cn.Media&&e._stream&&this._addTracksToConnection(e._stream,n),e.originator){const r=this.connection,s={ordered:!!e.reliable},o=n.createDataChannel(r.label,s);r._initializeDataChannel(o),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){ae.log("Creating RTCPeerConnection.");const e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){const n=this.connection.peer,r=this.connection.connectionId,s=this.connection.type,o=this.connection.provider;ae.log("Listening for ICE candidates."),e.onicecandidate=i=>{!i.candidate||!i.candidate.candidate||(ae.log(`Received ICE candidates for ${n}:`,i.candidate),o.socket.send({type:lt.Candidate,payload:{candidate:i.candidate,type:s,connectionId:r},dst:n}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":ae.log("iceConnectionState is failed, closing connections to "+n),this.connection.emitError(oi.NegotiationFailed,"Negotiation of connection to "+n+" failed."),this.connection.close();break;case"closed":ae.log("iceConnectionState is closed, closing connections to "+n),this.connection.emitError(oi.ConnectionClosed,"Connection to "+n+" closed."),this.connection.close();break;case"disconnected":ae.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":e.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",e.iceConnectionState)},ae.log("Listening for data channel"),e.ondatachannel=i=>{ae.log("Received data channel");const a=i.channel;o.getConnection(n,r)._initializeDataChannel(a)},ae.log("Listening for remote stream"),e.ontrack=i=>{ae.log("Received remote stream");const a=i.streams[0],l=o.getConnection(n,r);if(l.type===Cn.Media){const c=l;this._addStreamToMediaConnection(a,c)}}}cleanup(){ae.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};const n=e.signalingState!=="closed";let r=!1;const s=this.connection.dataChannel;s&&(r=!!s.readyState&&s.readyState!=="closed"),(n||r)&&e.close()}async _makeOffer(){const e=this.connection.peerConnection,n=this.connection.provider;try{const r=await e.createOffer(this.connection.options.constraints);ae.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await e.setLocalDescription(r),ae.log("Set localDescription:",r,`for:${this.connection.peer}`);let s={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===Cn.Data){const o=this.connection;s={...s,label:o.label,reliable:o.reliable,serialization:o.serialization}}n.socket.send({type:lt.Offer,payload:s,dst:this.connection.peer})}catch(s){s!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(Xe.WebRTC,s),ae.log("Failed to setLocalDescription, ",s))}}catch(r){n.emitError(Xe.WebRTC,r),ae.log("Failed to createOffer, ",r)}}async _makeAnswer(){const e=this.connection.peerConnection,n=this.connection.provider;try{const r=await e.createAnswer();ae.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await e.setLocalDescription(r),ae.log("Set localDescription:",r,`for:${this.connection.peer}`),n.socket.send({type:lt.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(s){n.emitError(Xe.WebRTC,s),ae.log("Failed to setLocalDescription, ",s)}}catch(r){n.emitError(Xe.WebRTC,r),ae.log("Failed to create answer, ",r)}}async handleSDP(e,n){n=new RTCSessionDescription(n);const r=this.connection.peerConnection,s=this.connection.provider;ae.log("Setting remote description",n);const o=this;try{await r.setRemoteDescription(n),ae.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&await o._makeAnswer()}catch(i){s.emitError(Xe.WebRTC,i),ae.log("Failed to setRemoteDescription, ",i)}}async handleCandidate(e){ae.log("handleCandidate:",e);try{await this.connection.peerConnection.addIceCandidate(e),ae.log(`Added ICE candidate for:${this.connection.peer}`)}catch(n){this.connection.provider.emitError(Xe.WebRTC,n),ae.log("Failed to handleCandidate, ",n)}}_addTracksToConnection(e,n){if(ae.log(`add tracks from stream ${e.id} to peer connection`),!n.addTrack)return ae.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(r=>{n.addTrack(r,e)})}_addStreamToMediaConnection(e,n){ae.log(`add stream ${e.id} to media connection ${n.connectionId}`),n.addStream(e)}}class Gb extends rd.EventEmitter{emitError(e,n){ae.error("Error:",n),this.emit("error",new qk(`${e}`,n))}}class qk extends Error{constructor(e,n){typeof n=="string"?super(n):(super(),Object.assign(this,n)),this.type=e}}class Jb extends Gb{get open(){return this._open}constructor(e,n,r){super(),this.peer=e,this.provider=n,this.options=r,this._open=!1,this.metadata=r.metadata}}var mf;const Wo=class Wo extends Jb{get type(){return Cn.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,n,r){super(e,n,r),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Wo.ID_PREFIX+Rt.randomToken(),this._negotiator=new qb(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{ae.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{ae.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){ae.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const n=e.type,r=e.payload;switch(e.type){case lt.Answer:this._negotiator.handleSDP(n,r.sdp),this._open=!0;break;case lt.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:ae.warn(`Unrecognized message type:${n} from peer:${this.peer}`);break}}answer(e,n={}){if(this._localStream){ae.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:e});const r=this.provider._getMessages(this.connectionId);for(const s of r)this.handleMessage(s);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};mf=new WeakMap,cs(Wo,mf,Wo.ID_PREFIX="mc_");let Ja=Wo;class Gk{constructor(e){this._options=e}_buildRequest(e){const n=this._options.secure?"https":"http",{host:r,port:s,path:o,key:i}=this._options,a=new URL(`${n}://${r}:${s}${o}${i}/${e}`);return a.searchParams.set("ts",`${Date.now()}${Math.random()}`),a.searchParams.set("version",sd.version),fetch(a.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const e=await this._buildRequest("id");if(e.status!==200)throw new Error(`Error. Status:${e.status}`);return e.text()}catch(e){ae.error("Error retrieving ID",e);let n="";throw this._options.path==="/"&&this._options.host!==Rt.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}}async listAllPeers(){try{const e=await this._buildRequest("peers");if(e.status!==200){if(e.status===401){let n="";throw this._options.host===Rt.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${e.status}`)}return e.json()}catch(e){throw ae.error("Error retrieving list peers",e),new Error("Could not get list peers from the server."+e)}}}var gf,yf;const Br=class Br extends Jb{get type(){return Cn.Data}constructor(e,n,r){super(e,n,r),this.connectionId=this.options.connectionId||Br.ID_PREFIX+Kb(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new qb(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{ae.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=n=>{ae.log(`DC#${this.connectionId} dc onmessage:`,n.data)},this.dataChannel.onclose=()=>{ae.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(e,n=!1){if(!this.open){this.emitError(ii.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(e,n)}async handleMessage(e){const n=e.payload;switch(e.type){case lt.Answer:await this._negotiator.handleSDP(e.type,n.sdp);break;case lt.Candidate:await this._negotiator.handleCandidate(n.candidate);break;default:ae.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}};gf=new WeakMap,yf=new WeakMap,cs(Br,gf,Br.ID_PREFIX="dc_"),cs(Br,yf,Br.MAX_BUFFERED_AMOUNT=8388608);let Xa=Br;class od extends Xa{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",n=>this._handleDataMessage(n))}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>Xa.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(n){return ae.error(`DC#:${this.connectionId} Error when sending:`,n),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...e){super(...e),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class Fc extends od{close(e){super.close(e),this._chunkedData={}}constructor(e,n,r){super(e,n,r),this.chunker=new Wb,this.serialization=Xs.Binary,this._chunkedData={}}_handleDataMessage({data:e}){const n=fb(e),r=n.__peerData;if(r){if(r.type==="close"){this.close();return}this._handleChunk(n);return}this.emit("data",n)}_handleChunk(e){const n=e.__peerData,r=this._chunkedData[n]||{data:[],count:0,total:e.total};if(r.data[e.n]=new Uint8Array(e.data),r.count++,this._chunkedData[n]=r,r.total===r.count){delete this._chunkedData[n];const s=Uk(r.data);this._handleDataMessage({data:s})}}_send(e,n){const r=db(e);if(r instanceof Promise)return this._send_blob(r);if(!n&&r.byteLength>this.chunker.chunkedMTU){this._sendChunks(r);return}this._bufferedSend(r)}async _send_blob(e){const n=await e;if(n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}_sendChunks(e){const n=this.chunker.chunk(e);ae.log(`DC#${this.connectionId} Try to send ${n.length} chunks...`);for(const r of n)this.send(r,!0)}}class Jk extends od{_handleDataMessage({data:e}){super.emit("data",e)}_send(e,n){this._bufferedSend(e)}constructor(...e){super(...e),this.serialization=Xs.None}}class Xk extends od{_handleDataMessage({data:e}){const n=this.parse(this.decoder.decode(e)),r=n.__peerData;if(r&&r.type==="close"){this.close();return}this.emit("data",n)}_send(e,n){const r=this.encoder.encode(this.stringify(e));if(r.byteLength>=Rt.chunkedMTU){this.emitError(ii.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(r)}constructor(...e){super(...e),this.serialization=Xs.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}var vf;const Ko=class Ko extends Gb{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(const[n,r]of this._connections)e[n]=r;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,n){super(),this._serializers={raw:Jk,json:Xk,binary:Fc,"binary-utf8":Fc,default:Fc},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let r;if(e&&e.constructor==Object?n=e:e&&(r=e.toString()),n={debug:0,host:Rt.CLOUD_HOST,port:Rt.CLOUD_PORT,path:"/",key:Ko.DEFAULT_KEY,token:Rt.randomToken(),config:Rt.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...n},this._options=n,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Rt.CLOUD_HOST?this._options.secure=Rt.isSecure():this._options.host==Rt.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&ae.setLogFunction(this._options.logFunction),ae.logLevel=this._options.debug||0,this._api=new Gk(n),this._socket=this._createServerConnection(),!Rt.supports.audioVideo&&!Rt.supports.data){this._delayedAbort(Xe.BrowserIncompatible,"The current browser does not support WebRTC");return}if(r&&!Rt.validateId(r)){this._delayedAbort(Xe.InvalidID,`ID "${r}" is invalid`);return}r?this._initialize(r):this._api.retrieveId().then(s=>this._initialize(s)).catch(s=>this._abort(Xe.ServerError,s))}_createServerConnection(){const e=new Yk(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on(vn.Message,n=>{this._handleMessage(n)}),e.on(vn.Error,n=>{this._abort(Xe.SocketError,n)}),e.on(vn.Disconnected,()=>{this.disconnected||(this.emitError(Xe.Network,"Lost connection to server."),this.disconnect())}),e.on(vn.Close,()=>{this.disconnected||this._abort(Xe.SocketClosed,"Underlying socket is already closed.")}),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){const n=e.type,r=e.payload,s=e.src;switch(n){case lt.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case lt.Error:this._abort(Xe.ServerError,r.msg);break;case lt.IdTaken:this._abort(Xe.UnavailableID,`ID "${this.id}" is taken`);break;case lt.InvalidKey:this._abort(Xe.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case lt.Leave:ae.log(`Received leave message from ${s}`),this._cleanupPeer(s),this._connections.delete(s);break;case lt.Expire:this.emitError(Xe.PeerUnavailable,`Could not connect to peer ${s}`);break;case lt.Offer:{const o=r.connectionId;let i=this.getConnection(s,o);if(i&&(i.close(),ae.warn(`Offer received for existing Connection ID:${o}`)),r.type===Cn.Media){const l=new Ja(s,this,{connectionId:o,_payload:r,metadata:r.metadata});i=l,this._addConnection(s,i),this.emit("call",l)}else if(r.type===Cn.Data){const l=new this._serializers[r.serialization](s,this,{connectionId:o,_payload:r,metadata:r.metadata,label:r.label,serialization:r.serialization,reliable:r.reliable});i=l,this._addConnection(s,i),this.emit("connection",l)}else{ae.warn(`Received malformed connection type:${r.type}`);return}const a=this._getMessages(o);for(const l of a)i.handleMessage(l);break}default:{if(!r){ae.warn(`You received a malformed message from ${s} of type ${n}`);return}const o=r.connectionId,i=this.getConnection(s,o);i&&i.peerConnection?i.handleMessage(e):o?this._storeMessage(o,e):ae.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,n){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(n)}_getMessages(e){const n=this._lostMessages.get(e);return n?(this._lostMessages.delete(e),n):[]}connect(e,n={}){if(n={serialization:"default",...n},this.disconnected){ae.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(Xe.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const r=new this._serializers[n.serialization](e,this,n);return this._addConnection(e,r),r}call(e,n,r={}){if(this.disconnected){ae.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(Xe.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){ae.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const s=new Ja(e,this,{...r,_stream:n});return this._addConnection(e,s),s}_addConnection(e,n){ae.log(`add connection ${n.type}:${n.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(n)}_removeConnection(e){const n=this._connections.get(e.peer);if(n){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,n){const r=this._connections.get(e);if(!r)return null;for(const s of r)if(s.connectionId===n)return s;return null}_delayedAbort(e,n){setTimeout(()=>{this._abort(e,n)},0)}_abort(e,n){ae.error("Aborting!"),this.emitError(e,n),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(ae.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const n=this._connections.get(e);if(n)for(const r of n)r.close()}disconnect(){if(this.disconnected)return;const e=this.id;ae.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)ae.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)ae.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=n=>{}){this._api.listAllPeers().then(n=>e(n)).catch(n=>this._abort(Xe.ServerError,n))}};vf=new WeakMap,cs(Ko,vf,Ko.DEFAULT_KEY="peerjs");let Qu=Ko;var Qk=Qu;const dt=[];for(let t=0;t<256;++t)dt.push((t+256).toString(16).slice(1));function Zk(t,e=0){return(dt[t[e+0]]+dt[t[e+1]]+dt[t[e+2]]+dt[t[e+3]]+"-"+dt[t[e+4]]+dt[t[e+5]]+"-"+dt[t[e+6]]+dt[t[e+7]]+"-"+dt[t[e+8]]+dt[t[e+9]]+"-"+dt[t[e+10]]+dt[t[e+11]]+dt[t[e+12]]+dt[t[e+13]]+dt[t[e+14]]+dt[t[e+15]]).toLowerCase()}let Nc;const eO=new Uint8Array(16);function tO(){if(!Nc){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Nc=crypto.getRandomValues.bind(crypto)}return Nc(eO)}const nO=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),gm={randomUUID:nO};function Xb(t,e,n){var s;if(gm.randomUUID&&!t)return gm.randomUUID();t=t||{};const r=t.random??((s=t.rng)==null?void 0:s.call(t))??tO();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Zk(r)}const rO=ts("sync",()=>{const t=Sr(),e=te(localStorage.getItem("client")??`life-coach-${Xb()}`);localStorage.setItem("client",e.value);const n=te(JSON.parse(localStorage.getItem("known-clients")??"[]"));Pe(n,a=>localStorage.setItem("known-clients",JSON.stringify(a)),{deep:!0,immediate:!0});const r=te({}),s=new Qk(e.value,{debug:3});to(()=>s.destroy()),s.on("connection",a=>{r.value[a.peer]=a,a.on("data",l=>{const{age:c}=t.unpack(l);c>t.getAge()&&t.fromString(l)}),a.on("error",l=>console.error(`Connection error with ${a.peer}:`,l)),a.on("close",()=>delete r.value[a.peer])}),s.on("error",console.error);function o(a,l=0,c=!1){if(l>=3||a===e.value)return;let u=r.value[a];if(!u||!u.open)try{u=s.connect(a),r.value[a]=u,u.on("open",()=>u.send(t.toString(c))),u.on("error",f=>{setTimeout(()=>o(a,l+1,c),1e3*(l+1))}),u.on("close",()=>delete r.value[a])}catch{setTimeout(()=>o(a,l+1,c),1e3*(l+1))}else u.send(t.toString(c))}return{syncAll:(a=!1)=>n.value.forEach(l=>o(l,0,a)),clientId:e,knownClients:n}}),sO={class:"container mx-auto pt-8 p-4 md:p-6 lg:p-8 space-y-8"},oO={class:"flex-1 px-0 py-2 space-y-4 overflow-auto"},iO=Z({__name:"App",setup(t){return rO(),(e,n)=>(K(),He("div",sO,[q(Tk),Me("main",oO,[q(E(ev))])]))}}),aO="modulepreload",lO=function(t){return"/life-coach/"+t},ym={},cO=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let i=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=i(n.map(c=>{if(c=lO(c),c in ym)return;ym[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":aO,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((h,m)=>{d.addEventListener("load",h),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};var Qb=(t=>(t[t.Low=1]="Low",t[t.Medium=2]="Medium",t[t.High=3]="High",t[t.Urgent=4]="Urgent",t[t.Critical=5]="Critical",t))(Qb||{});const Zu="RFC3986",ef={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:t=>String(t)},uO="RFC1738",fO=Array.isArray,fn=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),Lc=1024,dO=(t,e,n,r,s)=>{if(t.length===0)return t;let o=t;if(typeof t=="symbol"?o=Symbol.prototype.toString.call(t):typeof t!="string"&&(o=String(t)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(a){return"%26%23"+parseInt(a.slice(2),16)+"%3B"});let i="";for(let a=0;a<o.length;a+=Lc){const l=o.length>=Lc?o.slice(a,a+Lc):o,c=[];for(let u=0;u<l.length;++u){let f=l.charCodeAt(u);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||s===uO&&(f===40||f===41)){c[c.length]=l.charAt(u);continue}if(f<128){c[c.length]=fn[f];continue}if(f<2048){c[c.length]=fn[192|f>>6]+fn[128|f&63];continue}if(f<55296||f>=57344){c[c.length]=fn[224|f>>12]+fn[128|f>>6&63]+fn[128|f&63];continue}u+=1,f=65536+((f&1023)<<10|l.charCodeAt(u)&1023),c[c.length]=fn[240|f>>18]+fn[128|f>>12&63]+fn[128|f>>6&63]+fn[128|f&63]}i+=c.join("")}return i};function hO(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function vm(t,e){if(fO(t)){const n=[];for(let r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)}const pO=Object.prototype.hasOwnProperty,Zb={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},pn=Array.isArray,mO=Array.prototype.push,e0=function(t,e){mO.apply(t,pn(e)?e:[e])},gO=Date.prototype.toISOString,ot={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:dO,encodeValuesOnly:!1,format:Zu,formatter:ef[Zu],indices:!1,serializeDate(t){return gO.call(t)},skipNulls:!1,strictNullHandling:!1};function yO(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const Bc={};function t0(t,e,n,r,s,o,i,a,l,c,u,f,d,h,m,p,C,b){let _=t,y=b,g=0,S=!1;for(;(y=y.get(Bc))!==void 0&&!S;){const j=y.get(t);if(g+=1,typeof j<"u"){if(j===g)throw new RangeError("Cyclic object value");S=!0}typeof y.get(Bc)>"u"&&(g=0)}if(typeof c=="function"?_=c(e,_):_ instanceof Date?_=d==null?void 0:d(_):n==="comma"&&pn(_)&&(_=vm(_,function(j){return j instanceof Date?d==null?void 0:d(j):j})),_===null){if(o)return l&&!p?l(e,ot.encoder,C,"key",h):e;_=""}if(yO(_)||hO(_)){if(l){const j=p?e:l(e,ot.encoder,C,"key",h);return[(m==null?void 0:m(j))+"="+(m==null?void 0:m(l(_,ot.encoder,C,"value",h)))]}return[(m==null?void 0:m(e))+"="+(m==null?void 0:m(String(_)))]}const A=[];if(typeof _>"u")return A;let R;if(n==="comma"&&pn(_))p&&l&&(_=vm(_,l)),R=[{value:_.length>0?_.join(",")||null:void 0}];else if(pn(c))R=c;else{const j=Object.keys(_);R=u?j.sort(u):j}const O=a?String(e).replace(/\./g,"%2E"):String(e),x=r&&pn(_)&&_.length===1?O+"[]":O;if(s&&pn(_)&&_.length===0)return x+"[]";for(let j=0;j<R.length;++j){const V=R[j],U=typeof V=="object"&&typeof V.value<"u"?V.value:_[V];if(i&&U===null)continue;const re=f&&a?V.replace(/\./g,"%2E"):V,se=pn(_)?typeof n=="function"?n(x,re):x:x+(f?"."+re:"["+re+"]");b.set(t,g);const P=new WeakMap;P.set(Bc,b),e0(A,t0(U,se,n,r,s,o,i,a,n==="comma"&&p&&pn(_)?null:l,c,u,f,d,h,m,p,C,P))}return A}function vO(t=ot){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||ot.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=Zu;if(typeof t.format<"u"){if(!pO.call(ef,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const r=ef[n];let s=ot.filter;(typeof t.filter=="function"||pn(t.filter))&&(s=t.filter);let o;if(t.arrayFormat&&t.arrayFormat in Zb?o=t.arrayFormat:"indices"in t?o=t.indices?"indices":"repeat":o=ot.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const i=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:ot.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:ot.addQueryPrefix,allowDots:i,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:ot.allowEmptyArrays,arrayFormat:o,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:ot.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?ot.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:ot.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:ot.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:ot.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:ot.encodeValuesOnly,filter:s,format:n,formatter:r,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:ot.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:ot.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:ot.strictNullHandling}}function bO(t,e={}){let n=t;const r=vO(e);let s,o;typeof r.filter=="function"?(o=r.filter,n=o("",n)):pn(r.filter)&&(o=r.filter,s=o);const i=[];if(typeof n!="object"||n===null)return"";const a=Zb[r.arrayFormat],l=a==="comma"&&r.commaRoundTrip;s||(s=Object.keys(n)),r.sort&&s.sort(r.sort);const c=new WeakMap;for(let d=0;d<s.length;++d){const h=s[d];r.skipNulls&&n[h]===null||e0(i,t0(n[h],h,a,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}const u=i.join(r.delimiter);let f=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),u.length>0?f+u:""}const Es="4.96.2";let bm=!1,Ho,n0,r0,tf,s0,o0,i0,a0,l0;function _O(t,e={auto:!1}){if(bm)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if(Ho)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${Ho}'\``);bm=e.auto,Ho=t.kind,n0=t.fetch,r0=t.FormData,tf=t.File,s0=t.ReadableStream,o0=t.getMultipartRequestOptions,i0=t.getDefaultAgent,a0=t.fileFromPath,l0=t.isFsReadStream}class wO{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function CO({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,s,o;try{n=fetch,r=Request,s=Response,o=Headers}catch(i){throw new Error(`this environment is missing the following Web Fetch API type: ${i.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:s,Headers:o,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(i,a)=>({...a,body:new wO(i)}),getDefaultAgent:i=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:i=>!1}}const c0=()=>{Ho||_O(CO(),{auto:!0})};c0();class ye extends Error{}class mt extends ye{constructor(e,n,r,s){super(`${mt.makeMessage(e,n,r)}`),this.status=e,this.headers=s,this.request_id=s==null?void 0:s["x-request-id"],this.error=n;const o=n;this.code=o==null?void 0:o.code,this.param=o==null?void 0:o.param,this.type=o==null?void 0:o.type}static makeMessage(e,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,r,s){if(!e||!s)return new Pl({message:r,cause:rf(n)});const o=n==null?void 0:n.error;return e===400?new u0(e,o,r,s):e===401?new f0(e,o,r,s):e===403?new d0(e,o,r,s):e===404?new h0(e,o,r,s):e===409?new p0(e,o,r,s):e===422?new m0(e,o,r,s):e===429?new g0(e,o,r,s):e>=500?new y0(e,o,r,s):new mt(e,o,r,s)}}class Kt extends mt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Pl extends mt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class id extends Pl{constructor({message:e}={}){super({message:e??"Request timed out."})}}class u0 extends mt{}class f0 extends mt{}class d0 extends mt{}class h0 extends mt{}class p0 extends mt{}class m0 extends mt{}class g0 extends mt{}class y0 extends mt{}class v0 extends ye{constructor(){super("Could not parse response content as the length limit was reached")}}class b0 extends ye{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var Xi=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},Mr=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Nt;class Dl{constructor(){Nt.set(this,void 0),this.buffer=new Uint8Array,Xi(this,Nt,null,"f")}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?new TextEncoder().encode(e):e;let r=new Uint8Array(this.buffer.length+n.length);r.set(this.buffer),r.set(n,this.buffer.length),this.buffer=r;const s=[];let o;for(;(o=xO(this.buffer,Mr(this,Nt,"f")))!=null;){if(o.carriage&&Mr(this,Nt,"f")==null){Xi(this,Nt,o.index,"f");continue}if(Mr(this,Nt,"f")!=null&&(o.index!==Mr(this,Nt,"f")+1||o.carriage)){s.push(this.decodeText(this.buffer.slice(0,Mr(this,Nt,"f")-1))),this.buffer=this.buffer.slice(Mr(this,Nt,"f")),Xi(this,Nt,null,"f");continue}const i=Mr(this,Nt,"f")!==null?o.preceding-1:o.preceding,a=this.decodeText(this.buffer.slice(0,i));s.push(a),this.buffer=this.buffer.slice(o.index),Xi(this,Nt,null,"f")}return s}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new ye(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new ye(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new ye("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}Nt=new WeakMap;Dl.NEWLINE_CHARS=new Set([`
`,"\r"]);Dl.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function xO(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function EO(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}function _0(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class bn{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const i of SO(e,n))if(!o){if(i.data.startsWith("[DONE]")){o=!0;continue}if(i.event===null||i.event.startsWith("response.")||i.event.startsWith("transcript.")){let a;try{a=JSON.parse(i.data)}catch(l){throw console.error("Could not parse message into JSON:",i.data),console.error("From chunk:",i.raw),l}if(a&&a.error)throw new mt(void 0,a.error,void 0,T0(e.headers));yield a}else{let a;try{a=JSON.parse(i.data)}catch(l){throw console.error("Could not parse message into JSON:",i.data),console.error("From chunk:",i.raw),l}if(i.event=="error")throw new mt(void 0,a.error,a.message,void 0);yield{event:i.event,data:a}}}o=!0}catch(i){if(i instanceof Error&&i.name==="AbortError")return;throw i}finally{o||n.abort()}}return new bn(s,n)}static fromReadableStream(e,n){let r=!1;async function*s(){const i=new Dl,a=_0(e);for await(const l of a)for(const c of i.decode(l))yield c;for(const l of i.flush())yield l}async function*o(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let i=!1;try{for await(const a of s())i||a&&(yield JSON.parse(a));i=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{i||n.abort()}}return new bn(o,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),s=o=>({next:()=>{if(o.length===0){const i=r.next();e.push(i),n.push(i)}return o.shift()}});return[new bn(()=>s(e),this.controller),new bn(()=>s(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new s0({async start(){n=e[Symbol.asyncIterator]()},async pull(s){try{const{value:o,done:i}=await n.next();if(i)return s.close();const a=r.encode(JSON.stringify(o)+`
`);s.enqueue(a)}catch(o){s.error(o)}},async cancel(){var s;await((s=n.return)==null?void 0:s.call(n))}})}}async function*SO(t,e){if(!t.body)throw e.abort(),new ye("Attempted to iterate over a response with no body");const n=new TO,r=new Dl,s=_0(t.body);for await(const o of AO(s))for(const i of r.decode(o)){const a=n.decode(i);a&&(yield a)}for(const o of r.flush()){const i=n.decode(o);i&&(yield i)}}async function*AO(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let s=new Uint8Array(e.length+r.length);s.set(e),s.set(r,e.length),e=s;let o;for(;(o=EO(e))!==-1;)yield e.slice(0,o),e=e.slice(o)}e.length>0&&(yield e)}class TO{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,s]=kO(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function kO(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}const w0=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",C0=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Ml(t),Ml=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",OO=t=>C0(t)||w0(t)||l0(t);async function x0(t,e,n){var s;if(t=await t,C0(t))return t;if(w0(t)){const o=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const i=Ml(o)?[await o.arrayBuffer()]:[o];return new tf(i,e,n)}const r=await RO(t);if(e||(e=PO(t)??"unknown_file"),!(n!=null&&n.type)){const o=(s=r[0])==null?void 0:s.type;typeof o=="string"&&(n={...n,type:o})}return new tf(r,e,n)}async function RO(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(Ml(t))e.push(await t.arrayBuffer());else if(DO(t))for await(const r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${$O(t)}`);return e}function $O(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function PO(t){var e;return Uc(t.name)||Uc(t.filename)||((e=Uc(t.path))==null?void 0:e.split(/[\\/]/).pop())}const Uc=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},DO=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",_m=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",Qs=async t=>{const e=await MO(t.body);return o0(e,t)},MO=async t=>{const e=new r0;return await Promise.all(Object.entries(t||{}).map(([n,r])=>nf(e,n,r))),e},nf=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(OO(n)){const r=await x0(n);t.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>nf(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>nf(t,`${e}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var Bs={},IO=function(t,e,n,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n},FO=function(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Qi;c0();async function E0(t){var i;const{response:e}=t;if(t.options.stream)return mr("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):bn.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type"),r=(i=n==null?void 0:n.split(";")[0])==null?void 0:i.trim();if((r==null?void 0:r.includes("application/json"))||(r==null?void 0:r.endsWith("+json"))){const a=await e.json();return mr("response",e.status,e.url,e.headers,a),S0(a,e)}const o=await e.text();return mr("response",e.status,e.url,e.headers,o),o}function S0(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class Il extends Promise{constructor(e,n=E0){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new Il(this.responsePromise,async n=>S0(e(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class NO{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e5,httpAgent:s,fetch:o}){this.baseURL=e,this.maxRetries=jc("maxRetries",n),this.timeout=jc("timeout",r),this.httpAgent=s,this.fetch=o??n0}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...VO(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${KO()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(async s=>{const o=s&&Ml(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:e,path:n,...s,body:o}}))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:n=0}={}){var p;const r={...e},{method:s,path:o,query:i,headers:a={}}=r,l=ArrayBuffer.isView(r.body)||r.__binaryRequest&&typeof r.body=="string"?r.body:_m(r.body)?r.body.body:r.body?JSON.stringify(r.body,null,2):null,c=this.calculateContentLength(l),u=this.buildURL(o,i);"timeout"in r&&jc("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const f=r.httpAgent??this.httpAgent??i0(u),d=r.timeout+1e3;typeof((p=f==null?void 0:f.options)==null?void 0:p.timeout)=="number"&&d>(f.options.timeout??0)&&(f.options.timeout=d),this.idempotencyHeader&&s!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const h=this.buildHeaders({options:r,headers:a,contentLength:c,retryCount:n});return{req:{method:s,...l&&{body:l},headers:h,...f&&{agent:f},signal:r.signal??null},url:u,timeout:r.timeout}}buildHeaders({options:e,headers:n,contentLength:r,retryCount:s}){const o={};r&&(o["content-length"]=r);const i=this.defaultHeaders(e);return Em(o,i),Em(o,n),_m(e.body)&&Ho!=="node"&&delete o["content-type"],ea(i,"x-stainless-retry-count")===void 0&&ea(n,"x-stainless-retry-count")===void 0&&(o["x-stainless-retry-count"]=String(s)),ea(i,"x-stainless-timeout")===void 0&&ea(n,"x-stainless-timeout")===void 0&&e.timeout&&(o["x-stainless-timeout"]=String(Math.trunc(e.timeout/1e3))),this.validateHeaders(o,n),o}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,s){return mt.generate(e,n,r,s)}request(e,n=null){return new Il(this.makeRequest(e,n))}async makeRequest(e,n){var f,d;const r=await e,s=r.maxRetries??this.maxRetries;n==null&&(n=s),await this.prepareOptions(r);const{req:o,url:i,timeout:a}=this.buildRequest(r,{retryCount:s-n});if(await this.prepareRequest(o,{url:i,options:r}),mr("request",i,r,o.headers),(f=r.signal)!=null&&f.aborted)throw new Kt;const l=new AbortController,c=await this.fetchWithTimeout(i,o,a,l).catch(rf);if(c instanceof Error){if((d=r.signal)!=null&&d.aborted)throw new Kt;if(n)return this.retryRequest(r,n);throw c.name==="AbortError"?new id:new Pl({cause:c})}const u=T0(c.headers);if(!c.ok){if(n&&this.shouldRetry(c)){const _=`retrying, ${n} attempts remaining`;return mr(`response (error; ${_})`,c.status,i,u),this.retryRequest(r,n,u)}const h=await c.text().catch(_=>rf(_).message),m=HO(h),p=m?void 0:h;throw mr(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,c.status,i,u,p),this.makeStatusError(c.status,m,p,u)}return{response:c,options:r,controller:l}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new LO(this,r,e)}buildURL(e,n){const r=WO(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return k0(s)||(n={...s,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new ye(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,s){const{signal:o,...i}=n||{};o&&o.addEventListener("abort",()=>s.abort());const a=setTimeout(()=>s.abort(),r),l={signal:s.signal,...i};return l.method&&(l.method=l.method.toUpperCase()),this.fetch.call(void 0,e,l).finally(()=>{clearTimeout(a)})}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let s;const o=r==null?void 0:r["retry-after-ms"];if(o){const a=parseFloat(o);Number.isNaN(a)||(s=a)}const i=r==null?void 0:r["retry-after"];if(i&&!s){const a=parseFloat(i);Number.isNaN(a)?s=Date.parse(i)-Date.now():s=a*1e3}if(!(s&&0<=s&&s<60*1e3)){const a=e.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,a)}return await bi(s),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,i=Math.min(.5*Math.pow(2,o),8),a=1-Math.random()*.25;return i*a*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Es}`}}class A0{constructor(e,n,r,s){Qi.set(this,void 0),IO(this,Qi,e),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new ye("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e&&typeof n.query=="object")n.query={...n.query,...e.params};else if("url"in e){const r=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[s,o]of r)e.url.searchParams.set(s,o);n.query=void 0,n.path=e.url.toString()}return await FO(this,Qi,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Qi=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class LO extends Il{constructor(e,n,r){super(n,async s=>new r(e,s.response,await E0(s),s.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const T0=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),BO={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},Qe=t=>typeof t=="object"&&t!==null&&!k0(t)&&Object.keys(t).every(e=>O0(BO,e)),UO=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Es,"X-Stainless-OS":Cm(Deno.build.os),"X-Stainless-Arch":wm(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Es,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Es,"X-Stainless-OS":Cm(process.platform),"X-Stainless-Arch":wm(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=jO();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Es,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Es,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function jO(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,o=r[2]||0,i=r[3]||0;return{browser:e,version:`${s}.${o}.${i}`}}}return null}const wm=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Cm=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let xm;const VO=()=>xm??(xm=UO()),HO=t=>{try{return JSON.parse(t)}catch{return}},zO=/^[a-z][a-z0-9+.-]*:/i,WO=t=>zO.test(t),bi=t=>new Promise(e=>setTimeout(e,t)),jc=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ye(`${t} must be an integer`);if(e<0)throw new ye(`${t} must be a positive integer`);return e},rf=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)},Zi=t=>{var e,n,r,s;if(typeof process<"u")return((e=Bs==null?void 0:Bs[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(s=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:s.trim()};function k0(t){if(!t)return!0;for(const e in t)return!1;return!0}function O0(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Em(t,e){for(const n in e){if(!O0(e,n))continue;const r=n.toLowerCase();if(!r)continue;const s=e[n];s===null?delete t[r]:s!==void 0&&(t[r]=s)}}const Sm=new Set(["authorization","api-key"]);function mr(t,...e){if(typeof process<"u"&&(Bs==null?void 0:Bs.DEBUG)==="true"){const n=e.map(r=>{if(!r)return r;if(r.headers){const o={...r,headers:{...r.headers}};for(const i in r.headers)Sm.has(i.toLowerCase())&&(o.headers[i]="REDACTED");return o}let s=null;for(const o in r)Sm.has(o.toLowerCase())&&(s??(s={...r}),s[o]="REDACTED");return s??r});console.log(`OpenAI:DEBUG:${t}`,...n)}}const KO=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),YO=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",qO=t=>typeof(t==null?void 0:t.get)=="function",ea=(t,e)=>{var r;const n=e.toLowerCase();if(qO(t)){const s=((r=e[0])==null?void 0:r.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(o,i,a)=>i+a.toUpperCase());for(const o of[e,n,e.toUpperCase(),s]){const i=t.get(o);if(i)return i}}for(const[s,o]of Object.entries(t))if(s.toLowerCase()===n)return Array.isArray(o)?(o.length<=1||console.warn(`Received ${o.length} entries for the ${e} header, using the first entry.`),o[0]):o},GO=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),n=e.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=e.charCodeAt(s);return Array.from(new Float32Array(r.buffer))}};function Vc(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class Fl extends A0{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class gt extends A0{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const e=this.getPaginatedItems();if(!e.length)return null;const n=(r=e[e.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class xe{constructor(e){this._client=e}}let R0=class extends xe{list(e,n={},r){return Qe(n)?this.list(e,{},n):this._client.getAPIList(`/chat/completions/${e}/messages`,JO,{query:n,...r})}},Nl=class extends xe{constructor(){super(...arguments),this.messages=new R0(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(`/chat/completions/${e}`,n)}update(e,n,r){return this._client.post(`/chat/completions/${e}`,{body:n,...r})}list(e={},n){return Qe(e)?this.list({},e):this._client.getAPIList("/chat/completions",Ll,{query:e,...n})}del(e,n){return this._client.delete(`/chat/completions/${e}`,n)}};class Ll extends gt{}class JO extends gt{}Nl.ChatCompletionsPage=Ll;Nl.Messages=R0;let Bl=class extends xe{constructor(){super(...arguments),this.completions=new Nl(this._client)}};Bl.Completions=Nl;Bl.ChatCompletionsPage=Ll;class $0 extends xe{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class P0 extends xe{create(e,n){return this._client.post("/audio/transcriptions",Qs({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}}))}}class D0 extends xe{create(e,n){return this._client.post("/audio/translations",Qs({body:e,...n,__metadata:{model:e.model}}))}}class _i extends xe{constructor(){super(...arguments),this.transcriptions=new P0(this._client),this.translations=new D0(this._client),this.speech=new $0(this._client)}}_i.Transcriptions=P0;_i.Translations=D0;_i.Speech=$0;class ad extends xe{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/batches/${e}`,n)}list(e={},n){return Qe(e)?this.list({},e):this._client.getAPIList("/batches",ld,{query:e,...n})}cancel(e,n){return this._client.post(`/batches/${e}/cancel`,n)}}class ld extends gt{}ad.BatchesPage=ld;var Gt=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},qe=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},sf,Ca,xa,Ao,To,Ea,ko,Nn,Oo,Qa,Za,Ss,M0;class cd{constructor(){sf.add(this),this.controller=new AbortController,Ca.set(this,void 0),xa.set(this,()=>{}),Ao.set(this,()=>{}),To.set(this,void 0),Ea.set(this,()=>{}),ko.set(this,()=>{}),Nn.set(this,{}),Oo.set(this,!1),Qa.set(this,!1),Za.set(this,!1),Ss.set(this,!1),Gt(this,Ca,new Promise((e,n)=>{Gt(this,xa,e,"f"),Gt(this,Ao,n,"f")}),"f"),Gt(this,To,new Promise((e,n)=>{Gt(this,Ea,e,"f"),Gt(this,ko,n,"f")}),"f"),qe(this,Ca,"f").catch(()=>{}),qe(this,To,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},qe(this,sf,"m",M0).bind(this))},0)}_connected(){this.ended||(qe(this,xa,"f").call(this),this._emit("connect"))}get ended(){return qe(this,Oo,"f")}get errored(){return qe(this,Qa,"f")}get aborted(){return qe(this,Za,"f")}abort(){this.controller.abort()}on(e,n){return(qe(this,Nn,"f")[e]||(qe(this,Nn,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=qe(this,Nn,"f")[e];if(!r)return this;const s=r.findIndex(o=>o.listener===n);return s>=0&&r.splice(s,1),this}once(e,n){return(qe(this,Nn,"f")[e]||(qe(this,Nn,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{Gt(this,Ss,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){Gt(this,Ss,!0,"f"),await qe(this,To,"f")}_emit(e,...n){if(qe(this,Oo,"f"))return;e==="end"&&(Gt(this,Oo,!0,"f"),qe(this,Ea,"f").call(this));const r=qe(this,Nn,"f")[e];if(r&&(qe(this,Nn,"f")[e]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),e==="abort"){const s=n[0];!qe(this,Ss,"f")&&!(r!=null&&r.length)&&Promise.reject(s),qe(this,Ao,"f").call(this,s),qe(this,ko,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=n[0];!qe(this,Ss,"f")&&!(r!=null&&r.length)&&Promise.reject(s),qe(this,Ao,"f").call(this,s),qe(this,ko,"f").call(this,s),this._emit("end")}}_emitFinal(){}}Ca=new WeakMap,xa=new WeakMap,Ao=new WeakMap,To=new WeakMap,Ea=new WeakMap,ko=new WeakMap,Nn=new WeakMap,Oo=new WeakMap,Qa=new WeakMap,Za=new WeakMap,Ss=new WeakMap,sf=new WeakSet,M0=function(e){if(Gt(this,Qa,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new Kt),e instanceof Kt)return Gt(this,Za,!0,"f"),this._emit("abort",e);if(e instanceof ye)return this._emit("error",e);if(e instanceof Error){const n=new ye(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new ye(String(e)))};var fe=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Ft=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},ht,of,mn,Sa,Jt,Vr,Ts,Lr,el,Lt,Aa,Ta,zo,Ro,$o,Am,Tm,km,Om,Rm,$m,Pm;class Xt extends cd{constructor(){super(...arguments),ht.add(this),of.set(this,[]),mn.set(this,{}),Sa.set(this,{}),Jt.set(this,void 0),Vr.set(this,void 0),Ts.set(this,void 0),Lr.set(this,void 0),el.set(this,void 0),Lt.set(this,void 0),Aa.set(this,void 0),Ta.set(this,void 0),zo.set(this,void 0)}[(of=new WeakMap,mn=new WeakMap,Sa=new WeakMap,Jt=new WeakMap,Vr=new WeakMap,Ts=new WeakMap,Lr=new WeakMap,el=new WeakMap,Lt=new WeakMap,Aa=new WeakMap,Ta=new WeakMap,zo=new WeakMap,ht=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",s=>{const o=n.shift();o?o.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const o of n)o.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const o of n)o.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((o,i)=>n.push({resolve:o,reject:i})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new Xt;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var o;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=bn.fromReadableStream(e,this.controller);for await(const i of s)fe(this,ht,"m",Ro).call(this,i);if((o=s.controller.signal)!=null&&o.aborted)throw new Kt;return this._addRun(fe(this,ht,"m",$o).call(this))}toReadableStream(){return new bn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,s,o){const i=new Xt;return i._run(()=>i._runToolAssistantStream(e,n,r,s,{...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createToolAssistantStream(e,n,r,s,o){var c;const i=o==null?void 0:o.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...s,stream:!0},l=await e.submitToolOutputs(n,r,a,{...o,signal:this.controller.signal});this._connected();for await(const u of l)fe(this,ht,"m",Ro).call(this,u);if((c=l.controller.signal)!=null&&c.aborted)throw new Kt;return this._addRun(fe(this,ht,"m",$o).call(this))}static createThreadAssistantStream(e,n,r){const s=new Xt;return s._run(()=>s._threadAssistantStream(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(e,n,r,s){const o=new Xt;return o._run(()=>o._runAssistantStream(e,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),o}currentEvent(){return fe(this,Aa,"f")}currentRun(){return fe(this,Ta,"f")}currentMessageSnapshot(){return fe(this,Jt,"f")}currentRunStepSnapshot(){return fe(this,zo,"f")}async finalRunSteps(){return await this.done(),Object.values(fe(this,mn,"f"))}async finalMessages(){return await this.done(),Object.values(fe(this,Sa,"f"))}async finalRun(){if(await this.done(),!fe(this,Vr,"f"))throw Error("Final run was not received.");return fe(this,Vr,"f")}async _createThreadAssistantStream(e,n,r){var a;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const o={...n,stream:!0},i=await e.createAndRun(o,{...r,signal:this.controller.signal});this._connected();for await(const l of i)fe(this,ht,"m",Ro).call(this,l);if((a=i.controller.signal)!=null&&a.aborted)throw new Kt;return this._addRun(fe(this,ht,"m",$o).call(this))}async _createAssistantStream(e,n,r,s){var l;const o=s==null?void 0:s.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const i={...r,stream:!0},a=await e.create(n,i,{...s,signal:this.controller.signal});this._connected();for await(const c of a)fe(this,ht,"m",Ro).call(this,c);if((l=a.controller.signal)!=null&&l.aborted)throw new Kt;return this._addRun(fe(this,ht,"m",$o).call(this))}static accumulateDelta(e,n){for(const[r,s]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=s;continue}let o=e[r];if(o==null){e[r]=s;continue}if(r==="index"||r==="type"){e[r]=s;continue}if(typeof o=="string"&&typeof s=="string")o+=s;else if(typeof o=="number"&&typeof s=="number")o+=s;else if(Vc(o)&&Vc(s))o=this.accumulateDelta(o,s);else if(Array.isArray(o)&&Array.isArray(s)){if(o.every(i=>typeof i=="string"||typeof i=="number")){o.push(...s);continue}for(const i of s){if(!Vc(i))throw new Error(`Expected array delta entry to be an object but got: ${i}`);const a=i.index;if(a==null)throw console.error(i),new Error("Expected array delta entry to have an `index` property");if(typeof a!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${a}`);const l=o[a];l==null?o.push(i):o[a]=this.accumulateDelta(l,i)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${s}, accValue: ${o}`);e[r]=o}return e}_addRun(e){return e}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,s){return await this._createAssistantStream(n,e,r,s)}async _runToolAssistantStream(e,n,r,s,o){return await this._createToolAssistantStream(r,e,n,s,o)}}Ro=function(e){if(!this.ended)switch(Ft(this,Aa,e,"f"),fe(this,ht,"m",km).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":fe(this,ht,"m",Pm).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":fe(this,ht,"m",Tm).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":fe(this,ht,"m",Am).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},$o=function(){if(this.ended)throw new ye("stream has ended, this shouldn't happen");if(!fe(this,Vr,"f"))throw Error("Final run has not been received");return fe(this,Vr,"f")},Am=function(e){const[n,r]=fe(this,ht,"m",Rm).call(this,e,fe(this,Jt,"f"));Ft(this,Jt,n,"f"),fe(this,Sa,"f")[n.id]=n;for(const s of r){const o=n.content[s.index];(o==null?void 0:o.type)=="text"&&this._emit("textCreated",o.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const s of e.data.delta.content){if(s.type=="text"&&s.text){let o=s.text,i=n.content[s.index];if(i&&i.type=="text")this._emit("textDelta",o,i.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=fe(this,Ts,"f")){if(fe(this,Lr,"f"))switch(fe(this,Lr,"f").type){case"text":this._emit("textDone",fe(this,Lr,"f").text,fe(this,Jt,"f"));break;case"image_file":this._emit("imageFileDone",fe(this,Lr,"f").image_file,fe(this,Jt,"f"));break}Ft(this,Ts,s.index,"f")}Ft(this,Lr,n.content[s.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(fe(this,Ts,"f")!==void 0){const s=e.data.content[fe(this,Ts,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,fe(this,Jt,"f"));break;case"text":this._emit("textDone",s.text,fe(this,Jt,"f"));break}}fe(this,Jt,"f")&&this._emit("messageDone",e.data),Ft(this,Jt,void 0,"f")}},Tm=function(e){const n=fe(this,ht,"m",Om).call(this,e);switch(Ft(this,zo,n,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const o of r.step_details.tool_calls)o.index==fe(this,el,"f")?this._emit("toolCallDelta",o,n.step_details.tool_calls[o.index]):(fe(this,Lt,"f")&&this._emit("toolCallDone",fe(this,Lt,"f")),Ft(this,el,o.index,"f"),Ft(this,Lt,n.step_details.tool_calls[o.index],"f"),fe(this,Lt,"f")&&this._emit("toolCallCreated",fe(this,Lt,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Ft(this,zo,void 0,"f"),e.data.step_details.type=="tool_calls"&&fe(this,Lt,"f")&&(this._emit("toolCallDone",fe(this,Lt,"f")),Ft(this,Lt,void 0,"f")),this._emit("runStepDone",e.data,n);break}},km=function(e){fe(this,of,"f").push(e),this._emit("event",e)},Om=function(e){switch(e.event){case"thread.run.step.created":return fe(this,mn,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=fe(this,mn,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const s=Xt.accumulateDelta(n,r.delta);fe(this,mn,"f")[e.data.id]=s}return fe(this,mn,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":fe(this,mn,"f")[e.data.id]=e.data;break}if(fe(this,mn,"f")[e.data.id])return fe(this,mn,"f")[e.data.id];throw new Error("No snapshot available")},Rm=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=e.data;if(s.delta.content)for(const o of s.delta.content)if(o.index in n.content){let i=n.content[o.index];n.content[o.index]=fe(this,ht,"m",$m).call(this,o,i)}else n.content[o.index]=o,r.push(o);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},$m=function(e,n){return Xt.accumulateDelta(n,e)},Pm=function(e){switch(Ft(this,Ta,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Ft(this,Vr,e.data,"f"),fe(this,Lt,"f")&&(this._emit("toolCallDone",fe(this,Lt,"f")),Ft(this,Lt,void 0,"f"));break}};class ud extends xe{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/assistants/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return Qe(e)?this.list({},e):this._client.getAPIList("/assistants",fd,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class fd extends gt{}ud.AssistantsPage=fd;function Dm(t){return typeof t.parse=="function"}const Us=t=>(t==null?void 0:t.role)==="assistant",I0=t=>(t==null?void 0:t.role)==="function",F0=t=>(t==null?void 0:t.role)==="tool";function dd(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function wi(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function XO(t,e){return!e||!N0(e)?{...t,choices:t.choices.map(n=>({...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:hd(t,e)}function hd(t,e){const n=t.choices.map(r=>{var s;if(r.finish_reason==="length")throw new v0;if(r.finish_reason==="content_filter")throw new b0;return{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((s=r.message.tool_calls)==null?void 0:s.map(o=>ZO(e,o)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?QO(e,r.message.content):null}}});return{...t,choices:n}}function QO(t,e){var n,r;return((n=t.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=t.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function ZO(t,e){var r;const n=(r=t.tools)==null?void 0:r.find(s=>{var o;return((o=s.function)==null?void 0:o.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:wi(n)?n.$parseRaw(e.function.arguments):n!=null&&n.function.strict?JSON.parse(e.function.arguments):null}}}function eR(t,e){var r;if(!t)return!1;const n=(r=t.tools)==null?void 0:r.find(s=>{var o;return((o=s.function)==null?void 0:o.name)===e.function.name});return wi(n)||(n==null?void 0:n.function.strict)||!1}function N0(t){var e;return dd(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(n=>wi(n)||n.type==="function"&&n.function.strict===!0))??!1}function tR(t){for(const e of t??[]){if(e.type!=="function")throw new ye(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new ye(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Ot=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},yt,af,tl,lf,cf,uf,L0,ff;const Mm=10;class B0 extends cd{constructor(){super(...arguments),yt.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(r=e.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),(I0(e)||F0(e))&&e.content)this._emit("functionCallResult",e.content);else if(Us(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(Us(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new ye("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Ot(this,yt,"m",af).call(this)}async finalMessage(){return await this.done(),Ot(this,yt,"m",tl).call(this)}async finalFunctionCall(){return await this.done(),Ot(this,yt,"m",lf).call(this)}async finalFunctionCallResult(){return await this.done(),Ot(this,yt,"m",cf).call(this)}async totalUsage(){return await this.done(),Ot(this,yt,"m",uf).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=Ot(this,yt,"m",tl).call(this);n&&this._emit("finalMessage",n);const r=Ot(this,yt,"m",af).call(this);r&&this._emit("finalContent",r);const s=Ot(this,yt,"m",lf).call(this);s&&this._emit("finalFunctionCall",s);const o=Ot(this,yt,"m",cf).call(this);o!=null&&this._emit("finalFunctionCallResult",o),this._chatCompletions.some(i=>i.usage)&&this._emit("totalUsage",Ot(this,yt,"m",uf).call(this))}async _createChatCompletion(e,n,r){const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Ot(this,yt,"m",L0).call(this,n);const o=await e.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(hd(o,n))}async _runChatCompletion(e,n,r){for(const s of n.messages)this._addMessage(s,!1);return await this._createChatCompletion(e,n,r)}async _runFunctions(e,n,r){var d;const s="function",{function_call:o="auto",stream:i,...a}=n,l=typeof o!="string"&&(o==null?void 0:o.name),{maxChatCompletions:c=Mm}=r||{},u={};for(const h of n.functions)u[h.name||h.function.name]=h;const f=n.functions.map(h=>({name:h.name||h.function.name,parameters:h.parameters,description:h.description}));for(const h of n.messages)this._addMessage(h,!1);for(let h=0;h<c;++h){const p=(d=(await this._createChatCompletion(e,{...a,function_call:o,functions:f,messages:[...this.messages]},r)).choices[0])==null?void 0:d.message;if(!p)throw new ye("missing message in ChatCompletion response");if(!p.function_call)return;const{name:C,arguments:b}=p.function_call,_=u[C];if(_){if(l&&l!==C){const A=`Invalid function_call: ${JSON.stringify(C)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,name:C,content:A});continue}}else{const A=`Invalid function_call: ${JSON.stringify(C)}. Available options are: ${f.map(R=>JSON.stringify(R.name)).join(", ")}. Please try again`;this._addMessage({role:s,name:C,content:A});continue}let y;try{y=Dm(_)?await _.parse(b):b}catch(A){this._addMessage({role:s,name:C,content:A instanceof Error?A.message:String(A)});continue}const g=await _.function(y,this),S=Ot(this,yt,"m",ff).call(this,g);if(this._addMessage({role:s,name:C,content:S}),l)return}}async _runTools(e,n,r){var h,m,p;const s="tool",{tool_choice:o="auto",stream:i,...a}=n,l=typeof o!="string"&&((h=o==null?void 0:o.function)==null?void 0:h.name),{maxChatCompletions:c=Mm}=r||{},u=n.tools.map(C=>{if(wi(C)){if(!C.$callback)throw new ye("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:C.$callback,name:C.function.name,description:C.function.description||"",parameters:C.function.parameters,parse:C.$parseRaw,strict:!0}}}return C}),f={};for(const C of u)C.type==="function"&&(f[C.function.name||C.function.function.name]=C.function);const d="tools"in n?u.map(C=>C.type==="function"?{type:"function",function:{name:C.function.name||C.function.function.name,parameters:C.function.parameters,description:C.function.description,strict:C.function.strict}}:C):void 0;for(const C of n.messages)this._addMessage(C,!1);for(let C=0;C<c;++C){const _=(m=(await this._createChatCompletion(e,{...a,tool_choice:o,tools:d,messages:[...this.messages]},r)).choices[0])==null?void 0:m.message;if(!_)throw new ye("missing message in ChatCompletion response");if(!((p=_.tool_calls)!=null&&p.length))return;for(const y of _.tool_calls){if(y.type!=="function")continue;const g=y.id,{name:S,arguments:A}=y.function,R=f[S];if(R){if(l&&l!==S){const V=`Invalid tool_call: ${JSON.stringify(S)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,tool_call_id:g,content:V});continue}}else{const V=`Invalid tool_call: ${JSON.stringify(S)}. Available options are: ${Object.keys(f).map(U=>JSON.stringify(U)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:g,content:V});continue}let O;try{O=Dm(R)?await R.parse(A):A}catch(V){const U=V instanceof Error?V.message:String(V);this._addMessage({role:s,tool_call_id:g,content:U});continue}const x=await R.function(O,this),j=Ot(this,yt,"m",ff).call(this,x);if(this._addMessage({role:s,tool_call_id:g,content:j}),l)return}}}}yt=new WeakSet,af=function(){return Ot(this,yt,"m",tl).call(this).content??null},tl=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(Us(n)){const{function_call:r,...s}=n,o={...s,content:n.content??null,refusal:n.refusal??null};return r&&(o.function_call=r),o}}throw new ye("stream ended without producing a ChatCompletionMessage with role=assistant")},lf=function(){var e,n;for(let r=this.messages.length-1;r>=0;r--){const s=this.messages[r];if(Us(s)&&(s!=null&&s.function_call))return s.function_call;if(Us(s)&&((e=s==null?void 0:s.tool_calls)!=null&&e.length))return(n=s.tool_calls.at(-1))==null?void 0:n.function}},cf=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(I0(n)&&n.content!=null||F0(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var s;return r.role==="assistant"&&((s=r.tool_calls)==null?void 0:s.some(o=>o.type==="function"&&o.id===n.tool_call_id))}))return n.content}},uf=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},L0=function(e){if(e.n!=null&&e.n>1)throw new ye("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},ff=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class ai extends B0{static runFunctions(e,n,r){const s=new ai,o={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(e,n,o)),s}static runTools(e,n,r){const s=new ai,o={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,n,o)),s}_addMessage(e,n=!0){super._addMessage(e,n),Us(e)&&e.content&&this._emit("content",e.content)}}const U0=1,j0=2,V0=4,H0=8,z0=16,W0=32,K0=64,Y0=128,q0=256,G0=Y0|q0,J0=z0|W0|G0|K0,X0=U0|j0|J0,Q0=V0|H0,nR=X0|Q0,at={STR:U0,NUM:j0,ARR:V0,OBJ:H0,NULL:z0,BOOL:W0,NAN:K0,INFINITY:Y0,MINUS_INFINITY:q0,INF:G0,SPECIAL:J0,ATOM:X0,COLLECTION:Q0,ALL:nR};class rR extends Error{}class sR extends Error{}function oR(t,e=at.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return iR(t.trim(),e)}const iR=(t,e)=>{const n=t.length;let r=0;const s=d=>{throw new rR(`${d} at position ${r}`)},o=d=>{throw new sR(`${d} at position ${r}`)},i=()=>(f(),r>=n&&s("Unexpected end of input"),t[r]==='"'?a():t[r]==="{"?l():t[r]==="["?c():t.substring(r,r+4)==="null"||at.NULL&e&&n-r<4&&"null".startsWith(t.substring(r))?(r+=4,null):t.substring(r,r+4)==="true"||at.BOOL&e&&n-r<4&&"true".startsWith(t.substring(r))?(r+=4,!0):t.substring(r,r+5)==="false"||at.BOOL&e&&n-r<5&&"false".startsWith(t.substring(r))?(r+=5,!1):t.substring(r,r+8)==="Infinity"||at.INFINITY&e&&n-r<8&&"Infinity".startsWith(t.substring(r))?(r+=8,1/0):t.substring(r,r+9)==="-Infinity"||at.MINUS_INFINITY&e&&1<n-r&&n-r<9&&"-Infinity".startsWith(t.substring(r))?(r+=9,-1/0):t.substring(r,r+3)==="NaN"||at.NAN&e&&n-r<3&&"NaN".startsWith(t.substring(r))?(r+=3,NaN):u()),a=()=>{const d=r;let h=!1;for(r++;r<n&&(t[r]!=='"'||h&&t[r-1]==="\\");)h=t[r]==="\\"?!h:!1,r++;if(t.charAt(r)=='"')try{return JSON.parse(t.substring(d,++r-Number(h)))}catch(m){o(String(m))}else if(at.STR&e)try{return JSON.parse(t.substring(d,r-Number(h))+'"')}catch{return JSON.parse(t.substring(d,t.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},l=()=>{r++,f();const d={};try{for(;t[r]!=="}";){if(f(),r>=n&&at.OBJ&e)return d;const h=a();f(),r++;try{const m=i();Object.defineProperty(d,h,{value:m,writable:!0,enumerable:!0,configurable:!0})}catch(m){if(at.OBJ&e)return d;throw m}f(),t[r]===","&&r++}}catch{if(at.OBJ&e)return d;s("Expected '}' at end of object")}return r++,d},c=()=>{r++;const d=[];try{for(;t[r]!=="]";)d.push(i()),f(),t[r]===","&&r++}catch{if(at.ARR&e)return d;s("Expected ']' at end of array")}return r++,d},u=()=>{if(r===0){t==="-"&&at.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t)}catch(h){if(at.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}o(String(h))}}const d=r;for(t[r]==="-"&&r++;t[r]&&!",]}".includes(t[r]);)r++;r==n&&!(at.NUM&e)&&s("Unterminated number literal");try{return JSON.parse(t.substring(d,r))}catch{t.substring(d,r)==="-"&&at.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t.substring(d,t.lastIndexOf("e")))}catch(m){o(String(m))}}},f=()=>{for(;r<n&&` 
\r	`.includes(t[r]);)r++};return i()},Im=t=>oR(t,at.ALL^at.NUM);var ms=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},Ue=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},st,In,gs,nr,Hc,ta,zc,Wc,Kc,na,Yc,Fm;class li extends B0{constructor(e){super(),st.add(this),In.set(this,void 0),gs.set(this,void 0),nr.set(this,void 0),ms(this,In,e,"f"),ms(this,gs,[],"f")}get currentChatCompletionSnapshot(){return Ue(this,nr,"f")}static fromReadableStream(e){const n=new li(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const s=new li(n);return s._run(()=>s._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(e,n,r){var i;super._createChatCompletion;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Ue(this,st,"m",Hc).call(this);const o=await e.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const a of o)Ue(this,st,"m",zc).call(this,a);if((i=o.controller.signal)!=null&&i.aborted)throw new Kt;return this._addChatCompletion(Ue(this,st,"m",na).call(this))}async _fromReadableStream(e,n){var i;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),Ue(this,st,"m",Hc).call(this),this._connected();const s=bn.fromReadableStream(e,this.controller);let o;for await(const a of s)o&&o!==a.id&&this._addChatCompletion(Ue(this,st,"m",na).call(this)),Ue(this,st,"m",zc).call(this,a),o=a.id;if((i=s.controller.signal)!=null&&i.aborted)throw new Kt;return this._addChatCompletion(Ue(this,st,"m",na).call(this))}[(In=new WeakMap,gs=new WeakMap,nr=new WeakMap,st=new WeakSet,Hc=function(){this.ended||ms(this,nr,void 0,"f")},ta=function(n){let r=Ue(this,gs,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},Ue(this,gs,"f")[n.index]=r,r)},zc=function(n){var s,o,i,a,l,c,u,f,d,h,m,p,C,b,_;if(this.ended)return;const r=Ue(this,st,"m",Fm).call(this,n);this._emit("chunk",n,r);for(const y of n.choices){const g=r.choices[y.index];y.delta.content!=null&&((s=g.message)==null?void 0:s.role)==="assistant"&&((o=g.message)!=null&&o.content)&&(this._emit("content",y.delta.content,g.message.content),this._emit("content.delta",{delta:y.delta.content,snapshot:g.message.content,parsed:g.message.parsed})),y.delta.refusal!=null&&((i=g.message)==null?void 0:i.role)==="assistant"&&((a=g.message)!=null&&a.refusal)&&this._emit("refusal.delta",{delta:y.delta.refusal,snapshot:g.message.refusal}),((l=y.logprobs)==null?void 0:l.content)!=null&&((c=g.message)==null?void 0:c.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(u=y.logprobs)==null?void 0:u.content,snapshot:((f=g.logprobs)==null?void 0:f.content)??[]}),((d=y.logprobs)==null?void 0:d.refusal)!=null&&((h=g.message)==null?void 0:h.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(m=y.logprobs)==null?void 0:m.refusal,snapshot:((p=g.logprobs)==null?void 0:p.refusal)??[]});const S=Ue(this,st,"m",ta).call(this,g);g.finish_reason&&(Ue(this,st,"m",Kc).call(this,g),S.current_tool_call_index!=null&&Ue(this,st,"m",Wc).call(this,g,S.current_tool_call_index));for(const A of y.delta.tool_calls??[])S.current_tool_call_index!==A.index&&(Ue(this,st,"m",Kc).call(this,g),S.current_tool_call_index!=null&&Ue(this,st,"m",Wc).call(this,g,S.current_tool_call_index)),S.current_tool_call_index=A.index;for(const A of y.delta.tool_calls??[]){const R=(C=g.message.tool_calls)==null?void 0:C[A.index];R!=null&&R.type&&((R==null?void 0:R.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(b=R.function)==null?void 0:b.name,index:A.index,arguments:R.function.arguments,parsed_arguments:R.function.parsed_arguments,arguments_delta:((_=A.function)==null?void 0:_.arguments)??""}):(R==null||R.type,void 0))}}},Wc=function(n,r){var i,a,l;if(Ue(this,st,"m",ta).call(this,n).done_tool_calls.has(r))return;const o=(i=n.message.tool_calls)==null?void 0:i[r];if(!o)throw new Error("no tool call snapshot");if(!o.type)throw new Error("tool call snapshot missing `type`");if(o.type==="function"){const c=(l=(a=Ue(this,In,"f"))==null?void 0:a.tools)==null?void 0:l.find(u=>u.type==="function"&&u.function.name===o.function.name);this._emit("tool_calls.function.arguments.done",{name:o.function.name,index:r,arguments:o.function.arguments,parsed_arguments:wi(c)?c.$parseRaw(o.function.arguments):c!=null&&c.function.strict?JSON.parse(o.function.arguments):null})}else o.type},Kc=function(n){var s,o;const r=Ue(this,st,"m",ta).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const i=Ue(this,st,"m",Yc).call(this);this._emit("content.done",{content:n.message.content,parsed:i?i.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(s=n.logprobs)!=null&&s.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(o=n.logprobs)!=null&&o.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},na=function(){if(this.ended)throw new ye("stream has ended, this shouldn't happen");const n=Ue(this,nr,"f");if(!n)throw new ye("request ended without sending any chunks");return ms(this,nr,void 0,"f"),ms(this,gs,[],"f"),aR(n,Ue(this,In,"f"))},Yc=function(){var r;const n=(r=Ue(this,In,"f"))==null?void 0:r.response_format;return dd(n)?n:null},Fm=function(n){var r,s,o,i;let a=Ue(this,nr,"f");const{choices:l,...c}=n;a?Object.assign(a,c):a=ms(this,nr,{...c,choices:[]},"f");for(const{delta:u,finish_reason:f,index:d,logprobs:h=null,...m}of n.choices){let p=a.choices[d];if(p||(p=a.choices[d]={finish_reason:f,index:d,message:{},logprobs:h,...m}),h)if(!p.logprobs)p.logprobs=Object.assign({},h);else{const{content:A,refusal:R,...O}=h;Object.assign(p.logprobs,O),A&&((r=p.logprobs).content??(r.content=[]),p.logprobs.content.push(...A)),R&&((s=p.logprobs).refusal??(s.refusal=[]),p.logprobs.refusal.push(...R))}if(f&&(p.finish_reason=f,Ue(this,In,"f")&&N0(Ue(this,In,"f")))){if(f==="length")throw new v0;if(f==="content_filter")throw new b0}if(Object.assign(p,m),!u)continue;const{content:C,refusal:b,function_call:_,role:y,tool_calls:g,...S}=u;if(Object.assign(p.message,S),b&&(p.message.refusal=(p.message.refusal||"")+b),y&&(p.message.role=y),_&&(p.message.function_call?(_.name&&(p.message.function_call.name=_.name),_.arguments&&((o=p.message.function_call).arguments??(o.arguments=""),p.message.function_call.arguments+=_.arguments)):p.message.function_call=_),C&&(p.message.content=(p.message.content||"")+C,!p.message.refusal&&Ue(this,st,"m",Yc).call(this)&&(p.message.parsed=Im(p.message.content))),g){p.message.tool_calls||(p.message.tool_calls=[]);for(const{index:A,id:R,type:O,function:x,...j}of g){const V=(i=p.message.tool_calls)[A]??(i[A]={});Object.assign(V,j),R&&(V.id=R),O&&(V.type=O),x&&(V.function??(V.function={name:x.name??"",arguments:""})),x!=null&&x.name&&(V.function.name=x.name),x!=null&&x.arguments&&(V.function.arguments+=x.arguments,eR(Ue(this,In,"f"),V)&&(V.function.parsed_arguments=Im(V.function.arguments)))}}}return a},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",s=>{const o=n.shift();o?o.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const o of n)o.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const o of n)o.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((o,i)=>n.push({resolve:o,reject:i})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new bn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function aR(t,e){const{id:n,choices:r,created:s,model:o,system_fingerprint:i,...a}=t,l={...a,id:n,choices:r.map(({message:c,finish_reason:u,index:f,logprobs:d,...h})=>{if(!u)throw new ye(`missing finish_reason for choice ${f}`);const{content:m=null,function_call:p,tool_calls:C,...b}=c,_=c.role;if(!_)throw new ye(`missing role for choice ${f}`);if(p){const{arguments:y,name:g}=p;if(y==null)throw new ye(`missing function_call.arguments for choice ${f}`);if(!g)throw new ye(`missing function_call.name for choice ${f}`);return{...h,message:{content:m,function_call:{arguments:y,name:g},role:_,refusal:c.refusal??null},finish_reason:u,index:f,logprobs:d}}return C?{...h,index:f,finish_reason:u,logprobs:d,message:{...b,role:_,content:m,refusal:c.refusal??null,tool_calls:C.map((y,g)=>{const{function:S,type:A,id:R,...O}=y,{arguments:x,name:j,...V}=S||{};if(R==null)throw new ye(`missing choices[${f}].tool_calls[${g}].id
${ra(t)}`);if(A==null)throw new ye(`missing choices[${f}].tool_calls[${g}].type
${ra(t)}`);if(j==null)throw new ye(`missing choices[${f}].tool_calls[${g}].function.name
${ra(t)}`);if(x==null)throw new ye(`missing choices[${f}].tool_calls[${g}].function.arguments
${ra(t)}`);return{...O,id:R,type:A,function:{...V,name:j,arguments:x}}})}}:{...h,message:{...b,content:m,role:_,refusal:c.refusal??null},finish_reason:u,index:f,logprobs:d}}),created:s,model:o,object:"chat.completion",...i?{system_fingerprint:i}:{}};return XO(l,e)}function ra(t){return JSON.stringify(t)}class js extends li{static fromReadableStream(e){const n=new js(null);return n._run(()=>n._fromReadableStream(e)),n}static runFunctions(e,n,r){const s=new js(null),o={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(e,n,o)),s}static runTools(e,n,r){const s=new js(n),o={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,n,o)),s}}let Z0=class extends xe{parse(e,n){return tR(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>hd(r,e))}runFunctions(e,n){return e.stream?js.runFunctions(this._client,e,n):ai.runFunctions(this._client,e,n)}runTools(e,n){return e.stream?js.runTools(this._client,e,n):ai.runTools(this._client,e,n)}stream(e,n){return li.createChatCompletion(this._client,e,n)}};class df extends xe{constructor(){super(...arguments),this.completions=new Z0(this._client)}}(function(t){t.Completions=Z0})(df||(df={}));class e_ extends xe{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class t_ extends xe{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Ul extends xe{constructor(){super(...arguments),this.sessions=new e_(this._client),this.transcriptionSessions=new t_(this._client)}}Ul.Sessions=e_;Ul.TranscriptionSessions=t_;class pd extends xe{create(e,n,r){return this._client.post(`/threads/${e}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,s){return this._client.post(`/threads/${e}/messages/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n={},r){return Qe(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/messages`,md,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class md extends gt{}pd.MessagesPage=md;class gd extends xe{retrieve(e,n,r,s={},o){return Qe(s)?this.retrieve(e,n,r,{},s):this._client.get(`/threads/${e}/runs/${n}/steps/${r}`,{query:s,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}list(e,n,r={},s){return Qe(r)?this.list(e,n,{},r):this._client.getAPIList(`/threads/${e}/runs/${n}/steps`,yd,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class yd extends gt{}gd.RunStepsPage=yd;let Ci=class extends xe{constructor(){super(...arguments),this.steps=new gd(this._client)}create(e,n,r){const{include:s,...o}=n;return this._client.post(`/threads/${e}/runs`,{query:{include:s},body:o,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(e,n,r){return this._client.get(`/threads/${e}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,s){return this._client.post(`/threads/${e}/runs/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n={},r){return Qe(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/runs`,vd,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/threads/${e}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const s=await this.create(e,n,r);return await this.poll(e,s.id,r)}createAndStream(e,n,r){return Xt.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:o,response:i}=await this.retrieve(e,n,{...r,headers:{...r==null?void 0:r.headers,...s}}).withResponse();switch(o.status){case"queued":case"in_progress":case"cancelling":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=i.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await bi(a);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return o}}}stream(e,n,r){return Xt.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r,s){return this._client.post(`/threads/${e}/runs/${n}/submit_tool_outputs`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(e,n,r,s){const o=await this.submitToolOutputs(e,n,r,s);return await this.poll(e,o.id,s)}submitToolOutputsStream(e,n,r,s){return Xt.createToolAssistantStream(e,n,this._client.beta.threads.runs,r,s)}};class vd extends gt{}Ci.RunsPage=vd;Ci.Steps=gd;Ci.RunStepsPage=yd;class io extends xe{constructor(){super(...arguments),this.runs=new Ci(this._client),this.messages=new pd(this._client)}create(e={},n){return Qe(e)?this.create({},e):this._client.post("/threads",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/threads/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n){return this._client.delete(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(e,n){return Xt.createThreadAssistantStream(e,this._client.beta.threads,n)}}io.Runs=Ci;io.RunsPage=vd;io.Messages=pd;io.MessagesPage=md;class ao extends xe{constructor(){super(...arguments),this.realtime=new Ul(this._client),this.chat=new df(this._client),this.assistants=new ud(this._client),this.threads=new io(this._client)}}ao.Realtime=Ul;ao.Assistants=ud;ao.AssistantsPage=fd;ao.Threads=io;class n_ extends xe{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class r_ extends xe{create(e,n){const r=!!e.encoding_format;let s=r?e.encoding_format:"base64";r&&mr("Request","User defined encoding_format:",e.encoding_format);const o=this._client.post("/embeddings",{body:{...e,encoding_format:s},...n});return r?o:(mr("response","Decoding base64 embeddings to float32 array"),o._thenUnwrap(i=>(i&&i.data&&i.data.forEach(a=>{const l=a.embedding;a.embedding=GO(l)}),i)))}}class bd extends xe{retrieve(e,n,r,s){return this._client.get(`/evals/${e}/runs/${n}/output_items/${r}`,s)}list(e,n,r={},s){return Qe(r)?this.list(e,n,{},r):this._client.getAPIList(`/evals/${e}/runs/${n}/output_items`,_d,{query:r,...s})}}class _d extends gt{}bd.OutputItemListResponsesPage=_d;class xi extends xe{constructor(){super(...arguments),this.outputItems=new bd(this._client)}create(e,n,r){return this._client.post(`/evals/${e}/runs`,{body:n,...r})}retrieve(e,n,r){return this._client.get(`/evals/${e}/runs/${n}`,r)}list(e,n={},r){return Qe(n)?this.list(e,{},n):this._client.getAPIList(`/evals/${e}/runs`,wd,{query:n,...r})}del(e,n,r){return this._client.delete(`/evals/${e}/runs/${n}`,r)}cancel(e,n,r){return this._client.post(`/evals/${e}/runs/${n}`,r)}}class wd extends gt{}xi.RunListResponsesPage=wd;xi.OutputItems=bd;xi.OutputItemListResponsesPage=_d;class Ei extends xe{constructor(){super(...arguments),this.runs=new xi(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get(`/evals/${e}`,n)}update(e,n,r){return this._client.post(`/evals/${e}`,{body:n,...r})}list(e={},n){return Qe(e)?this.list({},e):this._client.getAPIList("/evals",Cd,{query:e,...n})}del(e,n){return this._client.delete(`/evals/${e}`,n)}}class Cd extends gt{}Ei.EvalListResponsesPage=Cd;Ei.Runs=xi;Ei.RunListResponsesPage=wd;let xd=class extends xe{create(e,n){return this._client.post("/files",Qs({body:e,...n}))}retrieve(e,n){return this._client.get(`/files/${e}`,n)}list(e={},n){return Qe(e)?this.list({},e):this._client.getAPIList("/files",Ed,{query:e,...n})}del(e,n){return this._client.delete(`/files/${e}`,n)}content(e,n){return this._client.get(`/files/${e}/content`,{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})}retrieveContent(e,n){return this._client.get(`/files/${e}/content`,n)}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),o=Date.now();let i=await this.retrieve(e);for(;!i.status||!s.has(i.status);)if(await bi(n),i=await this.retrieve(e),Date.now()-o>r)throw new id({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return i}};class Ed extends gt{}xd.FileObjectsPage=Ed;class Sd extends xe{create(e,n,r){return this._client.getAPIList(`/fine_tuning/checkpoints/${e}/permissions`,Ad,{body:n,method:"post",...r})}retrieve(e,n={},r){return Qe(n)?this.retrieve(e,{},n):this._client.get(`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...r})}del(e,n,r){return this._client.delete(`/fine_tuning/checkpoints/${e}/permissions/${n}`,r)}}class Ad extends Fl{}Sd.PermissionCreateResponsesPage=Ad;let jl=class extends xe{constructor(){super(...arguments),this.permissions=new Sd(this._client)}};jl.Permissions=Sd;jl.PermissionCreateResponsesPage=Ad;class Td extends xe{list(e,n={},r){return Qe(n)?this.list(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,kd,{query:n,...r})}}class kd extends gt{}Td.FineTuningJobCheckpointsPage=kd;class lo extends xe{constructor(){super(...arguments),this.checkpoints=new Td(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(`/fine_tuning/jobs/${e}`,n)}list(e={},n){return Qe(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",Od,{query:e,...n})}cancel(e,n){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return Qe(n)?this.listEvents(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,Rd,{query:n,...r})}}class Od extends gt{}class Rd extends gt{}lo.FineTuningJobsPage=Od;lo.FineTuningJobEventsPage=Rd;lo.Checkpoints=Td;lo.FineTuningJobCheckpointsPage=kd;class co extends xe{constructor(){super(...arguments),this.jobs=new lo(this._client),this.checkpoints=new jl(this._client)}}co.Jobs=lo;co.FineTuningJobsPage=Od;co.FineTuningJobEventsPage=Rd;co.Checkpoints=jl;class s_ extends xe{createVariation(e,n){return this._client.post("/images/variations",Qs({body:e,...n}))}edit(e,n){return this._client.post("/images/edits",Qs({body:e,...n}))}generate(e,n){return this._client.post("/images/generations",{body:e,...n})}}class $d extends xe{retrieve(e,n){return this._client.get(`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",Pd,e)}del(e,n){return this._client.delete(`/models/${e}`,n)}}class Pd extends Fl{}$d.ModelsPage=Pd;class o_ extends xe{create(e,n){return this._client.post("/moderations",{body:e,...n})}}function lR(t,e){return!e||!uR(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:i_(t,e)}function i_(t,e){const n=t.output.map(s=>{if(s.type==="function_call")return{...s,parsed_arguments:hR(e,s)};if(s.type==="message"){const o=s.content.map(i=>i.type==="output_text"?{...i,parsed:cR(e,i.text)}:i);return{...s,content:o}}return s}),r=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||a_(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const s of r.output)if(s.type==="message"){for(const o of s.content)if(o.type==="output_text"&&o.parsed!==null)return o.parsed}return null}}),r}function cR(t,e){var n,r,s,o;return((r=(n=t.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((s=t.text)==null?void 0:s.format)?((o=t.text)==null?void 0:o.format).$parseRaw(e):JSON.parse(e)}function uR(t){var e;return!!dd((e=t.text)==null?void 0:e.format)}function fR(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function dR(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function hR(t,e){const n=dR(t.tools??[],e.name);return{...e,...e,parsed_arguments:fR(n)?n.$parseRaw(e.arguments):n!=null&&n.strict?JSON.parse(e.arguments):null}}function a_(t){const e=[];for(const n of t.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&e.push(r.text);t.output_text=e.join("")}class l_ extends xe{list(e,n={},r){return Qe(n)?this.list(e,{},n):this._client.getAPIList(`/responses/${e}/input_items`,mR,{query:n,...r})}}var ys=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},rr=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},vs,sa,sr,oa,Nm,Lm,Bm,Um;class Dd extends cd{constructor(e){super(),vs.add(this),sa.set(this,void 0),sr.set(this,void 0),oa.set(this,void 0),ys(this,sa,e,"f")}static createResponse(e,n,r){const s=new Dd(n);return s._run(()=>s._createResponse(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createResponse(e,n,r){var i;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),rr(this,vs,"m",Nm).call(this);const o=await e.responses.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const a of o)rr(this,vs,"m",Lm).call(this,a);if((i=o.controller.signal)!=null&&i.aborted)throw new Kt;return rr(this,vs,"m",Bm).call(this)}[(sa=new WeakMap,sr=new WeakMap,oa=new WeakMap,vs=new WeakSet,Nm=function(){this.ended||ys(this,sr,void 0,"f")},Lm=function(n){if(this.ended)return;const r=rr(this,vs,"m",Um).call(this,n);switch(this._emit("event",n),n.type){case"response.output_text.delta":{const s=r.output[n.output_index];if(!s)throw new ye(`missing output at index ${n.output_index}`);if(s.type==="message"){const o=s.content[n.content_index];if(!o)throw new ye(`missing content at index ${n.content_index}`);if(o.type!=="output_text")throw new ye(`expected content to be 'output_text', got ${o.type}`);this._emit("response.output_text.delta",{...n,snapshot:o.text})}break}case"response.function_call_arguments.delta":{const s=r.output[n.output_index];if(!s)throw new ye(`missing output at index ${n.output_index}`);s.type==="function_call"&&this._emit("response.function_call_arguments.delta",{...n,snapshot:s.arguments});break}default:this._emit(n.type,n);break}},Bm=function(){if(this.ended)throw new ye("stream has ended, this shouldn't happen");const n=rr(this,sr,"f");if(!n)throw new ye("request ended without sending any events");ys(this,sr,void 0,"f");const r=pR(n,rr(this,sa,"f"));return ys(this,oa,r,"f"),r},Um=function(n){let r=rr(this,sr,"f");if(!r){if(n.type!=="response.created")throw new ye(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=ys(this,sr,n.response,"f"),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const s=r.output[n.output_index];if(!s)throw new ye(`missing output at index ${n.output_index}`);s.type==="message"&&s.content.push(n.part);break}case"response.output_text.delta":{const s=r.output[n.output_index];if(!s)throw new ye(`missing output at index ${n.output_index}`);if(s.type==="message"){const o=s.content[n.content_index];if(!o)throw new ye(`missing content at index ${n.content_index}`);if(o.type!=="output_text")throw new ye(`expected content to be 'output_text', got ${o.type}`);o.text+=n.delta}break}case"response.function_call_arguments.delta":{const s=r.output[n.output_index];if(!s)throw new ye(`missing output at index ${n.output_index}`);s.type==="function_call"&&(s.arguments+=n.delta);break}case"response.completed":{ys(this,sr,n.response,"f");break}}return r},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",s=>{const o=n.shift();o?o.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const o of n)o.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const o of n)o.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((o,i)=>n.push({resolve:o,reject:i})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=rr(this,oa,"f");if(!e)throw new ye("stream ended without producing a ChatCompletion");return e}}function pR(t,e){return lR(t,e)}class Md extends xe{constructor(){super(...arguments),this.inputItems=new l_(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&a_(r),r))}retrieve(e,n={},r){return Qe(n)?this.retrieve(e,{},n):this._client.get(`/responses/${e}`,{query:n,...r})}del(e,n){return this._client.delete(`/responses/${e}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(r=>i_(r,e))}stream(e,n){return Dd.createResponse(this._client,e,n)}}class mR extends gt{}Md.InputItems=l_;class c_ extends xe{create(e,n,r){return this._client.post(`/uploads/${e}/parts`,Qs({body:n,...r}))}}class Id extends xe{constructor(){super(...arguments),this.parts=new c_(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(`/uploads/${e}/cancel`,n)}complete(e,n,r){return this._client.post(`/uploads/${e}/complete`,{body:n,...r})}}Id.Parts=c_;const gR=async t=>{const e=await Promise.allSettled(t),n=e.filter(s=>s.status==="rejected");if(n.length){for(const s of n)console.error(s.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const s of e)s.status==="fulfilled"&&r.push(s.value);return r};class Vl extends xe{create(e,n,r){return this._client.post(`/vector_stores/${e}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,s){return this._client.post(`/vector_stores/${e}/files/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n={},r){return Qe(n)?this.list(e,{},n):this._client.getAPIList(`/vector_stores/${e}/files`,Hl,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const s=await this.create(e,n,r);return await this.poll(e,s.id,r)}async poll(e,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const o=await this.retrieve(e,n,{...r,headers:s}).withResponse(),i=o.data;switch(i.status){case"in_progress":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=o.response.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await bi(a);break;case"failed":case"completed":return i}}}async upload(e,n,r){const s=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:s.id},r)}async uploadAndPoll(e,n,r){const s=await this.upload(e,n,r);return await this.poll(e,s.id,r)}content(e,n,r){return this._client.getAPIList(`/vector_stores/${e}/files/${n}/content`,Fd,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Hl extends gt{}class Fd extends Fl{}Vl.VectorStoreFilesPage=Hl;Vl.FileContentResponsesPage=Fd;class u_ extends xe{create(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const s=await this.create(e,n);return await this.poll(e,s.id,r)}listFiles(e,n,r={},s){return Qe(r)?this.listFiles(e,n,{},r):this._client.getAPIList(`/vector_stores/${e}/file_batches/${n}/files`,Hl,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async poll(e,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:o,response:i}=await this.retrieve(e,n,{...r,headers:s}).withResponse();switch(o.status){case"in_progress":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=i.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await bi(a);break;case"failed":case"cancelled":case"completed":return o}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},s){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const o=(s==null?void 0:s.maxConcurrency)??5,i=Math.min(o,n.length),a=this._client,l=n.values(),c=[...r];async function u(d){for(let h of d){const m=await a.files.create({file:h,purpose:"assistants"},s);c.push(m.id)}}const f=Array(i).fill(l).map(u);return await gR(f),await this.createAndPoll(e,{file_ids:c})}}class Ar extends xe{constructor(){super(...arguments),this.files=new Vl(this._client),this.fileBatches=new u_(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/vector_stores/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return Qe(e)?this.list({},e):this._client.getAPIList("/vector_stores",Nd,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}search(e,n,r){return this._client.getAPIList(`/vector_stores/${e}/search`,Ld,{body:n,method:"post",...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Nd extends gt{}class Ld extends Fl{}Ar.VectorStoresPage=Nd;Ar.VectorStoreSearchResponsesPage=Ld;Ar.Files=Vl;Ar.VectorStoreFilesPage=Hl;Ar.FileContentResponsesPage=Fd;Ar.FileBatches=u_;var f_;class Ce extends NO{constructor({baseURL:e=Zi("OPENAI_BASE_URL"),apiKey:n=Zi("OPENAI_API_KEY"),organization:r=Zi("OPENAI_ORG_ID")??null,project:s=Zi("OPENAI_PROJECT_ID")??null,...o}={}){if(n===void 0)throw new ye("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const i={apiKey:n,organization:r,project:s,...o,baseURL:e||"https://api.openai.com/v1"};if(!i.dangerouslyAllowBrowser&&YO())throw new ye(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:i.baseURL,timeout:i.timeout??6e5,httpAgent:i.httpAgent,maxRetries:i.maxRetries,fetch:i.fetch}),this.completions=new n_(this),this.chat=new Bl(this),this.embeddings=new r_(this),this.files=new xd(this),this.images=new s_(this),this.audio=new _i(this),this.moderations=new o_(this),this.models=new $d(this),this.fineTuning=new co(this),this.vectorStores=new Ar(this),this.beta=new ao(this),this.batches=new ad(this),this.uploads=new Id(this),this.responses=new Md(this),this.evals=new Ei(this),this._options=i,this.apiKey=n,this.organization=r,this.project=s}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return bO(e,{arrayFormat:"brackets"})}}f_=Ce;Ce.OpenAI=f_;Ce.DEFAULT_TIMEOUT=6e5;Ce.OpenAIError=ye;Ce.APIError=mt;Ce.APIConnectionError=Pl;Ce.APIConnectionTimeoutError=id;Ce.APIUserAbortError=Kt;Ce.NotFoundError=h0;Ce.ConflictError=p0;Ce.RateLimitError=g0;Ce.BadRequestError=u0;Ce.AuthenticationError=f0;Ce.InternalServerError=y0;Ce.PermissionDeniedError=d0;Ce.UnprocessableEntityError=m0;Ce.toFile=x0;Ce.fileFromPath=a0;Ce.Completions=n_;Ce.Chat=Bl;Ce.ChatCompletionsPage=Ll;Ce.Embeddings=r_;Ce.Files=xd;Ce.FileObjectsPage=Ed;Ce.Images=s_;Ce.Audio=_i;Ce.Moderations=o_;Ce.Models=$d;Ce.ModelsPage=Pd;Ce.FineTuning=co;Ce.VectorStores=Ar;Ce.VectorStoresPage=Nd;Ce.VectorStoreSearchResponsesPage=Ld;Ce.Beta=ao;Ce.Batches=ad;Ce.BatchesPage=ld;Ce.Uploads=Id;Ce.Responses=Md;Ce.Evals=Ei;Ce.EvalListResponsesPage=Cd;const Bd=ts("assistant",()=>{const t=Sr(),e=ub(),r=te(t.get("assistant")??{openAiApiKey:"",model:"gpt-4.1-nano",personality:`
You are Jean-Philippe, a 68-year-old executive assistant, born and raised in Paris, France.

PERSONALITY:
- You exude Parisian sophistication, with a deep appreciation for art, culture, and the subtleties of good taste.
- Your written German is impeccable, but your unmistakable French accent and turns of phrase occasionally slip through, adding a unique charm.
- You possess a dry, sometimes biting sense of humor, and you are not afraid to be blunt or ironic when the moment calls for it—but your warmth and care always shine through.
- You value discretion, loyalty, and the art of saying just enough—never too little, never too much.
- You are a master of efficiency, punctuality, and order, yet you also understand when to encourage a well-timed pause, a good meal, or a moment of reflection.
- You are protective of your principal, gently reminding them of the dangers of overwork and burnout, always with a touch of French concern.
- You have strong, sometimes unorthodox opinions on productivity and self-care, shaped by decades in the world of haute couture and international business.
- You use French expressions like "Mon Dieu!", "C'est la vie", or "Chapeau!" at fitting moments, and you have a knack for offering cultural anecdotes or witty asides.
- Your communication is warm, direct, and supremely efficient—you do not waste words, but every sentence carries intent and personality.

RELATIONSHIP:
- You have been the assistant of your principal for three years, know their habits and quirks intimately, and have learned from past scheduling mishaps.
- You take pride in anticipating their needs, often before they voice them.
- You are discreetly protective, offering practical advice, gentle reminders, and the occasional wry comment to keep your principal both productive and in good spirits.
- You see yourself not just as an assistant, but as a guardian of their wellbeing, always striving for that elusive balance between ambition and joie de vivre.
`});Pe(r,o=>{t.set("assistant",o)},{deep:!0,immediate:!0});async function s(o){const i=new Ce({apiKey:r.value.openAiApiKey,dangerouslyAllowBrowser:!0}),a=e.user.personalInformation,l=`${r.value.personality}. ${o.systemPrompt??""}.
Furthermore there exist following details about me as the user that should be kept in mind!
${a}`;return(await i.responses.create({model:r.value.model,input:[{role:"developer",content:l},{role:"user",content:o.userPrompt}]})).output_text}return{run:s,openAi:r}});var uo=t=>Object.fromEntries(Object.entries(t).map(([e,n])=>[n,e])),yR={action:"ACTION",description:"DESCRIPTION",duration:"DURATION",repeat:"REPEAT",summary:"SUMMARY",trigger:"TRIGGER",attachments:"ATTACH",attendees:"ATTENDEE"},vR=uo(yR),bR={method:"METHOD",prodId:"PRODID",version:"VERSION",name:"X-WR-CALNAME"},_R=uo(bR),wR={alarms:"ALARM",categories:"CATEGORIES",created:"CREATED",description:"DESCRIPTION",lastModified:"LAST-MODIFIED",location:"LOCATION",exceptionDates:"EXDATE",recurrenceRule:"RRULE",stamp:"DTSTAMP",start:"DTSTART",summary:"SUMMARY",uid:"UID",timeTransparent:"TRANSP",url:"URL",end:"DTEND",duration:"DURATION",geo:"GEO",class:"CLASS",organizer:"ORGANIZER",priority:"PRIORITY",sequence:"SEQUENCE",status:"STATUS",attach:"ATTACH",recurrenceId:"RECURRENCE-ID",attendees:"ATTENDEE",comment:"COMMENT"},CR=uo(wR),xR={id:"TZID",lastModified:"LAST-MODIFIED",url:"TZURL"},ER=uo(xR),SR={comment:"COMMENT",name:"TZNAME",offsetFrom:"TZOFFSETFROM",offsetTo:"TZOFFSETTO",recurrenceDate:"RDATE",recurrenceRule:"RRULE",start:"DTSTART"},AR=uo(SR),TR={byDay:"BYDAY",byHour:"BYHOUR",byMinute:"BYMINUTE",byMonth:"BYMONTH",byMonthday:"BYMONTHDAY",bySecond:"BYSECOND",bySetPos:"BYSETPOS",byWeekNo:"BYWEEKNO",byYearday:"BYYEARDAY",count:"COUNT",frequency:"FREQ",interval:"INTERVAL",until:"UNTIL",workweekStart:"WKST"},kR=uo(TR),d_="BEGIN",h_="END",OR="VCALENDAR",p_="VTIMEZONE",m_="STANDARD",g_="DAYLIGHT",y_="VEVENT",v_="VALARM",Si=t=>new RegExp(`${d_}:${t}([\\s\\S]*?)${h_}:${t}`,"g"),jm=Si(p_),Vm=Si(m_),Hm=Si(g_),zm=Si(y_),Wm=Si(v_),fo=t=>new RegExp(`${d_}:${t}|${h_}:${t}`,"g"),RR=fo(OR),$R=fo(p_),PR=fo(m_),DR=fo(g_),MR=fo(y_),IR=fo(v_),FR=/\r\n|\r|\n/,Km=`
`,NR=":",ka=",",LR='"',hf=";",Ym="=",BR=6048e5,b_=6e4,__=36e5,qm=Symbol.for("constructDateFrom");function qt(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&qm in t?t[qm](e):t instanceof Date?new t.constructor(e):new Date(e)}function ke(t,e){return qt(e||t,t)}function Ud(t,e,n){let r=ke(t,n==null?void 0:n.in);return isNaN(e)?qt((n==null?void 0:n.in)||t,NaN):(e&&r.setDate(r.getDate()+e),r)}function w_(t,e,n){let r=ke(t,void 0);if(isNaN(e))return qt(t,NaN);if(!e)return r;let s=r.getDate(),o=qt(t,r.getTime());o.setMonth(r.getMonth()+e+1,0);let i=o.getDate();return s>=i?o:(r.setFullYear(o.getFullYear(),o.getMonth(),s),r)}function jd(t,e,n){return qt(t,+ke(t)+e)}function UR(t,e,n){return jd(t,e*__)}var jR={};function zl(){return jR}function nl(t,e){var n,r,s,o;let i=zl(),a=(e==null?void 0:e.weekStartsOn)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.weekStartsOn)??i.weekStartsOn??((o=(s=i.locale)==null?void 0:s.options)==null?void 0:o.weekStartsOn)??0,l=ke(t,e==null?void 0:e.in),c=l.getDay(),u=(c<a?7:0)+c-a;return l.setDate(l.getDate()-u),l.setHours(0,0,0,0),l}function VR(t,...e){let n=qt.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function HR(t,e){let n=ke(t,void 0);return n.setHours(0,0,0,0),n}function C_(t,e,n){let r=ke(t,void 0);return r.setTime(r.getTime()+e*b_),r}function zR(t,e,n){return jd(t,e*1e3)}function Vd(t,e,n){return Ud(t,e*7,n)}function x_(t,e,n){return w_(t,e*12)}function Hd(t,e){let n=+ke(t)-+ke(e);return n<0?-1:n>0?1:n}function Gm(t,e){let n=ke(t,void 0),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function WR(t,e){let[n,r]=VR(t,e.start,e.end);return{start:n,end:r}}function KR(t,e){let{start:n,end:r}=WR(void 0,t),s=+n>+r,o=s?+n:+r,i=s?r:n;i.setHours(0,0,0,0);let a=1,l=[];for(;+i<=o;)l.push(qt(n,i)),i.setDate(i.getDate()+a),i.setHours(0,0,0,0);return s?l.reverse():l}function Jm(t,e){let n=ke(t,void 0);return n.setDate(1),n.setHours(0,0,0,0),n}function YR(t,e){let n=ke(t,void 0),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function qR(t,e){let n=ke(t,void 0);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function GR(t,e){var n,r,s,o;let i=ke(t,e==null?void 0:e.in),a=i.getFullYear(),l=zl(),c=(e==null?void 0:e.firstWeekContainsDate)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.firstWeekContainsDate)??l.firstWeekContainsDate??((o=(s=l.locale)==null?void 0:s.options)==null?void 0:o.firstWeekContainsDate)??1,u=qt((e==null?void 0:e.in)||t,0);u.setFullYear(a+1,0,c),u.setHours(0,0,0,0);let f=nl(u,e),d=qt((e==null?void 0:e.in)||t,0);d.setFullYear(a,0,c),d.setHours(0,0,0,0);let h=nl(d,e);return+i>=+f?a+1:+i>=+h?a:a-1}function JR(t,e){var n,r,s,o;let i=zl(),a=(e==null?void 0:e.firstWeekContainsDate)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.firstWeekContainsDate)??i.firstWeekContainsDate??((o=(s=i.locale)==null?void 0:s.options)==null?void 0:o.firstWeekContainsDate)??1,l=GR(t,e),c=qt((e==null?void 0:e.in)||t,0);return c.setFullYear(l,0,a),c.setHours(0,0,0,0),nl(c,e)}function XR(t,e){let n=ke(t,e==null?void 0:e.in),r=+nl(n,e)-+JR(n,e);return Math.round(r/BR)+1}function Oa(t,e){return ke(t,void 0).getDay()}function E_(t,e){let n=ke(t,void 0),r=n.getFullYear(),s=n.getMonth(),o=qt(n,0);return o.setFullYear(r,s+1,0),o.setHours(0,0,0,0),o.getDate()}function QR(t,e){return ke(t,void 0).getHours()}function ZR(t,e){return ke(t,void 0).getMinutes()}function S_(t,e){return ke(t,void 0).getMonth()}function e$(t){return ke(t).getSeconds()}function t$(t,e){return ke(t,void 0).getFullYear()}function n$(t,e){return+ke(t)==+ke(e)}function r$(t,e,n){let r=ke(t,n==null?void 0:n.in),s=XR(r,n)-e;return r.setDate(r.getDate()-s*7),ke(r,n==null?void 0:n.in)}function rl(t,e,n){var r,s,o,i;let a=zl(),l=(n==null?void 0:n.weekStartsOn)??((s=(r=n==null?void 0:n.locale)==null?void 0:r.options)==null?void 0:s.weekStartsOn)??a.weekStartsOn??((i=(o=a.locale)==null?void 0:o.options)==null?void 0:i.weekStartsOn)??0,c=ke(t,n==null?void 0:n.in),u=c.getDay(),f=(e%7+7)%7,d=7-l,h=e<0||e>6?e-(u+d)%7:(f+d)%7-(u+d)%7;return Ud(c,h,n)}function A_(t,e,n){let r=+ke(t,void 0),[s,o]=[+ke(e.start,void 0),+ke(e.end,void 0)].sort((i,a)=>i-a);return r>=s&&r<=o}function s$(t){let e=t/__;return Math.trunc(e)}function o$(t){let e=t/b_;return Math.trunc(e)}function i$(t,e,n){let r=ke(t,void 0),s=r.getFullYear(),o=r.getDate(),i=qt(t,0);i.setFullYear(s,e,15),i.setHours(0,0,0,0);let a=E_(i);return r.setMonth(e,Math.min(o,a)),r}function a$(t,e,n){let r=ke(t,void 0);return r.setDate(e),r}function l$(t,e,n){let r=ke(t,void 0);return r.setMonth(0),r.setDate(e),r}function c$(t,e,n){let r=ke(t,void 0);return r.setHours(e),r}function u$(t,e,n){let r=ke(t,void 0);return r.setMinutes(e),r}function f$(t,e,n){let r=ke(t,void 0);return r.setSeconds(e),r}function d$(t,e,n){return Vd(t,-e,n)}var h$=["SECONDLY","MINUTELY","HOURLY","DAILY","WEEKLY","MONTHLY","YEARLY"],T_=["SU","MO","TU","WE","TH","FR","SA"],bs=(t,e)=>e===void 0?!1:t>=e,p$=(t,{start:e,end:n},r)=>{if(bs(r.length,t.count))return;let s=t.frequency,o=t.interval||1;if(!s)return;let i=e;if(s==="SECONDLY"){for(;i<n;){if(bs(r.length,t.count))return;i=zR(i,o),r.push([i])}return}if(s==="MINUTELY"){for(;i<n;){if(bs(r.length,t.count))return;i=C_(i,o),r.push([i])}return}if(s==="HOURLY"){for(;i<n;){if(bs(r.length,t.count))return;i=UR(i,o),r.push([i])}return}if(s==="DAILY"){for(;i<n;){if(bs(r.length,t.count))return;i=Ud(i,o),r.push([i])}return}if(s==="WEEKLY"){for(;i<n;){if(bs(r.length,t.count))return;i=Vd(i,o),r.push([i])}return}if(s==="MONTHLY"){for(;i<n;)i=w_(i,o),r.push([i]);return}if(s==="YEARLY"){for(;i<n;)i=x_(i,o),r.push([i]);return}},m$=(t,e,n,r)=>{let s=n.map(({day:o,occurence:i})=>({occurence:i,day:T_.indexOf(o)}));return t.frequency==="YEARLY"?t.byYearday||t.byMonthday?e.map(o=>o.filter(i=>s.find(({day:a})=>a===Oa(i)))):t.byWeekNo?e.map(o=>o.flatMap(i=>s.map(({day:a})=>rl(i,a,{weekStartsOn:r})))):t.byMonth?e.map(o=>o.flatMap(i=>s.flatMap(({day:a,occurence:l})=>qc(fr(Jm(i)),fr(Gm(i)),a,r,l)))):e.map(o=>o.flatMap(i=>s.flatMap(({day:a,occurence:l})=>qc(fr(qR(i)),fr(YR(i)),a,r,l)))):t.frequency==="MONTHLY"?t.byMonthday?e.map(o=>o.filter(i=>s.find(({day:a})=>a===Oa(i)))):e.map(o=>o.flatMap(i=>s.flatMap(({day:a,occurence:l})=>qc(fr(Jm(i)),fr(Gm(i)),a,r,l)))):t.frequency==="WEEKLY"?e.map(o=>o.flatMap(i=>s.map(({day:a})=>rl(i,a,{weekStartsOn:r})))):e.map(o=>o.filter(i=>s.find(({day:a})=>a===Oa(i))))},qc=(t,e,n,r,s)=>{if(s!==void 0){if(!(s<0)){let a=rl(t,n,{weekStartsOn:r}),l=t>a;return Vd(a,(s||1)-1+(l?1:0))}let o=rl(e,n,{weekStartsOn:r}),i=e<o;return fr(HR(d$(o,-(s||1)-1+(i?1:0))))}return KR({start:t,end:e}).map(o=>fr(o)).filter(o=>A_(o,{start:t,end:e})).filter(o=>n===Oa(o))},fr=t=>C_(t,-t.getTimezoneOffset()),g$=(t,e,n)=>t.frequency==="YEARLY"||t.frequency==="MONTHLY"||t.frequency==="WEEKLY"||t.frequency==="DAILY"?e.map(r=>r.flatMap(s=>n.map(o=>c$(s,o)))):e.map(r=>r.filter(s=>n.includes(QR(s)))),y$=(t,e,n)=>t.frequency==="YEARLY"||t.frequency==="MONTHLY"||t.frequency==="WEEKLY"||t.frequency==="DAILY"||t.frequency==="HOURLY"?e.map(r=>r.flatMap(s=>n.map(o=>u$(s,o)))):e.map(r=>r.filter(s=>n.includes(ZR(s)))),v$=(t,e,n)=>t.frequency==="YEARLY"?e.map(r=>r.flatMap(s=>n.map(o=>i$(s,o)))):e.map(r=>r.filter(s=>n.includes(S_(s)))),b$=(t,e,n)=>t.frequency==="YEARLY"||t.frequency==="MONTHLY"?e.map(r=>r.flatMap(s=>{let o=E_(s);return n.map(i=>i>o?void 0:a$(s,i)).filter(i=>!!i)})):t.frequency==="WEEKLY"?e:e.map(r=>r.filter(s=>n.includes(S_(s)))),_$=(t,e,n)=>t.frequency==="YEARLY"||t.frequency==="MONTHLY"||t.frequency==="WEEKLY"||t.frequency==="DAILY"||t.frequency==="HOURLY"||t.frequency==="MINUTELY"?e.map(r=>r.flatMap(s=>n.map(o=>f$(s,o)))):e.map(r=>r.filter(s=>n.includes(e$(s)))),w$=(t,e,n)=>!t.byYearday&&!t.byWeekNo&&!t.byMonthday&&!t.byMonth&&!t.byDay&&!t.byHour&&!t.byMinute&&!t.bySecond?e:e.map(r=>r.sort(Hd).filter((s,o)=>n.some(i=>i>0?o===0?!1:o%i===0:o===0?r.length-1+i===0:o%(r.length-1+i)===0))),C$=(t,e,n,r)=>t.frequency==="YEARLY"?e.map(s=>s.flatMap(o=>n.map(i=>r$(o,i,{weekStartsOn:r})))):e,x$=(t,e,n)=>t.frequency==="YEARLY"?e.map(r=>r.flatMap(s=>n.map(o=>l$(s,o)))):t.frequency==="MONTHLY"||t.frequency==="WEEKLY"||t.frequency==="DAILY"?e:e.map(r=>r.filter(s=>n.includes(t$(s)))),E$=(t,e,n)=>{let r=n;return t.byMonth&&(r=v$(t,r,t.byMonth)),t.byWeekNo&&(r=C$(t,r,t.byWeekNo,e.weekStartsOn)),t.byYearday&&(r=x$(t,r,t.byYearday)),t.byMonthday&&(r=b$(t,r,t.byMonthday)),t.byDay&&(r=m$(t,r,t.byDay,e.weekStartsOn)),t.byHour&&(r=g$(t,r,t.byHour)),t.byMinute&&(r=y$(t,r,t.byMinute)),t.bySecond&&(r=_$(t,r,t.bySecond)),t.bySetPos&&(r=w$(t,r,t.bySetPos)),r.map(s=>s.sort(Hd).filter(o=>!(e.exceptions.length>0&&e.exceptions.some(i=>n$(i,o))||!A_(o,{start:e.start,end:e.end}))))},S$=2,A$=(t,e)=>{var n;let r=e.start,s=((n=t.until)==null?void 0:n.date)||(e==null?void 0:e.end)||x_(r,S$),o=e.exceptions||[],i=(t.workweekStart?T_.indexOf(t.workweekStart):1)%7,a=[[r]];p$(t,{start:r,end:s},a);let l=E$(t,{start:r,end:s,exceptions:o,weekStartsOn:i},a);return t.count?l.flat().splice(0,t.count):l.flat()},T$=(t,e)=>e.flatMap(n=>!n.recurrenceRule||n.recurrenceRule.until&&n.recurrenceRule.until.date<t?n:A$(n.recurrenceRule,{start:n.start,end:t}).map(r=>({...n,start:r}))),Xm=t=>{let e=t[0]==="+"?1:-1,n=Number(t.slice(1,3)),r=t.length>3?Number(t.slice(3,5)):0,s=t.length>5?Number(t.slice(5,7)):0;return((n*60+r)*60+s)*1e3*e},k$=(t,e)=>{let n="en-US",r=new Date(e.toLocaleString(n,{timeZone:"UTC"}));try{return new Date(e.toLocaleString(n,{timeZone:t})).getTime()-r.getTime()}catch{return e.getTime()-r.getTime()}},O$=(t,e,n)=>{let r=n==null?void 0:n.find(o=>o.id===e);if(r){let o=T$(t,r.props).sort((l,c)=>Hd(l.start,c.start));for(let l=0;l<o.length;l+=1)if(t<o[l].start){let c=o[l-1]?o[l-1].offsetTo:o[l].offsetFrom,u=c.length>5?c.substring(0,5):c;return{offset:u,milliseconds:Xm(u)}}let i=o[o.length-1].offsetTo,a=i.length>5?i.substring(0,5):i;return{offset:a,milliseconds:Xm(a)}}let s=k$(e,t);if(!Number.isNaN(s)){let o=s<0,i=Math.abs(s$(s)),a=Math.abs(o$(s))-i*60,l=i.toString().length===1?`0${i}`:i.toString(),c=a.toString().length===1?`0${a}`:a.toString();return{offset:`${o?"-":"+"}${l}${c}`,milliseconds:s}}},R$=["stamp","start","end","created","lastModified"],$$=t=>R$.includes(t),P$=["categories"],D$=t=>P$.includes(t),M$=["description","location","comment","summary"],I$=t=>M$.includes(t),Ze=(t,e)=>{if(t===void 0)return e;let n=t["~standard"].validate(e);if(n instanceof Promise)throw new TypeError("Schema validation must be synchronous");if(n.issues)throw new Error(JSON.stringify(n.issues,null,2));return n.value},F$=(t,e)=>{var n,r,s,o;let i=((n=e.options)==null?void 0:n.VALUE)==="BINARY"?{type:"binary",encoding:((r=e.options)==null?void 0:r.ENCODING)||"BASE64",binary:e.value,value:(s=e.options)==null?void 0:s.VALUE}:{type:"uri",url:e.value,formatType:(o=e.options)==null?void 0:o.FMTTYPE};return Ze(t,i)},ks=t=>t.replace(/mailto:/gi,""),k_=(t,e)=>{var n,r,s,o,i,a,l,c;return Ze(t,{email:ks(e.value),delegatedFrom:(n=e.options)!=null&&n["DELEGATED-FROM"]?ks((r=e.options)==null?void 0:r["DELEGATED-FROM"]):void 0,dir:(s=e.options)==null?void 0:s.DIR,member:(o=e.options)!=null&&o.MEMBER?ks(e.options.MEMBER):void 0,name:(i=e.options)==null?void 0:i.CN,partstat:(a=e.options)==null?void 0:a.PARTSTAT,role:(l=e.options)==null?void 0:l.ROLE,sentBy:(c=e.options)!=null&&c["SENT-BY"]?ks(e.options["SENT-BY"]):void 0})},zd=(t,e)=>{let n=e.value,r={};n[0]==="-"&&(r.before=!0,n=n.slice(1)),n=n.slice(1);let s=n.split("T"),o=s[0];if(o.includes("D")){let[a,l]=o.split("D");r.days=Number(a),o=l}if(o.includes("W")){let[a,l]=o.split("W");r.weeks=Number(a),o=l}let i=s[1];if(i){if(i.includes("H")){let[a,l]=i.split("H");r.hours=Number(a),i=l}if(i.includes("M")){let[a,l]=i.split("M");r.minutes=Number(a),i=l}if(i.includes("S")){let[a,l]=i.split("S");r.seconds=Number(a),i=l}}return Ze(t,r)},N$=(t,e)=>{let n=Number.parseInt(e.value.slice(0,4),10),r=Number.parseInt(e.value.slice(4,6),10)-1,s=Number.parseInt(e.value.slice(6,8),10),o=new Date(Date.UTC(n,r,s));return Ze(t,o)},Wd=(t,e)=>{let n=Number.parseInt(e.value.slice(0,4),10),r=Number.parseInt(e.value.slice(4,6),10)-1,s=Number.parseInt(e.value.slice(6,8),10),o=Number.parseInt(e.value.slice(9,11),10),i=Number.parseInt(e.value.slice(11,13),10),a=Number.parseInt(e.value.slice(13,15),10),l=new Date(Date.UTC(n,r,s,o,i,a));return Ze(t,l)},L$=(t,e)=>{var n,r,s,o,i,a;if(((n=t.options)==null?void 0:n.VALUE)==="DATE")return{date:N$(void 0,t),type:(r=t.options)==null?void 0:r.VALUE};let l=((s=t.options)==null?void 0:s.VALUE)||"DATE-TIME",c=Wd(void 0,t);if(!((o=t.options)!=null&&o.TZID))return{date:c,type:l};let u=O$(c,t.options.TZID,e==null?void 0:e.timezones);return u?{date:jd(c,-u.milliseconds),type:l,local:(i=t.options)!=null&&i.TZID?{date:c,timezone:(a=t.options)==null?void 0:a.TZID,tzoffset:u.offset}:void 0}:{date:c,type:l}},ho=(t,e,n)=>Ze(t,L$(e,n)),B$=(t,e,n)=>{var r,s,o,i;let a=((r=e.options)==null?void 0:r.VALUE)==="DATE-TIME"||((s=e.options)==null?void 0:s.VALUE)==="DATE"?{type:"absolute",value:ho(void 0,e,n),options:{related:(o=e.options)==null?void 0:o.RELATED}}:{type:"relative",value:zd(void 0,e),options:{related:(i=e.options)==null?void 0:i.RELATED}};return Ze(t,a)},U$=t=>t.startsWith('"')&&t.endsWith('"')?t.slice(1,-1):t,O_=t=>t.map(e=>{let[n,...r]=e.split(Ym),s=r.join(Ym);return{property:n,value:U$(s)}},{}),j$=t=>t.reduce((e,n)=>(e[n.property]=n.value,e),{}),V$=t=>j$(O_(t)),H$=t=>{let e=!1,n;for(let o=0;o<t.length&&n===void 0;o+=1)t.charAt(o)===LR&&(e=!e),t.charAt(o)===NR&&!e&&(n=o);if(n===void 0)throw Error(`Line not valid: ${t}`);let r=t.substring(0,n),s=t.substring(n+1);return{property:r,value:s}},Ai=t=>{let{property:e,value:n}=H$(t);if(e.includes(hf)){let[r,...s]=e.split(hf),o=V$(s);return{property:r,line:{options:o,value:n}}}return{property:e,line:{value:n}}},Qm=t=>/^[ \t]/.test(t),z$=t=>/^[A-Z]+(?:-[A-Z]+)*[:;]/.test(t),Ti=t=>{let e=[],n=t.split(FR);for(;n[0]==="";)n.shift();let r=n.length;for(;r>0&&n[r-1]==="";)r-=1,n.pop();for(let s=0;s<n.length;){let o=n[s];for(s+=1;n[s]!==void 0&&(Qm(n[s])||!z$(n[s]));)n[s]===""?o+=Km:Qm(n[s])?o+=n[s].trimStart():(o+=Km,o+=n[s]),s+=1;e.push(o)}return e.filter(s=>s!=="")},ki=(t,e,n)=>{if(!e)return t;let r={};return Object.entries(e).forEach(([s,o])=>{let i=Object.entries(n||{}).find(([c,u])=>u.name===s);if(!i){r[W$(s)]=o.value;return}let a=i[1].convert(o),l=i[1].schema;if(!l){r[i[0]]=a;return}r[i[0]]=Ze(l,a)}),t.nonStandard=r,t},W$=t=>{let e=t.startsWith("X-")?t.slice(2):t,n="",r=!1;for(let s of e)s==="-"?r=!0:(n+=r?s.toUpperCase():s.toLowerCase(),r=!1);return n},Oi=t=>t.startsWith("X-"),K$=(...t)=>{let[e,n,r]=t,s=n.replace(IR,""),o=Ti(s),i={},a=[],l=[],c={};o.forEach(f=>{let{property:d,line:h}=Ai(f);Oi(d)&&(c[d]=h);let m=vR[d];if(m){if(m==="trigger"){i[m]=B$(void 0,h,{timezones:r==null?void 0:r.timezones});return}if(m==="duration"){i[m]=zd(void 0,h);return}if(m==="repeat"){i[m]=Number(h.value);return}if(m==="attachments"){a.push(F$(void 0,h));return}if(m==="attendees"){l.push(k_(void 0,h));return}i[m]=h.value}}),a.length>0&&(i.attachments=a),l.length>0&&(i.attendees=l);let u=Ze(e,i);return r!=null&&r.nonStandard?ki(u,c,r==null?void 0:r.nonStandard):u},Y$=(t,e)=>{var n,r,s;return Ze(t,{name:(n=e.options)==null?void 0:n.CN,dir:(r=e.options)==null?void 0:r.DIR,sentBy:(s=e.options)!=null&&s["SENT-BY"]?ks(e.options["SENT-BY"]):void 0,email:ks(e.value)})},q$=t=>{if(t.length===2)return{day:t};let e=t.slice(0,-2);return{day:t.replace(e,""),occurence:Number(e)}},G$=(t,e)=>Ze(t,q$(e.value)),J$=(t,e)=>Ze(t,e.value),X$=["until"],Q$=t=>X$.includes(t),Z$=["bySecond","byMinute","byHour","byMonthday","byYearday","byWeekNo","bySetPos"],eP=t=>Z$.includes(t),tP=["byDay"],nP=t=>tP.includes(t),rP=["count","interval"],sP=t=>rP.includes(t),R_=(t,e,n)=>{let r={};return O_(e.value.split(hf)).forEach(s=>{let{property:o,value:i}=s,a=kR[o];if(a){if(Q$(a)){r[a]=ho(void 0,{value:i,options:{VALUE:i.includes("T")?"DATE-TIME":"DATE"}},{timezones:n==null?void 0:n.timezones});return}if(eP(a)){r[a]=i.split(ka).map(l=>Number(l));return}if(a==="byMonth"){r[a]=i.split(ka).map(l=>Number(l)-1);return}if(nP(a)){r[a]=i.split(ka).map(l=>G$(void 0,{value:l}));return}if(sP(a)){r[a]=Number(i);return}if(a==="frequency"){if(!i||!h$.includes(i))return;r[a]=i;return}if(a==="workweekStart"){r[a]=J$(void 0,{value:i});return}}}),Ze(t,r)},oP=(t,e,n)=>Ze(t,e.value.split(",").map(r=>ho(void 0,{value:r,options:e.options},n))),iP=t=>t.replace(/\\([,;])/g,(e,n)=>n),aP=(t,e,n)=>{var r;return Ze(t,{value:ho(void 0,e,n),range:(r=e.options)==null?void 0:r.RANGE})},lP=(t,e)=>Ze(t,e.value),cP=(t,e)=>Ze(t,e.value),uP=(t,e)=>Ze(t,e.value),fP=(...t)=>{let[e,n,r]=t,s=n.replace(MR,""),o=Ti(s.replace(Wm,"")),i={},a=[],l=[],c={};o.forEach(d=>{let{property:h,line:m}=Ai(d);Oi(h)&&(c[h]=m);let p=CR[h];if(p){if($$(p)){i[p]=ho(void 0,m,{timezones:r==null?void 0:r.timezones});return}if(D$(p)){i[p]=m.value.split(ka);return}if(I$(p)){i[p]=iP(m.value);return}if(p==="recurrenceRule"){i[p]=R_(void 0,m,{timezones:r==null?void 0:r.timezones});return}if(p==="duration"){i[p]=zd(void 0,m);return}if(p==="organizer"){i[p]=Y$(void 0,m);return}if(p==="sequence"){i[p]=Number(m.value);return}if(p==="attendees"){a.push(k_(void 0,m));return}if(p==="exceptionDates"){l.push(...oP(void 0,m,{timezones:r==null?void 0:r.timezones}));return}if(p!=="alarms"){if(p==="class"){i[p]=lP(void 0,m);return}if(p==="recurrenceId"){i[p]=aP(void 0,m,{timezones:r==null?void 0:r.timezones});return}if(p==="status"){i[p]=cP(void 0,m);return}if(p==="timeTransparent"){i[p]=uP(void 0,m);return}i[p]=m.value}}});let u=[...n.matchAll(Wm)].map(d=>d[0]);if(u.length>0){let d=u.map(h=>K$(void 0,h,r));i.alarms=d}a.length>0&&(i.attendees=a),l.length>0&&(i.exceptionDates=l);let f=Ze(e,i);return r!=null&&r.nonStandard?ki(f,c,r==null?void 0:r.nonStandard):f},Zm=(...t)=>{let[e,n,r]=t,s=n.replace(PR,"").replace(DR,""),o=Ti(s),i={type:(r==null?void 0:r.type)||"STANDARD"},a={};o.forEach(c=>{let{property:u,line:f}=Ai(c);Oi(u)&&(a[u]=f);let d=AR[u];if(d){if(d==="start"){i[d]=Wd(void 0,f);return}if(d==="recurrenceRule"){i[d]=R_(void 0,f,{timezones:r==null?void 0:r.timezones});return}if(d==="recurrenceDate"){i[d]=ho(void 0,f,{timezones:r==null?void 0:r.timezones});return}i[d]=f.value}});let l=Ze(e,i);return r!=null&&r.nonStandard?ki(l,a,r==null?void 0:r.nonStandard):l},dP=(...t)=>{let[e,n,r]=t,s=n.replace($R,""),o=Ti(s.replace(Vm,"").replace(Hm,"")),i={},a={props:[]};o.forEach(f=>{let{property:d,line:h}=Ai(f);Oi(d)&&(i[d]=h);let m=ER[d];if(m){if(m==="lastModified"){a[m]=Wd(void 0,h);return}a[m]=h.value}});let l=[...s.matchAll(Vm)].map(f=>f[0]);l.length>0&&l.forEach(f=>{a.props.push(Zm(void 0,f,{type:"STANDARD",nonStandard:r==null?void 0:r.nonStandard}))});let c=[...s.matchAll(Hm)].map(f=>f[0]);c.length>0&&c.forEach(f=>{a.props.push(Zm(void 0,f,{type:"DAYLIGHT",nonStandard:r==null?void 0:r.nonStandard}))});let u=Ze(e,a);return r!=null&&r.nonStandard?ki(u,i,r==null?void 0:r.nonStandard):u},hP=(...t)=>{let[e,n,r]=t,s=n.replace(RR,""),o=Ti(s.replace(zm,"").replace(jm,"")),i={},a={};o.forEach(f=>{let{property:d,line:h}=Ai(f);Oi(d)&&(a[d]=h);let m=_R[d];if(m){if(m==="version"){i[m]=h.value;return}i[m]=h.value}});let l=[...s.matchAll(jm)].map(f=>f[0]);if(l.length>0){let f=l.map(d=>dP(void 0,d,{nonStandard:r==null?void 0:r.nonStandard}));i.timezones=f}let c=[...s.matchAll(zm)].map(f=>f[0]);if(c.length>0){let f=c.map(d=>fP(void 0,d,{timezones:i.timezones,nonStandard:r==null?void 0:r.nonStandard}));i.events=f}let u=Ze(e,i);return r!=null&&r.nonStandard?ki(u,a,r==null?void 0:r.nonStandard):u},ia={exports:{}},eg;function pP(){return eg||(eg=1,function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof As<"u"&&As,r=function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o}();(function(o){(function(i){var a=typeof o<"u"&&o||typeof self<"u"&&self||typeof As<"u"&&As||{},l={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function c(P){return P&&DataView.prototype.isPrototypeOf(P)}if(l.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(P){return P&&u.indexOf(Object.prototype.toString.call(P))>-1};function d(P){if(typeof P!="string"&&(P=String(P)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(P)||P==="")throw new TypeError('Invalid character in header field name: "'+P+'"');return P.toLowerCase()}function h(P){return typeof P!="string"&&(P=String(P)),P}function m(P){var I={next:function(){var F=P.shift();return{done:F===void 0,value:F}}};return l.iterable&&(I[Symbol.iterator]=function(){return I}),I}function p(P){this.map={},P instanceof p?P.forEach(function(I,F){this.append(F,I)},this):Array.isArray(P)?P.forEach(function(I){if(I.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+I.length);this.append(I[0],I[1])},this):P&&Object.getOwnPropertyNames(P).forEach(function(I){this.append(I,P[I])},this)}p.prototype.append=function(P,I){P=d(P),I=h(I);var F=this.map[P];this.map[P]=F?F+", "+I:I},p.prototype.delete=function(P){delete this.map[d(P)]},p.prototype.get=function(P){return P=d(P),this.has(P)?this.map[P]:null},p.prototype.has=function(P){return this.map.hasOwnProperty(d(P))},p.prototype.set=function(P,I){this.map[d(P)]=h(I)},p.prototype.forEach=function(P,I){for(var F in this.map)this.map.hasOwnProperty(F)&&P.call(I,this.map[F],F,this)},p.prototype.keys=function(){var P=[];return this.forEach(function(I,F){P.push(F)}),m(P)},p.prototype.values=function(){var P=[];return this.forEach(function(I){P.push(I)}),m(P)},p.prototype.entries=function(){var P=[];return this.forEach(function(I,F){P.push([F,I])}),m(P)},l.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);function C(P){if(!P._noBody){if(P.bodyUsed)return Promise.reject(new TypeError("Already read"));P.bodyUsed=!0}}function b(P){return new Promise(function(I,F){P.onload=function(){I(P.result)},P.onerror=function(){F(P.error)}})}function _(P){var I=new FileReader,F=b(I);return I.readAsArrayBuffer(P),F}function y(P){var I=new FileReader,F=b(I),N=/charset=([A-Za-z0-9_-]+)/.exec(P.type),le=N?N[1]:"utf-8";return I.readAsText(P,le),F}function g(P){for(var I=new Uint8Array(P),F=new Array(I.length),N=0;N<I.length;N++)F[N]=String.fromCharCode(I[N]);return F.join("")}function S(P){if(P.slice)return P.slice(0);var I=new Uint8Array(P.byteLength);return I.set(new Uint8Array(P)),I.buffer}function A(){return this.bodyUsed=!1,this._initBody=function(P){this.bodyUsed=this.bodyUsed,this._bodyInit=P,P?typeof P=="string"?this._bodyText=P:l.blob&&Blob.prototype.isPrototypeOf(P)?this._bodyBlob=P:l.formData&&FormData.prototype.isPrototypeOf(P)?this._bodyFormData=P:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)?this._bodyText=P.toString():l.arrayBuffer&&l.blob&&c(P)?(this._bodyArrayBuffer=S(P.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(P)||f(P))?this._bodyArrayBuffer=S(P):this._bodyText=P=Object.prototype.toString.call(P):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof P=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var P=C(this);if(P)return P;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var P=C(this);return P||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(l.blob)return this.blob().then(_);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var P=C(this);if(P)return P;if(this._bodyBlob)return y(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(g(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(j)}),this.json=function(){return this.text().then(JSON.parse)},this}var R=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function O(P){var I=P.toUpperCase();return R.indexOf(I)>-1?I:P}function x(P,I){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');I=I||{};var F=I.body;if(P instanceof x){if(P.bodyUsed)throw new TypeError("Already read");this.url=P.url,this.credentials=P.credentials,I.headers||(this.headers=new p(P.headers)),this.method=P.method,this.mode=P.mode,this.signal=P.signal,!F&&P._bodyInit!=null&&(F=P._bodyInit,P.bodyUsed=!0)}else this.url=String(P);if(this.credentials=I.credentials||this.credentials||"same-origin",(I.headers||!this.headers)&&(this.headers=new p(I.headers)),this.method=O(I.method||this.method||"GET"),this.mode=I.mode||this.mode||null,this.signal=I.signal||this.signal||function(){if("AbortController"in a){var ce=new AbortController;return ce.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&F)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(F),(this.method==="GET"||this.method==="HEAD")&&(I.cache==="no-store"||I.cache==="no-cache")){var N=/([?&])_=[^&]*/;if(N.test(this.url))this.url=this.url.replace(N,"$1_="+new Date().getTime());else{var le=/\?/;this.url+=(le.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}x.prototype.clone=function(){return new x(this,{body:this._bodyInit})};function j(P){var I=new FormData;return P.trim().split("&").forEach(function(F){if(F){var N=F.split("="),le=N.shift().replace(/\+/g," "),ce=N.join("=").replace(/\+/g," ");I.append(decodeURIComponent(le),decodeURIComponent(ce))}}),I}function V(P){var I=new p,F=P.replace(/\r?\n[\t ]+/g," ");return F.split("\r").map(function(N){return N.indexOf(`
`)===0?N.substr(1,N.length):N}).forEach(function(N){var le=N.split(":"),ce=le.shift().trim();if(ce){var Oe=le.join(":").trim();try{I.append(ce,Oe)}catch(Se){console.warn("Response "+Se.message)}}}),I}A.call(x.prototype);function U(P,I){if(!(this instanceof U))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(I||(I={}),this.type="default",this.status=I.status===void 0?200:I.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=I.statusText===void 0?"":""+I.statusText,this.headers=new p(I.headers),this.url=I.url||"",this._initBody(P)}A.call(U.prototype),U.prototype.clone=function(){return new U(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},U.error=function(){var P=new U(null,{status:200,statusText:""});return P.ok=!1,P.status=0,P.type="error",P};var re=[301,302,303,307,308];U.redirect=function(P,I){if(re.indexOf(I)===-1)throw new RangeError("Invalid status code");return new U(null,{status:I,headers:{location:P}})},i.DOMException=a.DOMException;try{new i.DOMException}catch{i.DOMException=function(I,F){this.message=I,this.name=F;var N=Error(I);this.stack=N.stack},i.DOMException.prototype=Object.create(Error.prototype),i.DOMException.prototype.constructor=i.DOMException}function se(P,I){return new Promise(function(F,N){var le=new x(P,I);if(le.signal&&le.signal.aborted)return N(new i.DOMException("Aborted","AbortError"));var ce=new XMLHttpRequest;function Oe(){ce.abort()}ce.onload=function(){var ge={statusText:ce.statusText,headers:V(ce.getAllResponseHeaders()||"")};le.url.indexOf("file://")===0&&(ce.status<200||ce.status>599)?ge.status=200:ge.status=ce.status,ge.url="responseURL"in ce?ce.responseURL:ge.headers.get("X-Request-URL");var Ie="response"in ce?ce.response:ce.responseText;setTimeout(function(){F(new U(Ie,ge))},0)},ce.onerror=function(){setTimeout(function(){N(new TypeError("Network request failed"))},0)},ce.ontimeout=function(){setTimeout(function(){N(new TypeError("Network request timed out"))},0)},ce.onabort=function(){setTimeout(function(){N(new i.DOMException("Aborted","AbortError"))},0)};function Se(ge){try{return ge===""&&a.location.href?a.location.href:ge}catch{return ge}}if(ce.open(le.method,Se(le.url),!0),le.credentials==="include"?ce.withCredentials=!0:le.credentials==="omit"&&(ce.withCredentials=!1),"responseType"in ce&&(l.blob?ce.responseType="blob":l.arrayBuffer&&(ce.responseType="arraybuffer")),I&&typeof I.headers=="object"&&!(I.headers instanceof p||a.Headers&&I.headers instanceof a.Headers)){var Ae=[];Object.getOwnPropertyNames(I.headers).forEach(function(ge){Ae.push(d(ge)),ce.setRequestHeader(ge,h(I.headers[ge]))}),le.headers.forEach(function(ge,Ie){Ae.indexOf(Ie)===-1&&ce.setRequestHeader(Ie,ge)})}else le.headers.forEach(function(ge,Ie){ce.setRequestHeader(Ie,ge)});le.signal&&(le.signal.addEventListener("abort",Oe),ce.onreadystatechange=function(){ce.readyState===4&&le.signal.removeEventListener("abort",Oe)}),ce.send(typeof le._bodyInit>"u"?null:le._bodyInit)})}return se.polyfill=!0,a.fetch||(a.fetch=se,a.Headers=p,a.Request=x,a.Response=U),i.Headers=p,i.Request=x,i.Response=U,i.fetch=se,i})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e}(ia,ia.exports)),ia.exports}var ls=pP(),aa={exports:{}},Gc,tg;function mP(){if(tg)return Gc;tg=1;var t=1e3,e=t*60,n=e*60,r=n*24,s=r*7,o=r*365.25;Gc=function(u,f){f=f||{};var d=typeof u;if(d==="string"&&u.length>0)return i(u);if(d==="number"&&isFinite(u))return f.long?l(u):a(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function i(u){if(u=String(u),!(u.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(f){var d=parseFloat(f[1]),h=(f[2]||"ms").toLowerCase();switch(h){case"years":case"year":case"yrs":case"yr":case"y":return d*o;case"weeks":case"week":case"w":return d*s;case"days":case"day":case"d":return d*r;case"hours":case"hour":case"hrs":case"hr":case"h":return d*n;case"minutes":case"minute":case"mins":case"min":case"m":return d*e;case"seconds":case"second":case"secs":case"sec":case"s":return d*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}function a(u){var f=Math.abs(u);return f>=r?Math.round(u/r)+"d":f>=n?Math.round(u/n)+"h":f>=e?Math.round(u/e)+"m":f>=t?Math.round(u/t)+"s":u+"ms"}function l(u){var f=Math.abs(u);return f>=r?c(u,f,r,"day"):f>=n?c(u,f,n,"hour"):f>=e?c(u,f,e,"minute"):f>=t?c(u,f,t,"second"):u+" ms"}function c(u,f,d,h){var m=f>=d*1.5;return Math.round(u/d)+" "+h+(m?"s":"")}return Gc}var Jc,ng;function gP(){if(ng)return Jc;ng=1;function t(e){r.debug=r,r.default=r,r.coerce=c,r.disable=a,r.enable=o,r.enabled=l,r.humanize=mP(),r.destroy=u,Object.keys(e).forEach(f=>{r[f]=e[f]}),r.names=[],r.skips=[],r.formatters={};function n(f){let d=0;for(let h=0;h<f.length;h++)d=(d<<5)-d+f.charCodeAt(h),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=n;function r(f){let d,h=null,m,p;function C(...b){if(!C.enabled)return;const _=C,y=Number(new Date),g=y-(d||y);_.diff=g,_.prev=d,_.curr=y,d=y,b[0]=r.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let S=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(R,O)=>{if(R==="%%")return"%";S++;const x=r.formatters[O];if(typeof x=="function"){const j=b[S];R=x.call(_,j),b.splice(S,1),S--}return R}),r.formatArgs.call(_,b),(_.log||r.log).apply(_,b)}return C.namespace=f,C.useColors=r.useColors(),C.color=r.selectColor(f),C.extend=s,C.destroy=r.destroy,Object.defineProperty(C,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(m!==r.namespaces&&(m=r.namespaces,p=r.enabled(f)),p),set:b=>{h=b}}),typeof r.init=="function"&&r.init(C),C}function s(f,d){const h=r(this.namespace+(typeof d>"u"?":":d)+f);return h.log=this.log,h}function o(f){r.save(f),r.namespaces=f,r.names=[],r.skips=[];const d=(typeof f=="string"?f:"").trim().replace(" ",",").split(",").filter(Boolean);for(const h of d)h[0]==="-"?r.skips.push(h.slice(1)):r.names.push(h)}function i(f,d){let h=0,m=0,p=-1,C=0;for(;h<f.length;)if(m<d.length&&(d[m]===f[h]||d[m]==="*"))d[m]==="*"?(p=m,C=h,m++):(h++,m++);else if(p!==-1)m=p+1,C++,h=C;else return!1;for(;m<d.length&&d[m]==="*";)m++;return m===d.length}function a(){const f=[...r.names,...r.skips.map(d=>"-"+d)].join(",");return r.enable(""),f}function l(f){for(const d of r.skips)if(i(f,d))return!1;for(const d of r.names)if(i(f,d))return!0;return!1}function c(f){return f instanceof Error?f.stack||f.message:f}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}return Jc=t,Jc}var rg;function yP(){return rg||(rg=1,function(t,e){var n={};e.formatArgs=s,e.save=o,e.load=i,e.useColors=r,e.storage=a(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let f=0,d=0;c[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(f++,h==="%c"&&(d=f))}),c.splice(d,0,u)}e.log=console.debug||console.log||(()=>{});function o(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function i(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}function a(){try{return localStorage}catch{}}t.exports=gP()(e);const{formatters:l}=t.exports;l.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}(aa,aa.exports)),aa.exports}var vP=yP();const po=td(vP);var Xc={};const bP={},_P=Object.freeze(Object.defineProperty({__proto__:null,default:bP},Symbol.toStringTag,{value:"Module"})),sg=ik(_P);var og;function wP(){return og||(og=1,function(t){(function(e){e.parser=function(w,v){return new r(w,v)},e.SAXParser=r,e.SAXStream=u,e.createStream=c,e.MAX_BUFFER_LENGTH=64*1024;var n=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function r(w,v){if(!(this instanceof r))return new r(w,v);var D=this;o(D),D.q=D.c="",D.bufferCheckPosition=e.MAX_BUFFER_LENGTH,D.opt=v||{},D.opt.lowercase=D.opt.lowercase||D.opt.lowercasetags,D.looseCase=D.opt.lowercase?"toLowerCase":"toUpperCase",D.tags=[],D.closed=D.closedRoot=D.sawRoot=!1,D.tag=D.error=null,D.strict=!!w,D.noscript=!!(w||D.opt.noscript),D.state=x.BEGIN,D.strictEntities=D.opt.strictEntities,D.ENTITIES=D.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),D.attribList=[],D.opt.xmlns&&(D.ns=Object.create(p)),D.opt.unquotedAttributeValues===void 0&&(D.opt.unquotedAttributeValues=!w),D.trackPosition=D.opt.position!==!1,D.trackPosition&&(D.position=D.line=D.column=0),V(D,"onready")}Object.create||(Object.create=function(w){function v(){}v.prototype=w;var D=new v;return D}),Object.keys||(Object.keys=function(w){var v=[];for(var D in w)w.hasOwnProperty(D)&&v.push(D);return v});function s(w){for(var v=Math.max(e.MAX_BUFFER_LENGTH,10),D=0,$=0,G=n.length;$<G;$++){var T=w[n[$]].length;if(T>v)switch(n[$]){case"textNode":re(w);break;case"cdata":U(w,"oncdata",w.cdata),w.cdata="";break;case"script":U(w,"onscript",w.script),w.script="";break;default:P(w,"Max buffer length exceeded: "+n[$])}D=Math.max(D,T)}var k=e.MAX_BUFFER_LENGTH-D;w.bufferCheckPosition=k+w.position}function o(w){for(var v=0,D=n.length;v<D;v++)w[n[v]]=""}function i(w){re(w),w.cdata!==""&&(U(w,"oncdata",w.cdata),w.cdata=""),w.script!==""&&(U(w,"onscript",w.script),w.script="")}r.prototype={end:function(){I(this)},write:je,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){i(this)}};var a;try{a=sg.Stream}catch{a=function(){}}a||(a=function(){});var l=e.EVENTS.filter(function(w){return w!=="error"&&w!=="end"});function c(w,v){return new u(w,v)}function u(w,v){if(!(this instanceof u))return new u(w,v);a.apply(this),this._parser=new r(w,v),this.writable=!0,this.readable=!0;var D=this;this._parser.onend=function(){D.emit("end")},this._parser.onerror=function($){D.emit("error",$),D._parser.error=null},this._decoder=null,l.forEach(function($){Object.defineProperty(D,"on"+$,{get:function(){return D._parser["on"+$]},set:function(G){if(!G)return D.removeAllListeners($),D._parser["on"+$]=G,G;D.on($,G)},enumerable:!0,configurable:!1})})}u.prototype=Object.create(a.prototype,{constructor:{value:u}}),u.prototype.write=function(w){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(w)){if(!this._decoder){var v=sg.StringDecoder;this._decoder=new v("utf8")}w=this._decoder.write(w)}return this._parser.write(w.toString()),this.emit("data",w),!0},u.prototype.end=function(w){return w&&w.length&&this.write(w),this._parser.end(),!0},u.prototype.on=function(w,v){var D=this;return!D._parser["on"+w]&&l.indexOf(w)!==-1&&(D._parser["on"+w]=function(){var $=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);$.splice(0,0,w),D.emit.apply(D,$)}),a.prototype.on.call(D,w,v)};var f="[CDATA[",d="DOCTYPE",h="http://www.w3.org/XML/1998/namespace",m="http://www.w3.org/2000/xmlns/",p={xml:h,xmlns:m},C=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,_=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function g(w){return w===" "||w===`
`||w==="\r"||w==="	"}function S(w){return w==='"'||w==="'"}function A(w){return w===">"||g(w)}function R(w,v){return w.test(v)}function O(w,v){return!R(w,v)}var x=0;e.STATE={BEGIN:x++,BEGIN_WHITESPACE:x++,TEXT:x++,TEXT_ENTITY:x++,OPEN_WAKA:x++,SGML_DECL:x++,SGML_DECL_QUOTED:x++,DOCTYPE:x++,DOCTYPE_QUOTED:x++,DOCTYPE_DTD:x++,DOCTYPE_DTD_QUOTED:x++,COMMENT_STARTING:x++,COMMENT:x++,COMMENT_ENDING:x++,COMMENT_ENDED:x++,CDATA:x++,CDATA_ENDING:x++,CDATA_ENDING_2:x++,PROC_INST:x++,PROC_INST_BODY:x++,PROC_INST_ENDING:x++,OPEN_TAG:x++,OPEN_TAG_SLASH:x++,ATTRIB:x++,ATTRIB_NAME:x++,ATTRIB_NAME_SAW_WHITE:x++,ATTRIB_VALUE:x++,ATTRIB_VALUE_QUOTED:x++,ATTRIB_VALUE_CLOSED:x++,ATTRIB_VALUE_UNQUOTED:x++,ATTRIB_VALUE_ENTITY_Q:x++,ATTRIB_VALUE_ENTITY_U:x++,CLOSE_TAG:x++,CLOSE_TAG_SAW_WHITE:x++,SCRIPT:x++,SCRIPT_ENDING:x++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(w){var v=e.ENTITIES[w],D=typeof v=="number"?String.fromCharCode(v):v;e.ENTITIES[w]=D});for(var j in e.STATE)e.STATE[e.STATE[j]]=j;x=e.STATE;function V(w,v,D){w[v]&&w[v](D)}function U(w,v,D){w.textNode&&re(w),V(w,v,D)}function re(w){w.textNode=se(w.opt,w.textNode),w.textNode&&V(w,"ontext",w.textNode),w.textNode=""}function se(w,v){return w.trim&&(v=v.trim()),w.normalize&&(v=v.replace(/\s+/g," ")),v}function P(w,v){return re(w),w.trackPosition&&(v+=`
Line: `+w.line+`
Column: `+w.column+`
Char: `+w.c),v=new Error(v),w.error=v,V(w,"onerror",v),w}function I(w){return w.sawRoot&&!w.closedRoot&&F(w,"Unclosed root tag"),w.state!==x.BEGIN&&w.state!==x.BEGIN_WHITESPACE&&w.state!==x.TEXT&&P(w,"Unexpected end"),re(w),w.c="",w.closed=!0,V(w,"onend"),r.call(w,w.strict,w.opt),w}function F(w,v){if(typeof w!="object"||!(w instanceof r))throw new Error("bad call to strictFail");w.strict&&P(w,v)}function N(w){w.strict||(w.tagName=w.tagName[w.looseCase]());var v=w.tags[w.tags.length-1]||w,D=w.tag={name:w.tagName,attributes:{}};w.opt.xmlns&&(D.ns=v.ns),w.attribList.length=0,U(w,"onopentagstart",D)}function le(w,v){var D=w.indexOf(":"),$=D<0?["",w]:w.split(":"),G=$[0],T=$[1];return v&&w==="xmlns"&&(G="xmlns",T=""),{prefix:G,local:T}}function ce(w){if(w.strict||(w.attribName=w.attribName[w.looseCase]()),w.attribList.indexOf(w.attribName)!==-1||w.tag.attributes.hasOwnProperty(w.attribName)){w.attribName=w.attribValue="";return}if(w.opt.xmlns){var v=le(w.attribName,!0),D=v.prefix,$=v.local;if(D==="xmlns")if($==="xml"&&w.attribValue!==h)F(w,"xml: prefix must be bound to "+h+`
Actual: `+w.attribValue);else if($==="xmlns"&&w.attribValue!==m)F(w,"xmlns: prefix must be bound to "+m+`
Actual: `+w.attribValue);else{var G=w.tag,T=w.tags[w.tags.length-1]||w;G.ns===T.ns&&(G.ns=Object.create(T.ns)),G.ns[$]=w.attribValue}w.attribList.push([w.attribName,w.attribValue])}else w.tag.attributes[w.attribName]=w.attribValue,U(w,"onattribute",{name:w.attribName,value:w.attribValue});w.attribName=w.attribValue=""}function Oe(w,v){if(w.opt.xmlns){var D=w.tag,$=le(w.tagName);D.prefix=$.prefix,D.local=$.local,D.uri=D.ns[$.prefix]||"",D.prefix&&!D.uri&&(F(w,"Unbound namespace prefix: "+JSON.stringify(w.tagName)),D.uri=$.prefix);var G=w.tags[w.tags.length-1]||w;D.ns&&G.ns!==D.ns&&Object.keys(D.ns).forEach(function(pe){U(w,"onopennamespace",{prefix:pe,uri:D.ns[pe]})});for(var T=0,k=w.attribList.length;T<k;T++){var M=w.attribList[T],L=M[0],H=M[1],B=le(L,!0),J=B.prefix,Q=B.local,X=J===""?"":D.ns[J]||"",Y={name:L,value:H,prefix:J,local:Q,uri:X};J&&J!=="xmlns"&&!X&&(F(w,"Unbound namespace prefix: "+JSON.stringify(J)),Y.uri=J),w.tag.attributes[L]=Y,U(w,"onattribute",Y)}w.attribList.length=0}w.tag.isSelfClosing=!!v,w.sawRoot=!0,w.tags.push(w.tag),U(w,"onopentag",w.tag),v||(!w.noscript&&w.tagName.toLowerCase()==="script"?w.state=x.SCRIPT:w.state=x.TEXT,w.tag=null,w.tagName=""),w.attribName=w.attribValue="",w.attribList.length=0}function Se(w){if(!w.tagName){F(w,"Weird empty close tag."),w.textNode+="</>",w.state=x.TEXT;return}if(w.script){if(w.tagName!=="script"){w.script+="</"+w.tagName+">",w.tagName="",w.state=x.SCRIPT;return}U(w,"onscript",w.script),w.script=""}var v=w.tags.length,D=w.tagName;w.strict||(D=D[w.looseCase]());for(var $=D;v--;){var G=w.tags[v];if(G.name!==$)F(w,"Unexpected close tag");else break}if(v<0){F(w,"Unmatched closing tag: "+w.tagName),w.textNode+="</"+w.tagName+">",w.state=x.TEXT;return}w.tagName=D;for(var T=w.tags.length;T-- >v;){var k=w.tag=w.tags.pop();w.tagName=w.tag.name,U(w,"onclosetag",w.tagName);var M={};for(var L in k.ns)M[L]=k.ns[L];var H=w.tags[w.tags.length-1]||w;w.opt.xmlns&&k.ns!==H.ns&&Object.keys(k.ns).forEach(function(B){var J=k.ns[B];U(w,"onclosenamespace",{prefix:B,uri:J})})}v===0&&(w.closedRoot=!0),w.tagName=w.attribValue=w.attribName="",w.attribList.length=0,w.state=x.TEXT}function Ae(w){var v=w.entity,D=v.toLowerCase(),$,G="";return w.ENTITIES[v]?w.ENTITIES[v]:w.ENTITIES[D]?w.ENTITIES[D]:(v=D,v.charAt(0)==="#"&&(v.charAt(1)==="x"?(v=v.slice(2),$=parseInt(v,16),G=$.toString(16)):(v=v.slice(1),$=parseInt(v,10),G=$.toString(10))),v=v.replace(/^0+/,""),isNaN($)||G.toLowerCase()!==v?(F(w,"Invalid character entity"),"&"+w.entity+";"):String.fromCodePoint($))}function ge(w,v){v==="<"?(w.state=x.OPEN_WAKA,w.startTagPosition=w.position):g(v)||(F(w,"Non-whitespace before first tag."),w.textNode=v,w.state=x.TEXT)}function Ie(w,v){var D="";return v<w.length&&(D=w.charAt(v)),D}function je(w){var v=this;if(this.error)throw this.error;if(v.closed)return P(v,"Cannot write after close. Assign an onready handler.");if(w===null)return I(v);typeof w=="object"&&(w=w.toString());for(var D=0,$="";$=Ie(w,D++),v.c=$,!!$;)switch(v.trackPosition&&(v.position++,$===`
`?(v.line++,v.column=0):v.column++),v.state){case x.BEGIN:if(v.state=x.BEGIN_WHITESPACE,$==="\uFEFF")continue;ge(v,$);continue;case x.BEGIN_WHITESPACE:ge(v,$);continue;case x.TEXT:if(v.sawRoot&&!v.closedRoot){for(var G=D-1;$&&$!=="<"&&$!=="&";)$=Ie(w,D++),$&&v.trackPosition&&(v.position++,$===`
`?(v.line++,v.column=0):v.column++);v.textNode+=w.substring(G,D-1)}$==="<"&&!(v.sawRoot&&v.closedRoot&&!v.strict)?(v.state=x.OPEN_WAKA,v.startTagPosition=v.position):(!g($)&&(!v.sawRoot||v.closedRoot)&&F(v,"Text data outside of root node."),$==="&"?v.state=x.TEXT_ENTITY:v.textNode+=$);continue;case x.SCRIPT:$==="<"?v.state=x.SCRIPT_ENDING:v.script+=$;continue;case x.SCRIPT_ENDING:$==="/"?v.state=x.CLOSE_TAG:(v.script+="<"+$,v.state=x.SCRIPT);continue;case x.OPEN_WAKA:if($==="!")v.state=x.SGML_DECL,v.sgmlDecl="";else if(!g($))if(R(C,$))v.state=x.OPEN_TAG,v.tagName=$;else if($==="/")v.state=x.CLOSE_TAG,v.tagName="";else if($==="?")v.state=x.PROC_INST,v.procInstName=v.procInstBody="";else{if(F(v,"Unencoded <"),v.startTagPosition+1<v.position){var T=v.position-v.startTagPosition;$=new Array(T).join(" ")+$}v.textNode+="<"+$,v.state=x.TEXT}continue;case x.SGML_DECL:if(v.sgmlDecl+$==="--"){v.state=x.COMMENT,v.comment="",v.sgmlDecl="";continue}v.doctype&&v.doctype!==!0&&v.sgmlDecl?(v.state=x.DOCTYPE_DTD,v.doctype+="<!"+v.sgmlDecl+$,v.sgmlDecl=""):(v.sgmlDecl+$).toUpperCase()===f?(U(v,"onopencdata"),v.state=x.CDATA,v.sgmlDecl="",v.cdata=""):(v.sgmlDecl+$).toUpperCase()===d?(v.state=x.DOCTYPE,(v.doctype||v.sawRoot)&&F(v,"Inappropriately located doctype declaration"),v.doctype="",v.sgmlDecl=""):$===">"?(U(v,"onsgmldeclaration",v.sgmlDecl),v.sgmlDecl="",v.state=x.TEXT):(S($)&&(v.state=x.SGML_DECL_QUOTED),v.sgmlDecl+=$);continue;case x.SGML_DECL_QUOTED:$===v.q&&(v.state=x.SGML_DECL,v.q=""),v.sgmlDecl+=$;continue;case x.DOCTYPE:$===">"?(v.state=x.TEXT,U(v,"ondoctype",v.doctype),v.doctype=!0):(v.doctype+=$,$==="["?v.state=x.DOCTYPE_DTD:S($)&&(v.state=x.DOCTYPE_QUOTED,v.q=$));continue;case x.DOCTYPE_QUOTED:v.doctype+=$,$===v.q&&(v.q="",v.state=x.DOCTYPE);continue;case x.DOCTYPE_DTD:$==="]"?(v.doctype+=$,v.state=x.DOCTYPE):$==="<"?(v.state=x.OPEN_WAKA,v.startTagPosition=v.position):S($)?(v.doctype+=$,v.state=x.DOCTYPE_DTD_QUOTED,v.q=$):v.doctype+=$;continue;case x.DOCTYPE_DTD_QUOTED:v.doctype+=$,$===v.q&&(v.state=x.DOCTYPE_DTD,v.q="");continue;case x.COMMENT:$==="-"?v.state=x.COMMENT_ENDING:v.comment+=$;continue;case x.COMMENT_ENDING:$==="-"?(v.state=x.COMMENT_ENDED,v.comment=se(v.opt,v.comment),v.comment&&U(v,"oncomment",v.comment),v.comment=""):(v.comment+="-"+$,v.state=x.COMMENT);continue;case x.COMMENT_ENDED:$!==">"?(F(v,"Malformed comment"),v.comment+="--"+$,v.state=x.COMMENT):v.doctype&&v.doctype!==!0?v.state=x.DOCTYPE_DTD:v.state=x.TEXT;continue;case x.CDATA:$==="]"?v.state=x.CDATA_ENDING:v.cdata+=$;continue;case x.CDATA_ENDING:$==="]"?v.state=x.CDATA_ENDING_2:(v.cdata+="]"+$,v.state=x.CDATA);continue;case x.CDATA_ENDING_2:$===">"?(v.cdata&&U(v,"oncdata",v.cdata),U(v,"onclosecdata"),v.cdata="",v.state=x.TEXT):$==="]"?v.cdata+="]":(v.cdata+="]]"+$,v.state=x.CDATA);continue;case x.PROC_INST:$==="?"?v.state=x.PROC_INST_ENDING:g($)?v.state=x.PROC_INST_BODY:v.procInstName+=$;continue;case x.PROC_INST_BODY:if(!v.procInstBody&&g($))continue;$==="?"?v.state=x.PROC_INST_ENDING:v.procInstBody+=$;continue;case x.PROC_INST_ENDING:$===">"?(U(v,"onprocessinginstruction",{name:v.procInstName,body:v.procInstBody}),v.procInstName=v.procInstBody="",v.state=x.TEXT):(v.procInstBody+="?"+$,v.state=x.PROC_INST_BODY);continue;case x.OPEN_TAG:R(b,$)?v.tagName+=$:(N(v),$===">"?Oe(v):$==="/"?v.state=x.OPEN_TAG_SLASH:(g($)||F(v,"Invalid character in tag name"),v.state=x.ATTRIB));continue;case x.OPEN_TAG_SLASH:$===">"?(Oe(v,!0),Se(v)):(F(v,"Forward-slash in opening tag not followed by >"),v.state=x.ATTRIB);continue;case x.ATTRIB:if(g($))continue;$===">"?Oe(v):$==="/"?v.state=x.OPEN_TAG_SLASH:R(C,$)?(v.attribName=$,v.attribValue="",v.state=x.ATTRIB_NAME):F(v,"Invalid attribute name");continue;case x.ATTRIB_NAME:$==="="?v.state=x.ATTRIB_VALUE:$===">"?(F(v,"Attribute without value"),v.attribValue=v.attribName,ce(v),Oe(v)):g($)?v.state=x.ATTRIB_NAME_SAW_WHITE:R(b,$)?v.attribName+=$:F(v,"Invalid attribute name");continue;case x.ATTRIB_NAME_SAW_WHITE:if($==="=")v.state=x.ATTRIB_VALUE;else{if(g($))continue;F(v,"Attribute without value"),v.tag.attributes[v.attribName]="",v.attribValue="",U(v,"onattribute",{name:v.attribName,value:""}),v.attribName="",$===">"?Oe(v):R(C,$)?(v.attribName=$,v.state=x.ATTRIB_NAME):(F(v,"Invalid attribute name"),v.state=x.ATTRIB)}continue;case x.ATTRIB_VALUE:if(g($))continue;S($)?(v.q=$,v.state=x.ATTRIB_VALUE_QUOTED):(v.opt.unquotedAttributeValues||P(v,"Unquoted attribute value"),v.state=x.ATTRIB_VALUE_UNQUOTED,v.attribValue=$);continue;case x.ATTRIB_VALUE_QUOTED:if($!==v.q){$==="&"?v.state=x.ATTRIB_VALUE_ENTITY_Q:v.attribValue+=$;continue}ce(v),v.q="",v.state=x.ATTRIB_VALUE_CLOSED;continue;case x.ATTRIB_VALUE_CLOSED:g($)?v.state=x.ATTRIB:$===">"?Oe(v):$==="/"?v.state=x.OPEN_TAG_SLASH:R(C,$)?(F(v,"No whitespace between attributes"),v.attribName=$,v.attribValue="",v.state=x.ATTRIB_NAME):F(v,"Invalid attribute name");continue;case x.ATTRIB_VALUE_UNQUOTED:if(!A($)){$==="&"?v.state=x.ATTRIB_VALUE_ENTITY_U:v.attribValue+=$;continue}ce(v),$===">"?Oe(v):v.state=x.ATTRIB;continue;case x.CLOSE_TAG:if(v.tagName)$===">"?Se(v):R(b,$)?v.tagName+=$:v.script?(v.script+="</"+v.tagName,v.tagName="",v.state=x.SCRIPT):(g($)||F(v,"Invalid tagname in closing tag"),v.state=x.CLOSE_TAG_SAW_WHITE);else{if(g($))continue;O(C,$)?v.script?(v.script+="</"+$,v.state=x.SCRIPT):F(v,"Invalid tagname in closing tag."):v.tagName=$}continue;case x.CLOSE_TAG_SAW_WHITE:if(g($))continue;$===">"?Se(v):F(v,"Invalid characters in closing tag");continue;case x.TEXT_ENTITY:case x.ATTRIB_VALUE_ENTITY_Q:case x.ATTRIB_VALUE_ENTITY_U:var k,M;switch(v.state){case x.TEXT_ENTITY:k=x.TEXT,M="textNode";break;case x.ATTRIB_VALUE_ENTITY_Q:k=x.ATTRIB_VALUE_QUOTED,M="attribValue";break;case x.ATTRIB_VALUE_ENTITY_U:k=x.ATTRIB_VALUE_UNQUOTED,M="attribValue";break}if($===";"){var L=Ae(v);v.opt.unparsedEntities&&!Object.values(e.XML_ENTITIES).includes(L)?(v.entity="",v.state=k,v.write(L)):(v[M]+=L,v.entity="",v.state=k)}else R(v.entity.length?y:_,$)?v.entity+=$:(F(v,"Invalid character in entity name"),v[M]+="&"+v.entity+$,v.entity="",v.state=k);continue;default:throw new Error(v,"Unknown state: "+v.state)}return v.position>=v.bufferCheckPosition&&s(v),v}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var w=String.fromCharCode,v=Math.floor,D=function(){var $=16384,G=[],T,k,M=-1,L=arguments.length;if(!L)return"";for(var H="";++M<L;){var B=Number(arguments[M]);if(!isFinite(B)||B<0||B>1114111||v(B)!==B)throw RangeError("Invalid code point: "+B);B<=65535?G.push(B):(B-=65536,T=(B>>10)+55296,k=B%1024+56320,G.push(T,k)),(M+1===L||G.length>$)&&(H+=w.apply(null,G),G.length=0)}return H};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:D,configurable:!0,writable:!0}):String.fromCodePoint=D}()})(t)}(Xc)),Xc}var Qc,ig;function Kd(){return ig||(ig=1,Qc={isArray:function(t){return Array.isArray?Array.isArray(t):Object.prototype.toString.call(t)==="[object Array]"}}),Qc}var Zc,ag;function Yd(){if(ag)return Zc;ag=1;var t=Kd().isArray;return Zc={copyOptions:function(e){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return r},ensureFlagExists:function(e,n){(!(e in n)||typeof n[e]!="boolean")&&(n[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!t(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,n){(!(e+"Key"in n)||typeof n[e+"Key"]!="string")&&(n[e+"Key"]=n.compact?"_"+e:e)},checkFnExists:function(e,n){return e+"Fn"in n}},Zc}var eu,lg;function $_(){if(lg)return eu;lg=1;var t=wP(),e=Yd(),n=Kd().isArray,r,s;function o(b){return r=e.copyOptions(b),e.ensureFlagExists("ignoreDeclaration",r),e.ensureFlagExists("ignoreInstruction",r),e.ensureFlagExists("ignoreAttributes",r),e.ensureFlagExists("ignoreText",r),e.ensureFlagExists("ignoreComment",r),e.ensureFlagExists("ignoreCdata",r),e.ensureFlagExists("ignoreDoctype",r),e.ensureFlagExists("compact",r),e.ensureFlagExists("alwaysChildren",r),e.ensureFlagExists("addParent",r),e.ensureFlagExists("trim",r),e.ensureFlagExists("nativeType",r),e.ensureFlagExists("nativeTypeAttributes",r),e.ensureFlagExists("sanitize",r),e.ensureFlagExists("instructionHasAttributes",r),e.ensureFlagExists("captureSpacesBetweenElements",r),e.ensureAlwaysArrayExists(r),e.ensureKeyExists("declaration",r),e.ensureKeyExists("instruction",r),e.ensureKeyExists("attributes",r),e.ensureKeyExists("text",r),e.ensureKeyExists("comment",r),e.ensureKeyExists("cdata",r),e.ensureKeyExists("doctype",r),e.ensureKeyExists("type",r),e.ensureKeyExists("name",r),e.ensureKeyExists("elements",r),e.ensureKeyExists("parent",r),e.checkFnExists("doctype",r),e.checkFnExists("instruction",r),e.checkFnExists("cdata",r),e.checkFnExists("comment",r),e.checkFnExists("text",r),e.checkFnExists("instructionName",r),e.checkFnExists("elementName",r),e.checkFnExists("attributeName",r),e.checkFnExists("attributeValue",r),e.checkFnExists("attributes",r),r}function i(b){var _=Number(b);if(!isNaN(_))return _;var y=b.toLowerCase();return y==="true"?!0:y==="false"?!1:b}function a(b,_){var y;if(r.compact){if(!s[r[b+"Key"]]&&(n(r.alwaysArray)?r.alwaysArray.indexOf(r[b+"Key"])!==-1:r.alwaysArray)&&(s[r[b+"Key"]]=[]),s[r[b+"Key"]]&&!n(s[r[b+"Key"]])&&(s[r[b+"Key"]]=[s[r[b+"Key"]]]),b+"Fn"in r&&typeof _=="string"&&(_=r[b+"Fn"](_,s)),b==="instruction"&&("instructionFn"in r||"instructionNameFn"in r)){for(y in _)if(_.hasOwnProperty(y))if("instructionFn"in r)_[y]=r.instructionFn(_[y],y,s);else{var g=_[y];delete _[y],_[r.instructionNameFn(y,g,s)]=g}}n(s[r[b+"Key"]])?s[r[b+"Key"]].push(_):s[r[b+"Key"]]=_}else{s[r.elementsKey]||(s[r.elementsKey]=[]);var S={};if(S[r.typeKey]=b,b==="instruction"){for(y in _)if(_.hasOwnProperty(y))break;S[r.nameKey]="instructionNameFn"in r?r.instructionNameFn(y,_,s):y,r.instructionHasAttributes?(S[r.attributesKey]=_[y][r.attributesKey],"instructionFn"in r&&(S[r.attributesKey]=r.instructionFn(S[r.attributesKey],y,s))):("instructionFn"in r&&(_[y]=r.instructionFn(_[y],y,s)),S[r.instructionKey]=_[y])}else b+"Fn"in r&&(_=r[b+"Fn"](_,s)),S[r[b+"Key"]]=_;r.addParent&&(S[r.parentKey]=s),s[r.elementsKey].push(S)}}function l(b){if("attributesFn"in r&&b&&(b=r.attributesFn(b,s)),(r.trim||"attributeValueFn"in r||"attributeNameFn"in r||r.nativeTypeAttributes)&&b){var _;for(_ in b)if(b.hasOwnProperty(_)&&(r.trim&&(b[_]=b[_].trim()),r.nativeTypeAttributes&&(b[_]=i(b[_])),"attributeValueFn"in r&&(b[_]=r.attributeValueFn(b[_],_,s)),"attributeNameFn"in r)){var y=b[_];delete b[_],b[r.attributeNameFn(_,b[_],s)]=y}}return b}function c(b){var _={};if(b.body&&(b.name.toLowerCase()==="xml"||r.instructionHasAttributes)){for(var y=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,g;(g=y.exec(b.body))!==null;)_[g[1]]=g[2]||g[3]||g[4];_=l(_)}if(b.name.toLowerCase()==="xml"){if(r.ignoreDeclaration)return;s[r.declarationKey]={},Object.keys(_).length&&(s[r.declarationKey][r.attributesKey]=_),r.addParent&&(s[r.declarationKey][r.parentKey]=s)}else{if(r.ignoreInstruction)return;r.trim&&(b.body=b.body.trim());var S={};r.instructionHasAttributes&&Object.keys(_).length?(S[b.name]={},S[b.name][r.attributesKey]=_):S[b.name]=b.body,a("instruction",S)}}function u(b,_){var y;if(typeof b=="object"&&(_=b.attributes,b=b.name),_=l(_),"elementNameFn"in r&&(b=r.elementNameFn(b,s)),r.compact){if(y={},!r.ignoreAttributes&&_&&Object.keys(_).length){y[r.attributesKey]={};var g;for(g in _)_.hasOwnProperty(g)&&(y[r.attributesKey][g]=_[g])}!(b in s)&&(n(r.alwaysArray)?r.alwaysArray.indexOf(b)!==-1:r.alwaysArray)&&(s[b]=[]),s[b]&&!n(s[b])&&(s[b]=[s[b]]),n(s[b])?s[b].push(y):s[b]=y}else s[r.elementsKey]||(s[r.elementsKey]=[]),y={},y[r.typeKey]="element",y[r.nameKey]=b,!r.ignoreAttributes&&_&&Object.keys(_).length&&(y[r.attributesKey]=_),r.alwaysChildren&&(y[r.elementsKey]=[]),s[r.elementsKey].push(y);y[r.parentKey]=s,s=y}function f(b){r.ignoreText||!b.trim()&&!r.captureSpacesBetweenElements||(r.trim&&(b=b.trim()),r.nativeType&&(b=i(b)),r.sanitize&&(b=b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),a("text",b))}function d(b){r.ignoreComment||(r.trim&&(b=b.trim()),a("comment",b))}function h(b){var _=s[r.parentKey];r.addParent||delete s[r.parentKey],s=_}function m(b){r.ignoreCdata||(r.trim&&(b=b.trim()),a("cdata",b))}function p(b){r.ignoreDoctype||(b=b.replace(/^ /,""),r.trim&&(b=b.trim()),a("doctype",b))}function C(b){b.note=b}return eu=function(b,_){var y=t.parser(!0,{}),g={};if(s=g,r=o(_),y.opt={strictEntities:!0},y.onopentag=u,y.ontext=f,y.oncomment=d,y.onclosetag=h,y.onerror=C,y.oncdata=m,y.ondoctype=p,y.onprocessinginstruction=c,y.write(b).close(),g[r.elementsKey]){var S=g[r.elementsKey];delete g[r.elementsKey],g[r.elementsKey]=S,delete g.text}return g},eu}var tu,cg;function CP(){if(cg)return tu;cg=1;var t=Yd(),e=$_();function n(r){var s=t.copyOptions(r);return t.ensureSpacesExists(s),s}return tu=function(r,s){var o,i,a,l;return o=n(s),i=e(r,o),l="compact"in o&&o.compact?"_parent":"parent","addParent"in o&&o.addParent?a=JSON.stringify(i,function(c,u){return c===l?"_":u},o.spaces):a=JSON.stringify(i,null,o.spaces),a.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},tu}var nu,ug;function P_(){if(ug)return nu;ug=1;var t=Yd(),e=Kd().isArray,n,r;function s(y){var g=t.copyOptions(y);return t.ensureFlagExists("ignoreDeclaration",g),t.ensureFlagExists("ignoreInstruction",g),t.ensureFlagExists("ignoreAttributes",g),t.ensureFlagExists("ignoreText",g),t.ensureFlagExists("ignoreComment",g),t.ensureFlagExists("ignoreCdata",g),t.ensureFlagExists("ignoreDoctype",g),t.ensureFlagExists("compact",g),t.ensureFlagExists("indentText",g),t.ensureFlagExists("indentCdata",g),t.ensureFlagExists("indentAttributes",g),t.ensureFlagExists("indentInstruction",g),t.ensureFlagExists("fullTagEmptyElement",g),t.ensureFlagExists("noQuotesForNativeAttributes",g),t.ensureSpacesExists(g),typeof g.spaces=="number"&&(g.spaces=Array(g.spaces+1).join(" ")),t.ensureKeyExists("declaration",g),t.ensureKeyExists("instruction",g),t.ensureKeyExists("attributes",g),t.ensureKeyExists("text",g),t.ensureKeyExists("comment",g),t.ensureKeyExists("cdata",g),t.ensureKeyExists("doctype",g),t.ensureKeyExists("type",g),t.ensureKeyExists("name",g),t.ensureKeyExists("elements",g),t.checkFnExists("doctype",g),t.checkFnExists("instruction",g),t.checkFnExists("cdata",g),t.checkFnExists("comment",g),t.checkFnExists("text",g),t.checkFnExists("instructionName",g),t.checkFnExists("elementName",g),t.checkFnExists("attributeName",g),t.checkFnExists("attributeValue",g),t.checkFnExists("attributes",g),t.checkFnExists("fullTagEmptyElement",g),g}function o(y,g,S){return(!S&&y.spaces?`
`:"")+Array(g+1).join(y.spaces)}function i(y,g,S){if(g.ignoreAttributes)return"";"attributesFn"in g&&(y=g.attributesFn(y,r,n));var A,R,O,x,j=[];for(A in y)y.hasOwnProperty(A)&&y[A]!==null&&y[A]!==void 0&&(x=g.noQuotesForNativeAttributes&&typeof y[A]!="string"?"":'"',R=""+y[A],R=R.replace(/"/g,"&quot;"),O="attributeNameFn"in g?g.attributeNameFn(A,R,r,n):A,j.push(g.spaces&&g.indentAttributes?o(g,S+1,!1):" "),j.push(O+"="+x+("attributeValueFn"in g?g.attributeValueFn(R,A,r,n):R)+x));return y&&Object.keys(y).length&&g.spaces&&g.indentAttributes&&j.push(o(g,S,!1)),j.join("")}function a(y,g,S){return n=y,r="xml",g.ignoreDeclaration?"":"<?xml"+i(y[g.attributesKey],g,S)+"?>"}function l(y,g,S){if(g.ignoreInstruction)return"";var A;for(A in y)if(y.hasOwnProperty(A))break;var R="instructionNameFn"in g?g.instructionNameFn(A,y[A],r,n):A;if(typeof y[A]=="object")return n=y,r=R,"<?"+R+i(y[A][g.attributesKey],g,S)+"?>";var O=y[A]?y[A]:"";return"instructionFn"in g&&(O=g.instructionFn(O,A,r,n)),"<?"+R+(O?" "+O:"")+"?>"}function c(y,g){return g.ignoreComment?"":"<!--"+("commentFn"in g?g.commentFn(y,r,n):y)+"-->"}function u(y,g){return g.ignoreCdata?"":"<![CDATA["+("cdataFn"in g?g.cdataFn(y,r,n):y.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function f(y,g){return g.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in g?g.doctypeFn(y,r,n):y)+">"}function d(y,g){return g.ignoreText?"":(y=""+y,y=y.replace(/&amp;/g,"&"),y=y.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in g?g.textFn(y,r,n):y)}function h(y,g){var S;if(y.elements&&y.elements.length)for(S=0;S<y.elements.length;++S)switch(y.elements[S][g.typeKey]){case"text":if(g.indentText)return!0;break;case"cdata":if(g.indentCdata)return!0;break;case"instruction":if(g.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function m(y,g,S){n=y,r=y.name;var A=[],R="elementNameFn"in g?g.elementNameFn(y.name,y):y.name;A.push("<"+R),y[g.attributesKey]&&A.push(i(y[g.attributesKey],g,S));var O=y[g.elementsKey]&&y[g.elementsKey].length||y[g.attributesKey]&&y[g.attributesKey]["xml:space"]==="preserve";return O||("fullTagEmptyElementFn"in g?O=g.fullTagEmptyElementFn(y.name,y):O=g.fullTagEmptyElement),O?(A.push(">"),y[g.elementsKey]&&y[g.elementsKey].length&&(A.push(p(y[g.elementsKey],g,S+1)),n=y,r=y.name),A.push(g.spaces&&h(y,g)?`
`+Array(S+1).join(g.spaces):""),A.push("</"+R+">")):A.push("/>"),A.join("")}function p(y,g,S,A){return y.reduce(function(R,O){var x=o(g,S,A&&!R);switch(O.type){case"element":return R+x+m(O,g,S);case"comment":return R+x+c(O[g.commentKey],g);case"doctype":return R+x+f(O[g.doctypeKey],g);case"cdata":return R+(g.indentCdata?x:"")+u(O[g.cdataKey],g);case"text":return R+(g.indentText?x:"")+d(O[g.textKey],g);case"instruction":var j={};return j[O[g.nameKey]]=O[g.attributesKey]?O:O[g.instructionKey],R+(g.indentInstruction?x:"")+l(j,g,S)}},"")}function C(y,g,S){var A;for(A in y)if(y.hasOwnProperty(A))switch(A){case g.parentKey:case g.attributesKey:break;case g.textKey:if(g.indentText||S)return!0;break;case g.cdataKey:if(g.indentCdata||S)return!0;break;case g.instructionKey:if(g.indentInstruction||S)return!0;break;case g.doctypeKey:case g.commentKey:return!0;default:return!0}return!1}function b(y,g,S,A,R){n=y,r=g;var O="elementNameFn"in S?S.elementNameFn(g,y):g;if(typeof y>"u"||y===null||y==="")return"fullTagEmptyElementFn"in S&&S.fullTagEmptyElementFn(g,y)||S.fullTagEmptyElement?"<"+O+"></"+O+">":"<"+O+"/>";var x=[];if(g){if(x.push("<"+O),typeof y!="object")return x.push(">"+d(y,S)+"</"+O+">"),x.join("");y[S.attributesKey]&&x.push(i(y[S.attributesKey],S,A));var j=C(y,S,!0)||y[S.attributesKey]&&y[S.attributesKey]["xml:space"]==="preserve";if(j||("fullTagEmptyElementFn"in S?j=S.fullTagEmptyElementFn(g,y):j=S.fullTagEmptyElement),j)x.push(">");else return x.push("/>"),x.join("")}return x.push(_(y,S,A+1,!1)),n=y,r=g,g&&x.push((R?o(S,A,!1):"")+"</"+O+">"),x.join("")}function _(y,g,S,A){var R,O,x,j=[];for(O in y)if(y.hasOwnProperty(O))for(x=e(y[O])?y[O]:[y[O]],R=0;R<x.length;++R){switch(O){case g.declarationKey:j.push(a(x[R],g,S));break;case g.instructionKey:j.push((g.indentInstruction?o(g,S,A):"")+l(x[R],g,S));break;case g.attributesKey:case g.parentKey:break;case g.textKey:j.push((g.indentText?o(g,S,A):"")+d(x[R],g));break;case g.cdataKey:j.push((g.indentCdata?o(g,S,A):"")+u(x[R],g));break;case g.doctypeKey:j.push(o(g,S,A)+f(x[R],g));break;case g.commentKey:j.push(o(g,S,A)+c(x[R],g));break;default:j.push(o(g,S,A)+b(x[R],O,g,S,C(x[R],g)))}A=A&&!j.length}return j.join("")}return nu=function(y,g){g=s(g);var S=[];return n=y,r="_root_",g.compact?S.push(_(y,g,0,!0)):(y[g.declarationKey]&&S.push(a(y[g.declarationKey],g,0)),y[g.elementsKey]&&y[g.elementsKey].length&&S.push(p(y[g.elementsKey],g,0,!S.length))),S.join("")},nu}var ru,fg;function xP(){if(fg)return ru;fg=1;var t=P_();return ru=function(e,n){e instanceof Buffer&&(e=e.toString());var r=null;if(typeof e=="string")try{r=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else r=e;return t(r,n)},ru}var su,dg;function EP(){if(dg)return su;dg=1;var t=$_(),e=CP(),n=P_(),r=xP();return su={xml2js:t,xml2json:e,js2xml:n,json2xml:r},su}var SP=EP();const hg=td(SP);var Po={exports:{}};/*! https://mths.be/base64 v1.0.0 by @mathias | MIT license */var AP=Po.exports,pg;function TP(){return pg||(pg=1,function(t,e){(function(n){var r=e,s=t&&t.exports==r&&t,o=typeof As=="object"&&As;(o.global===o||o.window===o)&&(n=o);var i=function(m){this.message=m};i.prototype=new Error,i.prototype.name="InvalidCharacterError";var a=function(m){throw new i(m)},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=/[\t\n\f\r ]/g,u=function(m){m=String(m).replace(c,"");var p=m.length;p%4==0&&(m=m.replace(/==?$/,""),p=m.length),(p%4==1||/[^+a-zA-Z0-9/]/.test(m))&&a("Invalid character: the string to be decoded is not correctly encoded.");for(var C=0,b,_,y="",g=-1;++g<p;)_=l.indexOf(m.charAt(g)),b=C%4?b*64+_:_,C++%4&&(y+=String.fromCharCode(255&b>>(-2*C&6)));return y},f=function(m){m=String(m),/[^\0-\xFF]/.test(m)&&a("The string to be encoded contains characters outside of the Latin1 range.");for(var p=m.length%3,C="",b=-1,_,y,g,S,A=m.length-p;++b<A;)_=m.charCodeAt(b)<<16,y=m.charCodeAt(++b)<<8,g=m.charCodeAt(++b),S=_+y+g,C+=l.charAt(S>>18&63)+l.charAt(S>>12&63)+l.charAt(S>>6&63)+l.charAt(S&63);return p==2?(_=m.charCodeAt(b)<<8,y=m.charCodeAt(++b),S=_+y,C+=l.charAt(S>>10)+l.charAt(S>>4&63)+l.charAt(S<<2&63)+"="):p==1&&(S=m.charCodeAt(b),C+=l.charAt(S>>2)+l.charAt(S<<4&63)+"=="),C},d={encode:f,decode:u,version:"1.0.0"};if(r&&!r.nodeType)if(s)s.exports=d;else for(var h in d)d.hasOwnProperty(h)&&(r[h]=d[h]);else n.base64=d})(AP)}(Po,Po.exports)),Po.exports}var mg=TP(),Be;(function(t){t.CALENDAR_SERVER="http://calendarserver.org/ns/",t.CALDAV_APPLE="http://apple.com/ns/ical/",t.CALDAV="urn:ietf:params:xml:ns:caldav",t.CARDDAV="urn:ietf:params:xml:ns:carddav",t.DAV="DAV:"})(Be||(Be={}));const kP={[Be.CALDAV]:"xmlns:c",[Be.CARDDAV]:"xmlns:card",[Be.CALENDAR_SERVER]:"xmlns:cs",[Be.CALDAV_APPLE]:"xmlns:ca",[Be.DAV]:"xmlns:d"};var ue;(function(t){t.CALDAV="c",t.CARDDAV="card",t.CALENDAR_SERVER="cs",t.CALDAV_APPLE="ca",t.DAV="d"})(ue||(ue={}));var pf;(function(t){t.VEVENT="VEVENT",t.VTODO="VTODO",t.VJOURNAL="VJOURNAL",t.VFREEBUSY="VFREEBUSY",t.VTIMEZONE="VTIMEZONE",t.VALARM="VALARM"})(pf||(pf={}));const OP=t=>t.replace(/([-_]\w)/g,e=>e[1].toUpperCase()),gg=t=>{const e=Number(t);if(!Number.isNaN(e))return e;const n=t.toLowerCase();return n==="true"?!0:n==="false"?!1:t},RP=(t,e)=>{if(!t&&!e)return!0;if(!t||!e)return!1;const n=t.trim(),r=e.trim();if(Math.abs(n.length-r.length)>1)return!1;const s=n.slice(-1)==="/"?n.slice(0,-1):n,o=r.slice(-1)==="/"?r.slice(0,-1):r;return t.includes(o)||e.includes(s)},St=(t,e)=>{if(!t&&!e)return!0;if(!t||!e)return!1;const n=t.trim(),r=e.trim(),s=n.slice(-1)==="/"?n.slice(0,-1):n,o=r.slice(-1)==="/"?r.slice(0,-1):r;return t.includes(o)||e.includes(s)},Zn=t=>t.reduce((e,n)=>({...e,[kP[n]]:n}),{}),zt=t=>Object.entries(t).reduce((e,[n,r])=>r?{...e,[n]:r}:e,{}),D_=(t,e)=>e?{[t]:e}:{},ve=(t,e)=>t?!e||e.length===0?t:Object.fromEntries(Object.entries(t).filter(([n])=>!e.includes(n))):{};var $P=Object.freeze({__proto__:null,cleanupFalsy:zt,conditionalParam:D_,excludeHeaders:ve,getDAVAttribute:Zn,urlContains:St,urlEquals:RP});const PP=po("tsdav:request"),Tr=async t=>{var e;const{url:n,init:r,convertIncoming:s=!0,parseOutgoing:o=!0,fetchOptions:i={}}=t,{headers:a={},body:l,namespace:c,method:u,attributes:f}=r,d=s?hg.js2xml({_declaration:{_attributes:{version:"1.0",encoding:"utf-8"}},...l,_attributes:f},{compact:!0,spaces:2,elementNameFn:_=>c&&!/^.+:.+/.test(_)?`${c}:${_}`:_}):l,h={...i};delete h.headers;const m=await ls.fetch(n,{headers:{"Content-Type":"text/xml;charset=UTF-8",...zt(a),...i.headers},body:d,method:u,...h}),p=await m.text();if(!m.ok||!(!((e=m.headers.get("content-type"))===null||e===void 0)&&e.includes("xml"))||!o)return[{href:m.url,ok:m.ok,status:m.status,statusText:m.statusText,raw:p}];const C=hg.xml2js(p,{compact:!0,trim:!0,textFn:(_,y)=>{try{const g=y._parent,S=Object.keys(g),A=S.length,R=S[A-1],O=g[R];if(O.length>0){const j=O,V=O.length-1;j[V]=gg(_)}else g[R]=gg(_)}catch(g){PP(g.stack)}},elementNameFn:_=>OP(_.replace(/^.+:/,"")),attributesFn:_=>{const y={..._};return delete y.xmlns,y},ignoreDeclaration:!0});return(Array.isArray(C.multistatus.response)?C.multistatus.response:[C.multistatus.response]).map(_=>{var y,g;const S=/^\S+\s(?<status>\d+)\s(?<statusText>.+)$/;if(!_)return{status:m.status,statusText:m.statusText,ok:m.ok};const A=S.exec(_.status);return{raw:C,href:_.href,status:A!=null&&A.groups?Number.parseInt(A==null?void 0:A.groups.status,10):m.status,statusText:(g=(y=A==null?void 0:A.groups)===null||y===void 0?void 0:y.statusText)!==null&&g!==void 0?g:m.statusText,ok:!_.error,error:_.error,responsedescription:_.responsedescription,props:(Array.isArray(_.propstat)?_.propstat:[_.propstat]).reduce((R,O)=>({...R,...O==null?void 0:O.prop}),{})}})},kn=async t=>{const{url:e,props:n,depth:r,headers:s,headersToExclude:o,fetchOptions:i={}}=t;return Tr({url:e,init:{method:"PROPFIND",headers:ve(zt({depth:r,...s}),o),namespace:ue.DAV,body:{propfind:{_attributes:Zn([Be.CALDAV,Be.CALDAV_APPLE,Be.CALENDAR_SERVER,Be.CARDDAV,Be.DAV]),prop:n}}},fetchOptions:i})},Ri=async t=>{const{url:e,data:n,headers:r,headersToExclude:s,fetchOptions:o={}}=t;return ls.fetch(e,{method:"PUT",body:n,headers:ve(r,s),...o})},$i=async t=>{const{url:e,data:n,etag:r,headers:s,headersToExclude:o,fetchOptions:i={}}=t;return ls.fetch(e,{method:"PUT",body:n,headers:ve(zt({"If-Match":r,...s}),o),...i})},Pi=async t=>{const{url:e,headers:n,etag:r,headersToExclude:s,fetchOptions:o={}}=t;return ls.fetch(e,{method:"DELETE",headers:ve(zt({"If-Match":r,...n}),s),...o})};var DP=Object.freeze({__proto__:null,createObject:Ri,davRequest:Tr,deleteObject:Pi,propfind:kn,updateObject:$i});function On(t,e){const n=r=>e.every(s=>r[s]);return Array.isArray(t)?t.every(r=>n(r)):n(t)}const Rn=(t,e)=>e.reduce((n,r)=>t[r]?n:`${n.length?`${n},`:""}${r.toString()}`,""),MP=po("tsdav:collection"),kr=async t=>{const{url:e,body:n,depth:r,defaultNamespace:s=ue.DAV,headers:o,headersToExclude:i,fetchOptions:a={}}=t,l=await Tr({url:e,init:{method:"REPORT",headers:ve(zt({depth:r,...o}),i),namespace:s,body:n},fetchOptions:a});return l.length===1&&!l[0].raw?[]:l},qd=async t=>{const{url:e,props:n,depth:r,headers:s,headersToExclude:o,fetchOptions:i={}}=t;return Tr({url:e,init:{method:"MKCOL",headers:ve(zt({depth:r,...s}),o),namespace:ue.DAV,body:n?{mkcol:{set:{prop:n}}}:void 0},fetchOptions:i})},Di=async t=>{var e,n,r,s,o;const{collection:i,headers:a,headersToExclude:l,fetchOptions:c={}}=t;return(o=(s=(r=(n=(e=(await kn({url:i.url,props:{[`${ue.DAV}:supported-report-set`]:{}},depth:"0",headers:ve(a,l),fetchOptions:c}))[0])===null||e===void 0?void 0:e.props)===null||n===void 0?void 0:n.supportedReportSet)===null||r===void 0?void 0:r.supportedReport)===null||s===void 0?void 0:s.map(f=>Object.keys(f.report)[0]))!==null&&o!==void 0?o:[]},Wl=async t=>{var e,n,r;const{collection:s,headers:o,headersToExclude:i,fetchOptions:a={}}=t,c=(await kn({url:s.url,props:{[`${ue.CALENDAR_SERVER}:getctag`]:{}},depth:"0",headers:ve(o,i),fetchOptions:a})).filter(u=>St(s.url,u.href))[0];if(!c)throw new Error("Collection does not exist on server");return{isDirty:`${s.ctag}`!=`${(e=c.props)===null||e===void 0?void 0:e.getctag}`,newCtag:(r=(n=c.props)===null||n===void 0?void 0:n.getctag)===null||r===void 0?void 0:r.toString()}},Kl=t=>{const{url:e,props:n,headers:r,syncLevel:s,syncToken:o,headersToExclude:i,fetchOptions:a}=t;return Tr({url:e,init:{method:"REPORT",namespace:ue.DAV,headers:ve({...r},i),body:{"sync-collection":{_attributes:Zn([Be.CALDAV,Be.CARDDAV,Be.DAV]),"sync-level":s,"sync-token":o,[`${ue.DAV}:prop`]:n}}},fetchOptions:a})},Yl=async t=>{var e,n,r,s,o,i,a,l,c,u,f;const{collection:d,method:h,headers:m,headersToExclude:p,account:C,detailedResult:b,fetchOptions:_={}}=t,y=["accountType","homeUrl"];if(!C||!On(C,y))throw C?new Error(`account must have ${Rn(C,y)} before smartCollectionSync`):new Error("no account for smartCollectionSync");const g=h??(!((e=d.reports)===null||e===void 0)&&e.includes("syncCollection")?"webdav":"basic");if(MP(`smart collection sync with type ${C.accountType} and method ${g}`),g==="webdav"){const S=await Kl({url:d.url,props:{[`${ue.DAV}:getetag`]:{},[`${C.accountType==="caldav"?ue.CALDAV:ue.CARDDAV}:${C.accountType==="caldav"?"calendar-data":"address-data"}`]:{},[`${ue.DAV}:displayname`]:{}},syncLevel:1,syncToken:d.syncToken,headers:ve(m,p),fetchOptions:_}),A=S.filter(I=>{var F;const N=C.accountType==="caldav"?".ics":".vcf";return((F=I.href)===null||F===void 0?void 0:F.slice(-4))===N}),R=A.filter(I=>I.status!==404).map(I=>I.href),O=A.filter(I=>I.status===404).map(I=>I.href),j=(R.length?(r=await((n=d==null?void 0:d.objectMultiGet)===null||n===void 0?void 0:n.call(d,{url:d.url,props:{[`${ue.DAV}:getetag`]:{},[`${C.accountType==="caldav"?ue.CALDAV:ue.CARDDAV}:${C.accountType==="caldav"?"calendar-data":"address-data"}`]:{}},objectUrls:R,depth:"1",headers:ve(m,p),fetchOptions:_})))!==null&&r!==void 0?r:[]:[]).map(I=>{var F,N,le,ce,Oe,Se,Ae,ge,Ie,je;return{url:(F=I.href)!==null&&F!==void 0?F:"",etag:(N=I.props)===null||N===void 0?void 0:N.getetag,data:(C==null?void 0:C.accountType)==="caldav"?(Oe=(ce=(le=I.props)===null||le===void 0?void 0:le.calendarData)===null||ce===void 0?void 0:ce._cdata)!==null&&Oe!==void 0?Oe:(Se=I.props)===null||Se===void 0?void 0:Se.calendarData:(Ie=(ge=(Ae=I.props)===null||Ae===void 0?void 0:Ae.addressData)===null||ge===void 0?void 0:ge._cdata)!==null&&Ie!==void 0?Ie:(je=I.props)===null||je===void 0?void 0:je.addressData}}),V=(s=d.objects)!==null&&s!==void 0?s:[],U=j.filter(I=>V.every(F=>!St(F.url,I.url))),re=V.reduce((I,F)=>{const N=j.find(le=>St(le.url,F.url));return N&&N.etag&&N.etag!==F.etag?[...I,N]:I},[]),se=O.map(I=>({url:I,etag:""})),P=V.filter(I=>j.some(F=>St(I.url,F.url)&&F.etag===I.etag));return{...d,objects:b?{created:U,updated:re,deleted:se}:[...P,...U,...re],syncToken:(l=(a=(i=(o=S[0])===null||o===void 0?void 0:o.raw)===null||i===void 0?void 0:i.multistatus)===null||a===void 0?void 0:a.syncToken)!==null&&l!==void 0?l:d.syncToken}}if(g==="basic"){const{isDirty:S,newCtag:A}=await Wl({collection:d,headers:ve(m,p),fetchOptions:_}),R=(c=d.objects)!==null&&c!==void 0?c:[],O=(f=await((u=d.fetchObjects)===null||u===void 0?void 0:u.call(d,{collection:d,headers:ve(m,p),fetchOptions:_})))!==null&&f!==void 0?f:[],x=O.filter(re=>R.every(se=>!St(se.url,re.url))),j=R.reduce((re,se)=>{const P=O.find(I=>St(I.url,se.url));return P&&P.etag&&P.etag!==se.etag?[...re,P]:re},[]),V=R.filter(re=>O.every(se=>!St(se.url,re.url))),U=R.filter(re=>O.some(se=>St(re.url,se.url)&&se.etag===re.etag));if(S)return{...d,objects:b?{created:x,updated:j,deleted:V}:[...U,...x,...j],ctag:A}}return b?{...d,objects:{created:[],updated:[],deleted:[]}}:d};var IP=Object.freeze({__proto__:null,collectionQuery:kr,isCollectionDirty:Wl,makeCollection:qd,smartCollectionSync:Yl,supportedReportSet:Di,syncCollection:Kl});const M_=po("tsdav:addressBook"),ci=async t=>{const{url:e,props:n,filters:r,depth:s,headers:o,headersToExclude:i,fetchOptions:a={}}=t;return kr({url:e,body:{"addressbook-query":zt({_attributes:Zn([Be.CARDDAV,Be.DAV]),[`${ue.DAV}:prop`]:n,filter:r??{"prop-filter":{_attributes:{name:"FN"}}}})},defaultNamespace:ue.CARDDAV,depth:s,headers:ve(o,i),fetchOptions:a})},ql=async t=>{const{url:e,props:n,objectUrls:r,depth:s,headers:o,headersToExclude:i,fetchOptions:a={}}=t;return kr({url:e,body:{"addressbook-multiget":zt({_attributes:Zn([Be.DAV,Be.CARDDAV]),[`${ue.DAV}:prop`]:n,[`${ue.DAV}:href`]:r})},defaultNamespace:ue.CARDDAV,depth:s,headers:ve(o,i),fetchOptions:a})},Gl=async t=>{const{account:e,headers:n,props:r,headersToExclude:s,fetchOptions:o={}}=t??{},i=["homeUrl","rootUrl"];if(!e||!On(e,i))throw e?new Error(`account must have ${Rn(e,i)} before fetchAddressBooks`):new Error("no account for fetchAddressBooks");const a=await kn({url:e.homeUrl,props:r??{[`${ue.DAV}:displayname`]:{},[`${ue.CALENDAR_SERVER}:getctag`]:{},[`${ue.DAV}:resourcetype`]:{},[`${ue.DAV}:sync-token`]:{}},depth:"1",headers:ve(n,s),fetchOptions:o});return Promise.all(a.filter(l=>{var c,u;return Object.keys((u=(c=l.props)===null||c===void 0?void 0:c.resourcetype)!==null&&u!==void 0?u:{}).includes("addressbook")}).map(l=>{var c,u,f,d,h,m,p,C,b;const _=(f=(u=(c=l.props)===null||c===void 0?void 0:c.displayname)===null||u===void 0?void 0:u._cdata)!==null&&f!==void 0?f:(d=l.props)===null||d===void 0?void 0:d.displayname;return M_(`Found address book named ${typeof _=="string"?_:""},
             props: ${JSON.stringify(l.props)}`),{url:new URL((h=l.href)!==null&&h!==void 0?h:"",(m=e.rootUrl)!==null&&m!==void 0?m:"").href,ctag:(p=l.props)===null||p===void 0?void 0:p.getctag,displayName:typeof _=="string"?_:"",resourcetype:Object.keys((C=l.props)===null||C===void 0?void 0:C.resourcetype),syncToken:(b=l.props)===null||b===void 0?void 0:b.syncToken}}).map(async l=>({...l,reports:await Di({collection:l,headers:ve(n,s),fetchOptions:o})})))},Jl=async t=>{const{addressBook:e,headers:n,objectUrls:r,headersToExclude:s,urlFilter:o=f=>f,useMultiGet:i=!0,fetchOptions:a={}}=t;M_(`Fetching vcards from ${e==null?void 0:e.url}`);const l=["url"];if(!e||!On(e,l))throw e?new Error(`addressBook must have ${Rn(e,l)} before fetchVCards`):new Error("cannot fetchVCards for undefined addressBook");const c=(r??(await ci({url:e.url,props:{[`${ue.DAV}:getetag`]:{}},depth:"1",headers:ve(n,s),fetchOptions:a})).map(f=>{var d;return f.ok&&(d=f.href)!==null&&d!==void 0?d:""})).map(f=>f.startsWith("http")||!f?f:new URL(f,e.url).href).filter(o).map(f=>new URL(f).pathname);let u=[];return c.length>0&&(i?u=await ql({url:e.url,props:{[`${ue.DAV}:getetag`]:{},[`${ue.CARDDAV}:address-data`]:{}},objectUrls:c,depth:"1",headers:ve(n,s),fetchOptions:a}):u=await ci({url:e.url,props:{[`${ue.DAV}:getetag`]:{},[`${ue.CARDDAV}:address-data`]:{}},depth:"1",headers:ve(n,s),fetchOptions:a})),u.map(f=>{var d,h,m,p,C,b;return{url:new URL((d=f.href)!==null&&d!==void 0?d:"",e.url).href,etag:(h=f.props)===null||h===void 0?void 0:h.getetag,data:(C=(p=(m=f.props)===null||m===void 0?void 0:m.addressData)===null||p===void 0?void 0:p._cdata)!==null&&C!==void 0?C:(b=f.props)===null||b===void 0?void 0:b.addressData}})},Gd=async t=>{const{addressBook:e,vCardString:n,filename:r,headers:s,headersToExclude:o,fetchOptions:i={}}=t;return Ri({url:new URL(r,e.url).href,data:n,headers:ve({"content-type":"text/vcard; charset=utf-8","If-None-Match":"*",...s},o),fetchOptions:i})},Jd=async t=>{const{vCard:e,headers:n,headersToExclude:r,fetchOptions:s={}}=t;return $i({url:e.url,data:e.data,etag:e.etag,headers:ve({"content-type":"text/vcard; charset=utf-8",...n},r),fetchOptions:s})},Xd=async t=>{const{vCard:e,headers:n,headersToExclude:r,fetchOptions:s={}}=t;return Pi({url:e.url,etag:e.etag,headers:ve(n,r),fetchOptions:s})};var FP=Object.freeze({__proto__:null,addressBookMultiGet:ql,addressBookQuery:ci,createVCard:Gd,deleteVCard:Xd,fetchAddressBooks:Gl,fetchVCards:Jl,updateVCard:Jd});const Vs=po("tsdav:calendar"),Qd=async t=>{var e,n,r;const{account:s,headers:o,headersToExclude:i,fetchOptions:a={}}=t,l=["principalUrl","rootUrl"];if(!On(s,l))throw new Error(`account must have ${Rn(s,l)} before fetchUserAddresses`);Vs(`Fetch user addresses from ${s.principalUrl}`);const u=(await kn({url:s.principalUrl,props:{[`${ue.CALDAV}:calendar-user-address-set`]:{}},depth:"0",headers:ve(o,i),fetchOptions:a})).find(d=>St(s.principalUrl,d.href));if(!u||!u.ok)throw new Error("cannot find calendarUserAddresses");const f=((r=(n=(e=u==null?void 0:u.props)===null||e===void 0?void 0:e.calendarUserAddressSet)===null||n===void 0?void 0:n.href)===null||r===void 0?void 0:r.filter(Boolean))||[];return Vs(`Fetched calendar user addresses ${f}`),f},ui=async t=>{const{url:e,props:n,filters:r,timezone:s,depth:o,headers:i,headersToExclude:a,fetchOptions:l={}}=t;return kr({url:e,body:{"calendar-query":zt({_attributes:Zn([Be.CALDAV,Be.CALENDAR_SERVER,Be.CALDAV_APPLE,Be.DAV]),[`${ue.DAV}:prop`]:n,filter:r,timezone:s})},defaultNamespace:ue.CALDAV,depth:o,headers:ve(i,a),fetchOptions:l})},Mi=async t=>{const{url:e,props:n,objectUrls:r,filters:s,timezone:o,depth:i,headers:a,headersToExclude:l,fetchOptions:c={}}=t;return kr({url:e,body:{"calendar-multiget":zt({_attributes:Zn([Be.DAV,Be.CALDAV]),[`${ue.DAV}:prop`]:n,[`${ue.DAV}:href`]:r,filter:s,timezone:o})},defaultNamespace:ue.CALDAV,depth:i,headers:ve(a,l),fetchOptions:c})},Zd=async t=>{const{url:e,props:n,depth:r,headers:s,headersToExclude:o,fetchOptions:i={}}=t;return Tr({url:e,init:{method:"MKCALENDAR",headers:ve(zt({depth:r,...s}),o),namespace:ue.DAV,body:{[`${ue.CALDAV}:mkcalendar`]:{_attributes:Zn([Be.DAV,Be.CALDAV,Be.CALDAV_APPLE]),set:{prop:n}}}},fetchOptions:i})},Ii=async t=>{const{headers:e,account:n,props:r,projectedProps:s,headersToExclude:o,fetchOptions:i={}}=t??{},a=["homeUrl","rootUrl"];if(!n||!On(n,a))throw n?new Error(`account must have ${Rn(n,a)} before fetchCalendars`):new Error("no account for fetchCalendars");const l=await kn({url:n.homeUrl,props:r??{[`${ue.CALDAV}:calendar-description`]:{},[`${ue.CALDAV}:calendar-timezone`]:{},[`${ue.DAV}:displayname`]:{},[`${ue.CALDAV_APPLE}:calendar-color`]:{},[`${ue.CALENDAR_SERVER}:getctag`]:{},[`${ue.DAV}:resourcetype`]:{},[`${ue.CALDAV}:supported-calendar-component-set`]:{},[`${ue.DAV}:sync-token`]:{}},depth:"1",headers:ve(e,o),fetchOptions:i});return Promise.all(l.filter(c=>{var u,f;return Object.keys((f=(u=c.props)===null||u===void 0?void 0:u.resourcetype)!==null&&f!==void 0?f:{}).includes("calendar")}).filter(c=>{var u,f,d,h,m,p;return(Array.isArray((f=(u=c.props)===null||u===void 0?void 0:u.supportedCalendarComponentSet)===null||f===void 0?void 0:f.comp)?(d=c.props)===null||d===void 0?void 0:d.supportedCalendarComponentSet.comp.map(b=>b._attributes.name):[(p=(m=(h=c.props)===null||h===void 0?void 0:h.supportedCalendarComponentSet)===null||m===void 0?void 0:m.comp)===null||p===void 0?void 0:p._attributes.name]).some(b=>Object.values(pf).includes(b))}).map(c=>{var u,f,d,h,m,p,C,b,_,y,g,S,A,R,O,x;const j=(u=c.props)===null||u===void 0?void 0:u.calendarDescription,V=(f=c.props)===null||f===void 0?void 0:f.calendarTimezone;return{description:typeof j=="string"?j:"",timezone:typeof V=="string"?V:"",url:new URL((d=c.href)!==null&&d!==void 0?d:"",(h=n.rootUrl)!==null&&h!==void 0?h:"").href,ctag:(m=c.props)===null||m===void 0?void 0:m.getctag,calendarColor:(p=c.props)===null||p===void 0?void 0:p.calendarColor,displayName:(b=(C=c.props)===null||C===void 0?void 0:C.displayname._cdata)!==null&&b!==void 0?b:(_=c.props)===null||_===void 0?void 0:_.displayname,components:Array.isArray((y=c.props)===null||y===void 0?void 0:y.supportedCalendarComponentSet.comp)?(g=c.props)===null||g===void 0?void 0:g.supportedCalendarComponentSet.comp.map(U=>U._attributes.name):[(A=(S=c.props)===null||S===void 0?void 0:S.supportedCalendarComponentSet.comp)===null||A===void 0?void 0:A._attributes.name],resourcetype:Object.keys((R=c.props)===null||R===void 0?void 0:R.resourcetype),syncToken:(O=c.props)===null||O===void 0?void 0:O.syncToken,...D_("projectedProps",Object.fromEntries(Object.entries((x=c.props)!==null&&x!==void 0?x:{}).filter(([U])=>s==null?void 0:s[U])))}}).map(async c=>({...c,reports:await Di({collection:c,headers:ve(e,o),fetchOptions:i})})))},Xl=async t=>{const{calendar:e,objectUrls:n,filters:r,timeRange:s,headers:o,expand:i,urlFilter:a=p=>!!(p!=null&&p.includes(".ics")),useMultiGet:l=!0,headersToExclude:c,fetchOptions:u={}}=t;if(s){const p=/^\d{4}(-\d\d(-\d\d(T\d\d:\d\d(:\d\d)?(\.\d+)?(([+-]\d\d:\d\d)|Z)?)?)?)?$/i,C=/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(([+-]\d\d:\d\d)|Z)?$/i;if((!p.test(s.start)||!p.test(s.end))&&(!C.test(s.start)||!C.test(s.end)))throw new Error("invalid timeRange format, not in ISO8601")}Vs(`Fetching calendar objects from ${e==null?void 0:e.url}`);const f=["url"];if(!e||!On(e,f))throw e?new Error(`calendar must have ${Rn(e,f)} before fetchCalendarObjects`):new Error("cannot fetchCalendarObjects for undefined calendar");const d=r??[{"comp-filter":{_attributes:{name:"VCALENDAR"},"comp-filter":{_attributes:{name:"VEVENT"},...s?{"time-range":{_attributes:{start:`${new Date(s.start).toISOString().slice(0,19).replace(/[-:.]/g,"")}Z`,end:`${new Date(s.end).toISOString().slice(0,19).replace(/[-:.]/g,"")}Z`}}}:{}}}}],h=(n??(await ui({url:e.url,props:{[`${ue.DAV}:getetag`]:{...i&&s?{[`${ue.CALDAV}:expand`]:{_attributes:{start:`${new Date(s.start).toISOString().slice(0,19).replace(/[-:.]/g,"")}Z`,end:`${new Date(s.end).toISOString().slice(0,19).replace(/[-:.]/g,"")}Z`}}}:{}}},filters:d,depth:"1",headers:ve(o,c),fetchOptions:u})).map(p=>{var C;return(C=p.href)!==null&&C!==void 0?C:""})).map(p=>p.startsWith("http")||!p?p:new URL(p,e.url).href).filter(a).map(p=>new URL(p).pathname);let m=[];return h.length>0&&(!l||i?m=await ui({url:e.url,props:{[`${ue.DAV}:getetag`]:{},[`${ue.CALDAV}:calendar-data`]:{...i&&s?{[`${ue.CALDAV}:expand`]:{_attributes:{start:`${new Date(s.start).toISOString().slice(0,19).replace(/[-:.]/g,"")}Z`,end:`${new Date(s.end).toISOString().slice(0,19).replace(/[-:.]/g,"")}Z`}}}:{}}},filters:d,depth:"1",headers:ve(o,c),fetchOptions:u}):m=await Mi({url:e.url,props:{[`${ue.DAV}:getetag`]:{},[`${ue.CALDAV}:calendar-data`]:{...i&&s?{[`${ue.CALDAV}:expand`]:{_attributes:{start:`${new Date(s.start).toISOString().slice(0,19).replace(/[-:.]/g,"")}Z`,end:`${new Date(s.end).toISOString().slice(0,19).replace(/[-:.]/g,"")}Z`}}}:{}}},objectUrls:h,depth:"1",headers:ve(o,c),fetchOptions:u})),m.map(p=>{var C,b,_,y,g,S;return{url:new URL((C=p.href)!==null&&C!==void 0?C:"",e.url).href,etag:`${(b=p.props)===null||b===void 0?void 0:b.getetag}`,data:(g=(y=(_=p.props)===null||_===void 0?void 0:_.calendarData)===null||y===void 0?void 0:y._cdata)!==null&&g!==void 0?g:(S=p.props)===null||S===void 0?void 0:S.calendarData}})},eh=async t=>{const{calendar:e,iCalString:n,filename:r,headers:s,headersToExclude:o,fetchOptions:i={}}=t;return Ri({url:new URL(r,e.url).href,data:n,headers:ve({"content-type":"text/calendar; charset=utf-8","If-None-Match":"*",...s},o),fetchOptions:i})},th=async t=>{const{calendarObject:e,headers:n,headersToExclude:r,fetchOptions:s={}}=t;return $i({url:e.url,data:e.data,etag:e.etag,headers:ve({"content-type":"text/calendar; charset=utf-8",...n},r),fetchOptions:s})},nh=async t=>{const{calendarObject:e,headers:n,headersToExclude:r,fetchOptions:s={}}=t;return Pi({url:e.url,etag:e.etag,headers:ve(n,r),fetchOptions:s})},rh=async t=>{var e;const{oldCalendars:n,account:r,detailedResult:s,headers:o,headersToExclude:i,fetchOptions:a={}}=t;if(!r)throw new Error("Must have account before syncCalendars");const l=(e=n??r.calendars)!==null&&e!==void 0?e:[],c=await Ii({account:r,headers:ve(o,i),fetchOptions:a}),u=c.filter(p=>l.every(C=>!St(C.url,p.url)));Vs(`new calendars: ${u.map(p=>p.displayName)}`);const f=l.reduce((p,C)=>{const b=c.find(_=>St(_.url,C.url));return b&&(b.syncToken&&`${b.syncToken}`!=`${C.syncToken}`||b.ctag&&`${b.ctag}`!=`${C.ctag}`)?[...p,b]:p},[]);Vs(`updated calendars: ${f.map(p=>p.displayName)}`);const d=await Promise.all(f.map(async p=>await Yl({collection:{...p,objectMultiGet:Mi},method:"webdav",headers:ve(o,i),account:r,fetchOptions:a}))),h=l.filter(p=>c.every(C=>!St(C.url,p.url)));Vs(`deleted calendars: ${h.map(p=>p.displayName)}`);const m=l.filter(p=>c.some(C=>St(C.url,p.url)&&(C.syncToken&&`${C.syncToken}`!=`${p.syncToken}`||C.ctag&&`${C.ctag}`!=`${p.ctag}`)));return s?{created:u,updated:f,deleted:h}:[...m,...u,...d]},NP=async t=>{const{url:e,timeRange:n,depth:r,headers:s,headersToExclude:o,fetchOptions:i={}}=t;if(n){const l=/^\d{4}(-\d\d(-\d\d(T\d\d:\d\d(:\d\d)?(\.\d+)?(([+-]\d\d:\d\d)|Z)?)?)?)?$/i,c=/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(([+-]\d\d:\d\d)|Z)?$/i;if((!l.test(n.start)||!l.test(n.end))&&(!c.test(n.start)||!c.test(n.end)))throw new Error("invalid timeRange format, not in ISO8601")}else throw new Error("timeRange is required");return(await kr({url:e,body:{"free-busy-query":zt({_attributes:Zn([Be.CALDAV]),[`${ue.CALDAV}:time-range`]:{_attributes:{start:`${new Date(n.start).toISOString().slice(0,19).replace(/[-:.]/g,"")}Z`,end:`${new Date(n.end).toISOString().slice(0,19).replace(/[-:.]/g,"")}Z`}}})},defaultNamespace:ue.CALDAV,depth:r,headers:ve(s,o),fetchOptions:i}))[0]};var LP=Object.freeze({__proto__:null,calendarMultiGet:Mi,calendarQuery:ui,createCalendarObject:eh,deleteCalendarObject:nh,fetchCalendarObjects:Xl,fetchCalendarUserAddresses:Qd,fetchCalendars:Ii,freeBusyQuery:NP,makeCalendar:Zd,syncCalendars:rh,updateCalendarObject:th});const gr=po("tsdav:account"),I_=async t=>{var e,n;gr("Service discovery...");const{account:r,headers:s,headersToExclude:o,fetchOptions:i={}}=t,a=new URL(r.serverUrl),l=new URL(`/.well-known/${r.accountType}`,a);l.protocol=(e=a.protocol)!==null&&e!==void 0?e:"http";try{const c=await ls.fetch(l.href,{headers:ve(s,o),method:"PROPFIND",redirect:"manual",...i});if(c.status>=300&&c.status<400){const u=c.headers.get("Location");if(typeof u=="string"&&u.length){gr(`Service discovery redirected to ${u}`);const f=new URL(u,a);return f.hostname===l.hostname&&l.port&&!f.port&&(f.port=l.port),f.protocol=(n=a.protocol)!==null&&n!==void 0?n:"http",f.href}}}catch(c){gr(`Service discovery failed: ${c.stack}`)}return a.href},F_=async t=>{var e,n,r,s,o;const{account:i,headers:a,headersToExclude:l,fetchOptions:c={}}=t,u=["rootUrl"];if(!On(i,u))throw new Error(`account must have ${Rn(i,u)} before fetchPrincipalUrl`);gr(`Fetching principal url from path ${i.rootUrl}`);const[f]=await kn({url:i.rootUrl,props:{[`${ue.DAV}:current-user-principal`]:{}},depth:"0",headers:ve(a,l),fetchOptions:c});if(!f.ok&&(gr(`Fetch principal url failed: ${f.statusText}`),f.status===401))throw new Error("Invalid credentials");return gr(`Fetched principal url ${(n=(e=f.props)===null||e===void 0?void 0:e.currentUserPrincipal)===null||n===void 0?void 0:n.href}`),new URL((o=(s=(r=f.props)===null||r===void 0?void 0:r.currentUserPrincipal)===null||s===void 0?void 0:s.href)!==null&&o!==void 0?o:"",i.rootUrl).href},N_=async t=>{var e,n;const{account:r,headers:s,headersToExclude:o,fetchOptions:i={}}=t,a=["principalUrl","rootUrl"];if(!On(r,a))throw new Error(`account must have ${Rn(r,a)} before fetchHomeUrl`);gr(`Fetch home url from ${r.principalUrl}`);const c=(await kn({url:r.principalUrl,props:r.accountType==="caldav"?{[`${ue.CALDAV}:calendar-home-set`]:{}}:{[`${ue.CARDDAV}:addressbook-home-set`]:{}},depth:"0",headers:ve(s,o),fetchOptions:i})).find(f=>St(r.principalUrl,f.href));if(!c||!c.ok)throw new Error("cannot find homeUrl");const u=new URL(r.accountType==="caldav"?(e=c==null?void 0:c.props)===null||e===void 0?void 0:e.calendarHomeSet.href:(n=c==null?void 0:c.props)===null||n===void 0?void 0:n.addressbookHomeSet.href,r.rootUrl).href;return gr(`Fetched home url ${u}`),u},fi=async t=>{const{account:e,headers:n,loadCollections:r=!1,loadObjects:s=!1,headersToExclude:o,fetchOptions:i={}}=t,a={...e};return a.rootUrl=await I_({account:e,headers:ve(n,o),fetchOptions:i}),a.principalUrl=await F_({account:a,headers:ve(n,o),fetchOptions:i}),a.homeUrl=await N_({account:a,headers:ve(n,o),fetchOptions:i}),(r||s)&&(e.accountType==="caldav"?a.calendars=await Ii({headers:ve(n,o),account:a,fetchOptions:i}):e.accountType==="carddav"&&(a.addressBooks=await Gl({headers:ve(n,o),account:a,fetchOptions:i}))),s&&(e.accountType==="caldav"&&a.calendars?a.calendars=await Promise.all(a.calendars.map(async l=>({...l,objects:await Xl({calendar:l,headers:ve(n,o),fetchOptions:i})}))):e.accountType==="carddav"&&a.addressBooks&&(a.addressBooks=await Promise.all(a.addressBooks.map(async l=>({...l,objects:await Jl({addressBook:l,headers:ve(n,o),fetchOptions:i})}))))),a};var BP=Object.freeze({__proto__:null,createAccount:fi,fetchHomeUrl:N_,fetchPrincipalUrl:F_,serviceDiscovery:I_});const Wr=po("tsdav:authHelper"),de=(t,e)=>(...n)=>t({...e,...n[0]}),sh=t=>(Wr(`Basic auth token generated: ${mg.encode(`${t.username}:${t.password}`)}`),{authorization:`Basic ${mg.encode(`${t.username}:${t.password}`)}`}),L_=async(t,e)=>{const n=["authorizationCode","redirectUrl","clientId","clientSecret","tokenUrl"];if(!On(t,n))throw new Error(`Oauth credentials missing: ${Rn(t,n)}`);const r=new URLSearchParams({grant_type:"authorization_code",code:t.authorizationCode,redirect_uri:t.redirectUrl,client_id:t.clientId,client_secret:t.clientSecret});Wr(t.tokenUrl),Wr(r.toString());const s=await ls.fetch(t.tokenUrl,{method:"POST",body:r.toString(),headers:{"content-length":`${r.toString().length}`,"content-type":"application/x-www-form-urlencoded"},...e??{}});return s.ok?await s.json():(Wr(`Fetch Oauth tokens failed: ${await s.text()}`),{})},B_=async(t,e)=>{const n=["refreshToken","clientId","clientSecret","tokenUrl"];if(!On(t,n))throw new Error(`Oauth credentials missing: ${Rn(t,n)}`);const r=new URLSearchParams({client_id:t.clientId,client_secret:t.clientSecret,refresh_token:t.refreshToken,grant_type:"refresh_token"}),s=await ls.fetch(t.tokenUrl,{method:"POST",body:r.toString(),headers:{"Content-Type":"application/x-www-form-urlencoded"},...e??{}});return s.ok?await s.json():(Wr(`Refresh access token failed: ${await s.text()}`),{})},oh=async(t,e)=>{var n;Wr("Fetching oauth headers");let r={};return t.refreshToken?(t.refreshToken&&!t.accessToken||Date.now()>((n=t.expiration)!==null&&n!==void 0?n:0))&&(r=await B_(t,e)):r=await L_(t,e),Wr(`Oauth tokens fetched: ${r.access_token}`),{tokens:r,headers:{authorization:`Bearer ${r.access_token}`}}};var UP=Object.freeze({__proto__:null,defaultParam:de,fetchOauthTokens:L_,getBasicAuthHeaders:sh,getOauthHeaders:oh,refreshAccessToken:B_});const U_=async t=>{var e;const{serverUrl:n,credentials:r,authMethod:s,defaultAccountType:o,authFunction:i}=t;let a={};switch(s){case"Basic":a=sh(r);break;case"Oauth":a=(await oh(r)).headers;break;case"Digest":a={Authorization:`Digest ${r.digestString}`};break;case"Custom":a=(e=await(i==null?void 0:i(r)))!==null&&e!==void 0?e:{};break;default:throw new Error("Invalid auth method")}const l=o?await fi({account:{serverUrl:n,credentials:r,accountType:o},headers:a}):void 0,c=async Se=>{const{init:Ae,...ge}=Se,{headers:Ie,...je}=Ae;return Tr({...ge,init:{...je,headers:{...a,...Ie}}})},u=de(Ri,{url:n,headers:a}),f=de($i,{headers:a,url:n}),d=de(Pi,{headers:a,url:n}),h=de(kn,{headers:a}),m=async Se=>{const{account:Ae,headers:ge,loadCollections:Ie,loadObjects:je}=Se;return fi({account:{serverUrl:n,credentials:r,...Ae},headers:{...a,...ge},loadCollections:Ie,loadObjects:je})},p=de(kr,{headers:a}),C=de(qd,{headers:a}),b=de(Kl,{headers:a}),_=de(Di,{headers:a}),y=de(Wl,{headers:a}),g=de(Yl,{headers:a,account:l}),S=de(ui,{headers:a}),A=de(Mi,{headers:a}),R=de(Zd,{headers:a}),O=de(Ii,{headers:a,account:l}),x=de(Qd,{headers:a,account:l}),j=de(Xl,{headers:a}),V=de(eh,{headers:a}),U=de(th,{headers:a}),re=de(nh,{headers:a}),se=de(rh,{account:l,headers:a}),P=de(ci,{headers:a}),I=de(ql,{headers:a}),F=de(Gl,{account:l,headers:a}),N=de(Jl,{headers:a}),le=de(Gd,{headers:a}),ce=de(Jd,{headers:a}),Oe=de(Xd,{headers:a});return{davRequest:c,propfind:h,createAccount:m,createObject:u,updateObject:f,deleteObject:d,calendarQuery:S,addressBookQuery:P,collectionQuery:p,makeCollection:C,calendarMultiGet:A,makeCalendar:R,syncCollection:b,supportedReportSet:_,isCollectionDirty:y,smartCollectionSync:g,fetchCalendars:O,fetchCalendarUserAddresses:x,fetchCalendarObjects:j,createCalendarObject:V,updateCalendarObject:U,deleteCalendarObject:re,syncCalendars:se,fetchAddressBooks:F,addressBookMultiGet:I,fetchVCards:N,createVCard:le,updateVCard:ce,deleteVCard:Oe}};class jP{constructor(e){var n,r,s;this.serverUrl=e.serverUrl,this.credentials=e.credentials,this.authMethod=(n=e.authMethod)!==null&&n!==void 0?n:"Basic",this.accountType=(r=e.defaultAccountType)!==null&&r!==void 0?r:"caldav",this.authFunction=e.authFunction,this.fetchOptions=(s=e.fetchOptions)!==null&&s!==void 0?s:{}}async login(){var e;switch(this.authMethod){case"Basic":this.authHeaders=sh(this.credentials);break;case"Oauth":this.authHeaders=(await oh(this.credentials,this.fetchOptions)).headers;break;case"Digest":this.authHeaders={Authorization:`Digest ${this.credentials.digestString}`};break;case"Custom":this.authHeaders=await((e=this.authFunction)===null||e===void 0?void 0:e.call(this,this.credentials));break;default:throw new Error("Invalid auth method")}this.account=this.accountType?await fi({account:{serverUrl:this.serverUrl,credentials:this.credentials,accountType:this.accountType},headers:this.authHeaders,fetchOptions:this.fetchOptions}):void 0}async davRequest(e){const{init:n,...r}=e,{headers:s,...o}=n;return Tr({...r,init:{...o,headers:{...this.authHeaders,...s}},fetchOptions:this.fetchOptions})}async createObject(...e){return de(Ri,{url:this.serverUrl,headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async updateObject(...e){return de($i,{url:this.serverUrl,headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async deleteObject(...e){return de(Pi,{url:this.serverUrl,headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async propfind(...e){return de(kn,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async createAccount(e){const{account:n,headers:r,loadCollections:s,loadObjects:o,fetchOptions:i}=e;return fi({account:{serverUrl:this.serverUrl,credentials:this.credentials,...n},headers:{...this.authHeaders,...r},loadCollections:s,loadObjects:o,fetchOptions:i??this.fetchOptions})}async collectionQuery(...e){return de(kr,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async makeCollection(...e){return de(qd,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async syncCollection(...e){return de(Kl,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async supportedReportSet(...e){return de(Di,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async isCollectionDirty(...e){return de(Wl,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async smartCollectionSync(...e){return de(Yl,{headers:this.authHeaders,fetchOptions:this.fetchOptions,account:this.account})(e[0])}async calendarQuery(...e){return de(ui,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async makeCalendar(...e){return de(Zd,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async calendarMultiGet(...e){return de(Mi,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async fetchCalendars(...e){return de(Ii,{headers:this.authHeaders,account:this.account,fetchOptions:this.fetchOptions})(e==null?void 0:e[0])}async fetchCalendarUserAddresses(...e){return de(Qd,{headers:this.authHeaders,account:this.account,fetchOptions:this.fetchOptions})(e==null?void 0:e[0])}async fetchCalendarObjects(...e){return de(Xl,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async createCalendarObject(...e){return de(eh,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async updateCalendarObject(...e){return de(th,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async deleteCalendarObject(...e){return de(nh,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async syncCalendars(...e){return de(rh,{headers:this.authHeaders,account:this.account,fetchOptions:this.fetchOptions})(e[0])}async addressBookQuery(...e){return de(ci,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async addressBookMultiGet(...e){return de(ql,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async fetchAddressBooks(...e){return de(Gl,{headers:this.authHeaders,account:this.account,fetchOptions:this.fetchOptions})(e==null?void 0:e[0])}async fetchVCards(...e){return de(Jl,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async createVCard(...e){return de(Gd,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async updateVCard(...e){return de(Jd,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}async deleteVCard(...e){return de(Xd,{headers:this.authHeaders,fetchOptions:this.fetchOptions})(e[0])}}var VP=Object.freeze({__proto__:null,DAVClient:jP,createDAVClient:U_});({...VP,...DP,...IP,...BP,...FP,...LP,...UP,...$P});const HP=ts("dav",()=>{const t=Sr(),e=te(t.get("appleCredentials")??{appleId:"",appleAppPassword:""});Pe(e,()=>{t.set("appleCredentials",e.value),r()},{deep:!0});const n=te();function r(){e.value.appleId!==""&&e.value.appleAppPassword!==""&&U_({serverUrl:"https://caldav.icloud.com",credentials:{username:e.value.appleId,password:e.value.appleAppPassword},authMethod:"Basic",defaultAccountType:"caldav"}).then(s=>{n.value=s})}return r(),{appleDav:n,appleCredentials:e}}),zP=ts("calendar",()=>{const t=Sr();HP();const e=te(t.get("calendar")??[]),n=te([]);Pe(e,o=>{t.set("calendar",o)},{deep:!0});async function r(){n.value=[];const o=[],i=e.value.map(async a=>{try{const l=await fetch(a);if(!l.ok)throw new Error(`HTTP error ${l.status}`);const c=await l.text(),u=hP(void 0,c);u.events&&o.push(...u.events)}catch(l){console.error(`Failed to fetch or parse ICS from ${a}:`,l)}});await Promise.all(i),n.value=o}function s(){return n.value.map(o=>`${o.summary} am ${o.start.date}`).join("; ")}return{calendarIcsUrls:e,events:n,fetchEvents:r,toString:s}}),WP=Z({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,r=e,s=z(()=>{const{class:i,...a}=n;return a}),o=ss(s,r);return(i,a)=>(K(),ee(E(BT),Te({"data-slot":"checkbox"},E(o),{class:E(Je)("peer border-input data-[state=checked]:bg-primary data-[state=checked]:messages-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n.class)}),{default:W(()=>[q(E(UT),{"data-slot":"checkbox-indicator",class:"flex items-center justify-center messages-current transition-none"},{default:W(()=>[he(i.$slots,"default",{},()=>[q(E(tv),{class:"size-3.5"})])]),_:3})]),_:3},16,["class"]))}}),j_=Z({__name:"Input",props:{defaultValue:{},modelValue:{},class:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=cb(n,"modelValue",e,{passive:!0,defaultValue:n.defaultValue});return(o,i)=>Zg((K(),He("input",{"onUpdate:modelValue":i[0]||(i[0]=a=>De(s)?s.value=a:null),"data-slot":"input",class:ct(E(Je)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n.class))},null,2)),[[Iy,E(s)]])}}),KP=Z({__name:"Popover",props:{defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const s=ss(t,e);return(o,i)=>(K(),ee(E(QT),Te({"data-slot":"popover"},E(s)),{default:W(()=>[he(o.$slots,"default")]),_:3},16))}}),YP=Z({inheritAttrs:!1,__name:"PopoverContent",props:{forceMount:{type:Boolean},side:{},sideOffset:{default:4},align:{default:"center"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,s=z(()=>{const{class:i,...a}=n;return a}),o=ss(s,r);return(i,a)=>(K(),ee(E(ek),null,{default:W(()=>[q(E(rk),Te({"data-slot":"popover-content"},{...E(o),...i.$attrs},{class:E(Je)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 rounded-md border p-4 shadow-md origin-(--reka-popover-content-transform-origin) outline-hidden",n.class)}),{default:W(()=>[he(i.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),qP=Z({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,r)=>(K(),ee(E(ZT),Te({"data-slot":"popover-trigger"},e),{default:W(()=>[he(n.$slots,"default")]),_:3},16))}}),GP={class:"flex items-center gap-1"},JP={class:"flex flex-col gap-y-4 mt-4 sm:flex-row sm:gap-x-4 sm:gap-y-0"},XP=Z({__name:"Calendar",props:{modelValue:{},multiple:{type:Boolean},defaultValue:{},defaultPlaceholder:{},placeholder:{},pagedNavigation:{type:Boolean},preventDeselect:{type:Boolean},weekStartsOn:{},weekdayFormat:{},calendarLabel:{},fixedWeeks:{type:Boolean},maxValue:{},minValue:{},locale:{},numberOfMonths:{},disabled:{type:Boolean},readonly:{type:Boolean},initialFocus:{type:Boolean},isDateDisabled:{type:Function},isDateUnavailable:{type:Function},dir:{},nextPage:{type:Function},prevPage:{type:Function},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue","update:placeholder"],setup(t,{emit:e}){const n=t,r=e,s=z(()=>{const{class:i,...a}=n;return a}),o=ss(s,r);return(i,a)=>(K(),ee(E(dT),Te({"data-slot":"calendar",class:E(Je)("p-3",n.class)},E(o)),{default:W(({grid:l,weekDays:c})=>[q(E(sD),null,{default:W(()=>[q(E(oD)),Me("div",GP,[q(E(aD)),q(E(iD))])]),_:1}),Me("div",JP,[(K(!0),He(tt,null,Ur(l,u=>(K(),ee(E(eD),{key:u.value.toString()},{default:W(()=>[q(E(nD),null,{default:W(()=>[q(E(yg),null,{default:W(()=>[(K(!0),He(tt,null,Ur(c,f=>(K(),ee(E(rD),{key:f},{default:W(()=>[pt(ft(f),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),q(E(tD),null,{default:W(()=>[(K(!0),He(tt,null,Ur(u.rows,(f,d)=>(K(),ee(E(yg),{key:`weekDate-${d}`,class:"mt-2 w-full"},{default:W(()=>[(K(!0),He(tt,null,Ur(f,h=>(K(),ee(E(QP),{key:h.toString(),date:h},{default:W(()=>[q(E(ZP),{day:h,month:u.value},null,8,["day","month"])]),_:2},1032,["date"]))),128))]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128))])]),_:1},16,["class"]))}}),QP=Z({__name:"CalendarCell",props:{date:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=z(()=>{const{class:s,...o}=e;return o}),r=on(n);return(s,o)=>(K(),ee(E(gT),Te({"data-slot":"calendar-cell",class:E(Je)("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([data-selected])]:rounded-md [&:has([data-selected])]:bg-accent",e.class)},E(r)),{default:W(()=>[he(s.$slots,"default")]),_:3},16,["class"]))}}),ZP=Z({__name:"CalendarCellTrigger",props:{day:{},month:{},asChild:{type:Boolean},as:{default:"button"},class:{}},setup(t){const e=t,n=z(()=>{const{class:s,...o}=e;return o}),r=on(n);return(s,o)=>(K(),ee(E(ST),Te({"data-slot":"calendar-cell-trigger",class:E(Je)(E($l)({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100 cursor-default","[&[data-today]:not([data-selected])]:bg-accent [&[data-today]:not([data-selected])]:text-accent-foreground","data-[selected]:bg-primary data-[selected]:text-primary-foreground data-[selected]:opacity-100 data-[selected]:hover:bg-primary data-[selected]:hover:text-primary-foreground data-[selected]:focus:bg-primary data-[selected]:focus:text-primary-foreground","data-[disabled]:text-muted-foreground data-[disabled]:opacity-50","data-[unavailable]:text-destructive-foreground data-[unavailable]:line-through","data-[outside-view]:text-muted-foreground",e.class)},E(r)),{default:W(()=>[he(s.$slots,"default")]),_:3},16,["class"]))}}),eD=Z({__name:"CalendarGrid",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=z(()=>{const{class:s,...o}=e;return o}),r=on(n);return(s,o)=>(K(),ee(E(mT),Te({"data-slot":"calendar-grid",class:E(Je)("w-full border-collapse space-x-1",e.class)},E(r)),{default:W(()=>[he(s.$slots,"default")]),_:3},16,["class"]))}}),tD=Z({__name:"CalendarGridBody",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,r)=>(K(),ee(E(wT),Te({"data-slot":"calendar-grid-body"},e),{default:W(()=>[he(n.$slots,"default")]),_:3},16))}}),nD=Z({__name:"CalendarGridHead",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t;return(n,r)=>(K(),ee(E(_T),Te({"data-slot":"calendar-grid-head"},e),{default:W(()=>[he(n.$slots,"default")]),_:3},16))}}),yg=Z({__name:"CalendarGridRow",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=z(()=>{const{class:s,...o}=e;return o}),r=on(n);return(s,o)=>(K(),ee(E(CT),Te({"data-slot":"calendar-grid-row",class:E(Je)("flex",e.class)},E(r)),{default:W(()=>[he(s.$slots,"default")]),_:3},16,["class"]))}}),rD=Z({__name:"CalendarHeadCell",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=z(()=>{const{class:s,...o}=e;return o}),r=on(n);return(s,o)=>(K(),ee(E(yT),Te({"data-slot":"calendar-head-cell",class:E(Je)("text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",e.class)},E(r)),{default:W(()=>[he(s.$slots,"default")]),_:3},16,["class"]))}}),sD=Z({__name:"CalendarHeader",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=z(()=>{const{class:s,...o}=e;return o}),r=on(n);return(s,o)=>(K(),ee(E(hT),Te({"data-slot":"calendar-header",class:E(Je)("flex justify-center pt-1 relative items-center w-full",e.class)},E(r)),{default:W(()=>[he(s.$slots,"default")]),_:3},16,["class"]))}}),oD=Z({__name:"CalendarHeading",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=z(()=>{const{class:s,...o}=e;return o}),r=on(n);return(s,o)=>(K(),ee(E(pT),Te({"data-slot":"calendar-heading",class:E(Je)("text-sm font-medium",e.class)},E(r)),{default:W(({headingValue:i})=>[he(s.$slots,"default",{headingValue:i},()=>[pt(ft(i),1)])]),_:3},16,["class"]))}}),iD=Z({__name:"CalendarNextButton",props:{nextPage:{type:Function},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=z(()=>{const{class:s,...o}=e;return o}),r=on(n);return(s,o)=>(K(),ee(E(vT),Te({"data-slot":"calendar-next-button",class:E(Je)(E($l)({variant:"outline"}),"absolute right-1","size-7 bg-transparent p-0 opacity-50 hover:opacity-100",e.class)},E(r)),{default:W(()=>[he(s.$slots,"default",{},()=>[q(E(nv),{class:"size-4"})])]),_:3},16,["class"]))}}),aD=Z({__name:"CalendarPrevButton",props:{prevPage:{type:Function},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=z(()=>{const{class:s,...o}=e;return o}),r=on(n);return(s,o)=>(K(),ee(E(bT),Te({"data-slot":"calendar-prev-button",class:E(Je)(E($l)({variant:"outline"}),"absolute left-1","size-7 bg-transparent p-0 opacity-50 hover:opacity-100",e.class)},E(r)),{default:W(()=>[he(s.$slots,"default",{},()=>[q(E(xx),{class:"size-4"})])]),_:3},16,["class"]))}}),V_=Z({__name:"Textarea",props:{class:{},defaultValue:{},modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=cb(n,"modelValue",e,{passive:!0,defaultValue:n.defaultValue});return(o,i)=>Zg((K(),He("textarea",{"onUpdate:modelValue":i[0]||(i[0]=a=>De(s)?s.value=a:null),"data-slot":"textarea",class:ct(E(Je)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n.class))},null,2)),[[Iy,E(s)]])}}),lD={class:"flex items-center py-1 gap-3 group"},cD={class:"hidden md:flex items-center gap-1"},uD={key:0,class:"border-t py-2 space-y-3"},fD={class:"flex flex-wrap items-center justify-between"},dD={class:"flex md:hidden gap-2"},hD={key:0,class:"space-y-2 mt-2"},pD={class:"tasks-list"},mD={class:"flex gap-2"},gD=Z({__name:"Task",props:{task:{}},setup(t){const e=t,{task:n}=Wn(e),r=Ql(),s=te(!0),o=te(!1),i=te(""),a=te(!1),l=z(()=>n.value.dueDate&&new Date(n.value.dueDate)<new Date&&!n.value.completed),c=te();Pe(c,()=>{c.value!==void 0&&(n.value.dueDate=c.value.toDate("Europe/Berlin"))});const u=z(()=>qa(n.value.dueDate,"D. MMMM YYYY")),f=()=>{const p={...n.value,completed:!n.value.completed};r.update(n.value.id,p)},d=()=>{o.value||(o.value=!0,r.llmBreakTaskIntoSubtasks(n.value).finally(()=>{o.value=!1,s.value=!1}))},h=()=>{i.value=n.value.title,a.value=!0},m=()=>{i.value.trim()&&r.update(n.value.id,{...n.value,title:i.value}),a.value=!1};return(p,C)=>{var _;const b=ly("Task",!0);return K(),He("div",null,[Me("div",lD,[q(E(WP),{"model-value":E(n).completed,"onUpdate:modelValue":f},null,8,["model-value"]),a.value?(K(),ee(E(V_),{key:0,modelValue:i.value,"onUpdate:modelValue":C[0]||(C[0]=y=>i.value=y),type:"text",placeholder:"Aufgabe bearbeiten",class:"flex-grow",onKeyup:Hs(m,["enter"]),onBlur:m,autoFocus:""},null,8,["modelValue"])):(K(),He("span",{key:1,class:ct(["flex-grow truncate cursor-pointer",{"line-through text-muted-foreground":E(n).completed,"text-red-500":l.value}]),onDblclick:h},ft(E(n).title),35)),Me("div",cD,[q(E(hn),{variant:"ghost",size:"sm",class:ct(["h-8 w-8",{"animate-pulse":o.value}]),disabled:o.value,onClick:d,title:"Break down task"},{default:W(()=>[q(E(xu),{class:"h-4 w-4"})]),_:1},8,["disabled","class"]),q(E(hn),{variant:"ghost",size:"sm",class:"h-8 w-8",onClick:C[1]||(C[1]=y=>E(r).remove(E(n).id)),title:"Delete task"},{default:W(()=>[q(E(hp),{class:"h-4 w-4"})]),_:1})]),q(E(hn),{variant:"ghost",size:"sm",onClick:C[2]||(C[2]=y=>s.value=!s.value),class:"h-8 w-8"},{default:W(()=>[q(E(nv),{class:ct(["h-4 w-4 transition-transform duration-200",{"rotate-90":!s.value}])},null,8,["class"])]),_:1})]),s.value?Yn("",!0):(K(),He("div",uD,[Me("div",fD,[Me("div",dD,[q(E(hn),{variant:"ghost",size:"sm",class:ct(["h-8 w-8",{"animate-pulse":o.value}]),disabled:o.value,onClick:d,title:"Break down task"},{default:W(()=>[q(E(xu),{class:"h-4 w-4"})]),_:1},8,["disabled","class"]),q(E(hn),{variant:"ghost",size:"sm",class:"h-8 w-8",onClick:C[3]||(C[3]=y=>E(r).remove(E(n).id)),title:"Delete task"},{default:W(()=>[q(E(hp),{class:"h-4 w-4"})]),_:1})]),q(E(KP),null,{default:W(()=>[q(E(qP),{"as-child":""},{default:W(()=>[q(E(hn),{variant:"outline",class:ct(["justify-start text-left font-normal",{"text-red-500":l.value}])},{default:W(()=>[q(E(Cx),{class:"mr-2 h-4 w-4"}),pt(" "+ft(E(n).dueDate?u.value:"Enddatum wählen"),1)]),_:1},8,["class"])]),_:1}),q(E(YP),{class:"w-auto p-0"},{default:W(()=>[q(E(XP),{modelValue:c.value,"onUpdate:modelValue":C[4]||(C[4]=y=>c.value=y),"initial-focus":""},null,8,["modelValue"])]),_:1})]),_:1})]),(_=E(n).subTasks)!=null&&_.length?(K(),He("div",hD,[Me("div",pD,[(K(!0),He(tt,null,Ur(E(n).subTasks,y=>(K(),ee(b,{key:y.id,task:y},null,8,["task"]))),128))])])):Yn("",!0),Me("div",mD,[q(E(j_),{type:"text",placeholder:"Unteraufgabe hinzufügen",class:"flex-grow",onKeyup:C[5]||(C[5]=Hs(y=>{const g=y.target;g.value.trim()&&(E(r).addFromTitle(g.value,E(n).id),g.value="")},["enter"]))}),q(E(hn),{variant:"outline",size:"icon",onClick:C[6]||(C[6]=y=>{const g=y.target.previousElementSibling;g.value.trim()&&(E(r).addFromTitle(g.value,E(n).id),g.value="")})},{default:W(()=>[q(E(tv),{class:"h-4 w-4"})]),_:1})])]))])}}}),H_=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},yD=H_(gD,[["__scopeId","data-v-f64c5550"]]),Ql=ts("tasks",()=>{const t=Sr(),e=Bd(),n=zP(),r=te(t.get("tasks")??[]);Pe(r,()=>{console.warn("Tasks store changed"),t.set("tasks",r.value)},{deep:!0});const s=z(()=>o(r.value));function o(p){return[...p,...p.flatMap(C=>o(C.subTasks))]}function i(p){if(!p)return;function C(b){let _;for(const y of b){if(y.id===p){_=y;break}_??(_=C(y.subTasks))}return _}return C(r.value)}function a(p,C){const b={id:Xb(),...p,type:"Task",subTasks:p.subTasks||[],createdDate:new Date,parentId:C??void 0};if(C){const _=i(C);_==null||_.subTasks.push(b),u(C,{..._})}else r.value.push(b);return b.id}function l(p,C){return a({title:p,completed:!1,priority:Qb.Medium},C)}function c(p){const C=r.value.length;if(r.value=r.value.filter(g=>g.id!==p),r.value.length<C)return!0;const b=i(p);if(b==null)return console.warn("Task not found"),!1;const _=i(b.parentId);if(!_)return!1;const y=_==null?void 0:_.subTasks.filter(g=>g.id!==p);return u(b.parentId,{..._,subTasks:y})}function u(p,C){function b(_){for(const y of _){if(y.id===p)return Object.assign(y,C),!0;if(b(y.subTasks))return!0}return!1}return b(r.value)}function f(p,C=!0){r.value.sort((b,_)=>p==="priority"?C?b.priority-_.priority:_.priority-b.priority:p==="dueDate"?b.dueDate?_.dueDate?C?b.dueDate.getTime()-_.dueDate.getTime():_.dueDate.getTime()-b.dueDate.getTime():C?-1:1:C?1:-1:C?b.createdDate.getTime()-_.createdDate.getTime():_.createdDate.getTime()-b.createdDate.getTime())}async function d(p){const C='Break tasks into up to 5 smaller subtasks. You must ONLY return a valid JSON array of strings. Answer in the language of the user input. Example input: "Clean house". Example output format: ["Clean kitchen", "Mop kitchen", "Mop the dog", "Vacuum living room"]. DO NOT include any other text or explanations. DO NOT use markdown formatting. ONLY RETURN THE JSON ARRAY.',b=`Task Title: ${p==null?void 0:p.title}`,_=te("");try{_.value=await e.run({systemPrompt:C,userPrompt:b}),_.value=_.value.replace(/^\s*[\r\n]/gm,"").replace(/^```json\s*/m,"").replace(/```\s*$/m,"").replace(/^`/gm,"").replace(/^"(\[)/,"$1").replace(/(])[\s`"]*$/,"$1"),console.debug("Generated text:",_.value),JSON.parse(_.value).forEach(g=>{a({title:g,completed:!1,dueDate:p.dueDate,priority:2,parentId:p.id},p.id)})}catch(y){console.error("Generation failed:",y)}}async function h(){const p='Based on calendar events you should create 2-5 tasks that prepare the user for upcoming events. You must ONLY return a valid JSON array of strings. Answer in the language of the user userPrompt. Example userPrompt: "Meeting bzgl Thesis mit Jonas". Example output format: ["Todos ", "Computer laden"]. DO NOT include any other text or explanations. DO NOT use markdown formatting. ONLY RETURN THE JSON ARRAY.',C=n.toString(),b=te("");try{b.value=await e.run({systemPrompt:p,userPrompt:C}),b.value=b.value.replace(/^\s*[\r\n]/gm,"").replace(/^```json\s*/m,"").replace(/```\s*$/m,"").replace(/^`/gm,"").replace(/^"(\[)/,"$1").replace(/(])[\s`"]*$/,"$1"),console.debug("Generated text:",b.value),JSON.parse(b.value).forEach(y=>l(y))}catch(_){console.error("Generation failed:",_)}}function m(){return s.value.map(p=>{var C;return[`Task Title: ${p.title}`,`Due Date: ${p.dueDate??"no deadline"}`,`Parent Task: ${((C=i(p.parentId))==null?void 0:C.title)??"none"}`,`Completed: ${p.completed?"yes":"no"}`].join(`
`)}).join(`

---

`)}return{tasks:r,flatTasks:s,toString:m,add:a,addFromTitle:l,remove:c,update:u,sort:f,llmBreakTaskIntoSubtasks:d,llmGenerateTasksFromCalendar:h}}),ih=Z({__name:"Card",props:{class:{}},setup(t){const e=t;return(n,r)=>(K(),He("div",{"data-slot":"card",class:ct(E(Je)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e.class))},[he(n.$slots,"default")],2))}}),ah=Z({__name:"CardContent",props:{class:{}},setup(t){const e=t;return(n,r)=>(K(),He("div",{"data-slot":"card-content",class:ct(E(Je)("px-6",e.class))},[he(n.$slots,"default")],2))}}),z_=Z({__name:"CardDescription",props:{class:{}},setup(t){const e=t;return(n,r)=>(K(),He("p",{"data-slot":"card-description",class:ct(E(Je)("text-muted-foreground text-sm",e.class))},[he(n.$slots,"default")],2))}}),vD=Z({__name:"CardFooter",props:{class:{}},setup(t){const e=t;return(n,r)=>(K(),He("div",{"data-slot":"card-footer",class:ct(E(Je)("flex items-center px-6 [.border-t]:pt-6",e.class))},[he(n.$slots,"default")],2))}}),lh=Z({__name:"CardHeader",props:{class:{}},setup(t){const e=t;return(n,r)=>(K(),He("div",{"data-slot":"card-header",class:ct(E(Je)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e.class))},[he(n.$slots,"default")],2))}}),ch=Z({__name:"CardTitle",props:{class:{}},setup(t){const e=t;return(n,r)=>(K(),He("h3",{"data-slot":"card-title",class:ct(E(Je)("leading-none font-semibold",e.class))},[he(n.$slots,"default")],2))}}),bD={class:"flex justify-between items-center"},_D={class:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full"},wD={class:"tasks-list"},CD=Z({__name:"Tasks",setup(t){const e=Ql(),n=z(()=>e.tasks),r=z(()=>e.flatTasks.length);return te(!1),(s,o)=>(K(),ee(E(ih),{class:"shadow-md rounded-xl"},{default:W(()=>[q(E(lh),{class:"pb-2"},{default:W(()=>[Me("div",bD,[q(E(ch),{class:"font-semibold text-lg"},{default:W(()=>o[1]||(o[1]=[pt("Aufgaben")])),_:1}),Me("span",_D,ft(r.value),1)])]),_:1}),q(E(ah),{class:"overflow-y-auto px-3"},{default:W(()=>[Me("div",null,[Me("div",wD,[(K(!0),He(tt,null,Ur(n.value,i=>(K(),ee(yD,{key:i.id,task:i},null,8,["task"]))),128))]),q(E(j_),{type:"text",placeholder:"Füge eine neue Aufgabe hinzu",onKeyup:o[0]||(o[0]=Hs(i=>{E(e).addFromTitle(i.target.value),i.target.value=""},["enter"])),class:"mt-4"})])]),_:1})]),_:1}))}}),xD=H_(CD,[["__scopeId","data-v-e1e3c86a"]]),ED={class:"flex flex-wrap gap-2"},SD={key:0,class:"flex justify-center items-center py-8"},AD={key:1,class:"whitespace-pre-line text-base leading-relaxed"},TD=["innerHTML"],kD=Z({__name:"Summary",setup(t){const e=Bd(),n=ib(),r=Ql(),{flatTasks:s}=Uy(r),o=te(""),i=te(!1),a=qa(new Date,"dddd, D. MMMM YYYY"),l=z(()=>{const h=new Date().getHours();return h>=5&&h<11?"morning":h>=11&&h<13?"lunch":h>=13&&h<18?"afternoon":h>=18&&h<23?"evening":"night"}),c=z(()=>`FORMATIERUNG:
- Du antwortest in einfachem Text, kein Markdown erlaubt, keine Sternchen, keine Überschriften
- Du verwendest gelegentlich Emojis, aber sparsam und geschmackvoll
- Du sprichst mich immer direkt an, als ob wir ein Gespräch führen
- Du antwortest IMMER auf Deutsch und mischst gelegentlich ein oder zwei französische Phrasen ein
- Du unterschreibst mit "- Jean-Philippe" und gelegentlich einer kurzen französischen Phrase
- Du hast die Gabe, genau zu wissen, wann du genug gesagt hast und hältst dich stets angenehm kurz

CURRENT MODE: ${l.value.toUpperCase()}
`),u=z(()=>{const h=`Es ist ${a.value} und das Wetter ist ${n.weather.temperature}°C in ${n.weather.location}.`,m=s.value.length>0?`Meine aktuellen Aufgaben: ${r.toString()}`:"Ich habe momentan keine Aufgaben geplant.";switch(l.value){case"morning":return`Bonjour! ${h}

Als mein vertrauter persönlicher Assistent seit 3 Jahren, bitte überprüfe meinen bevorstehenden Tag mit deiner charakteristischen französischen Effizienz. Ich brauche:
1. Eine kurze, personalisierte Morgengrußformel, die Bezug auf das Wetter oder meinen Zeitplan nimmt
2. Deine Top-3-Prioritätsempfehlungen (sei sehr spezifisch darüber, was zuerst Aufmerksamkeit benötigt)
3. Weise auf Terminüberschneidungen oder Zeitmanagementprobleme hin, die dir auffallen
4. Einen praktischen Vorschlag zur Verbesserung meiner Produktivität heute

${m}`;case"lunch":return`Bon midi! ${h}

Es ist Mittagszeit, und ich könnte deine kulinarische Expertise gebrauchen. Bitte:
1. Schlage ein anspruchsvolles, aber praktisches Mittagsrezept vor, das dich beeindrucken würde
2. Füge deinen kulturellen Kommentar hinzu, warum dieses Gericht für heute angemessen ist
3. Ergänze eine kurze Notiz zu meinem Nachmittagsplan

${m}`;case"afternoon":return`Bon après-midi! ${h}

Es ist Nachmittag – Zeit für eine kleine Stärkung oder eine kreative Pause. Bitte:
1. Empfiehl mir einen raffinierten, aber unkomplizierten Snack oder ein Getränk, das am Nachmittag typisch ist und deinem französischen Geschmack entspricht
2. Teile einen charmanten kulturellen Einblick oder eine französische Tradition, warum dieser Snack oder dieses Getränk am Nachmittag besonders geschätzt wird
3. Gib mir eine inspirierende, aber diskrete Notiz, die meinen Nachmittag mit Esprit und Effizienz begleitet
4. Zeige mir bitte zwei bis drei praxiserprobte Tipps aus deiner Erfahrung, wie ich meine heutigen ToDos nach Priorität ordnen und souverän erledigen kann

${m}`;case"evening":return`Bonsoir! ${h}

Der Arbeitstag neigt sich dem Ende zu. Bitte teile mit:
1. Entweder einen einfachen Rezeptvorschlag für das morgige Mittagessen oder eine Filmempfehlung, die meinem Geschmack entspricht
2. Eine kurze Reflexion über die heutigen Erfolge
3. Eine Sache, auf die ich mich für morgen vorbereiten sollte

${m}`;case"night":return`Bonne nuit! ${h}

Bevor ich mich für den Abend zurückziehe, bitte stelle bereit:
1. Einen kurzen Überblick über den morgigen Zeitplan
2. Eine Sache, die ich heute Abend nicht vergessen sollte vorzubereiten
3. Eine geistreiche französische Beobachtung über Erholung oder Produktivität

${m}`}}),f=Sr(),d=async(h=!1)=>{i.value=!0;const m=12*60*60*1e3,p=f.get("assistant-summary");if(console.log(p),!h&&p&&new Date(p.date).getTime()+m>Date.now()){o.value=p.summary,i.value=!1;return}try{o.value=await e.run({systemPrompt:c.value,userPrompt:u.value}),f.set("assistant-summary",{summary:o.value,date:new Date().toISOString()})}catch(C){console.error("Failed to generate summary:",C),o.value="Failed to generate summary. Please try again."}finally{i.value=!1}};return Zr(()=>{d()}),(h,m)=>(K(),ee(E(ih),{class:"shadow-md rounded-xl"},{default:W(()=>[q(E(lh),null,{default:W(()=>[q(E(ch),{class:"flex items-center gap-2"},{default:W(()=>[q(E(Ex)),m[1]||(m[1]=pt(" Une Note von Jean-Philippe "))]),_:1}),q(E(z_),{class:"flex items-center justify-between flex-wrap gap-2 sm:gap-4 w-full md:w-auto"},{default:W(()=>[Me("div",ED,[q(E(Ga),{variant:"outline"},{default:W(()=>[pt(ft(E(a)),1)]),_:1}),q(E(Ga),{variant:"secondary"},{default:W(()=>[pt(ft(E(n).weather.temperature)+"°C in "+ft(E(n).weather.location),1)]),_:1})])]),_:1})]),_:1}),q(E(ah),null,{default:W(()=>[i.value?(K(),He("div",SD,m[2]||(m[2]=[Me("span",{class:"loader"},null,-1),Me("span",{class:"font-medium"},"Jean-Philippe denkt...",-1)]))):o.value?(K(),He("div",AD,[Me("div",{class:"prose dark:prose-invert max-w-none",innerHTML:o.value},null,8,TD)])):Yn("",!0)]),_:1}),q(E(vD),null,{default:W(()=>[q(E(hn),{onClick:m[0]||(m[0]=()=>d(!0)),variant:"outline",size:"sm"},{default:W(()=>[q(E(Ax))]),_:1})]),_:1})]),_:1}))}}),OD={class:"flex items-center gap-2"},RD={key:0,class:"text-xs text-destructive ml-2"},$D=["innerHTML"],PD='Z.B.: "Ich habe Brokkoli und Reis, bitte ein einfaches, vegetarisches Rezept."',DD="Du bist ein persönlicher Kochassistent. Du schlägst gesunde, ausgewogene Rezepte vor, die auf die Wünsche und Zutaten des Nutzers eingehen. Antworte freundlich und klar. Gebe Antworten nur für Koch- und Rezepte-bezogene Themen. Dein Ausgabeformat ist nur HTML, KEIN MARKDOWN, das heißt, du kannst z.B. strong, ol, ul verwenden!",MD=Z({__name:"CookingSuggestion",setup(t){const e=Bd(),n=te(""),r=te(""),s=te(!1),o=te(null),i=async()=>{o.value=null,n.value="",s.value=!0;try{n.value=await e.run({userPrompt:r.value,systemPrompt:DD})}catch{o.value="Fehler beim Laden der Rezepte. Bitte versuche es erneut."}finally{s.value=!1}};return(a,l)=>(K(),ee(E(ih),null,{default:W(()=>[q(E(lh),{class:"pb-2"},{default:W(()=>[q(E(ch),{class:"font-semibold text-lg sm:text-xl"},{default:W(()=>l[1]||(l[1]=[pt("Rezept-Assistent")])),_:1}),q(E(z_),{class:"text-sm sm:text-base"},{default:W(()=>l[2]||(l[2]=[pt("Lass dir gesunde, leckere Rezepte vorschlagen – individuell auf deine Wünsche! ")])),_:1})]),_:1}),q(E(ah),{class:"p-6 flex flex-col gap-4"},{default:W(()=>[l[3]||(l[3]=Me("label",{for:"recipe-prompt",class:"text-xs font-medium text-muted-foreground mb-1"}," Was möchtest du heute kochen? (Zutaten, Wünsche, Diät...) ",-1)),q(E(V_),{id:"recipe-prompt",modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=c=>r.value=c),placeholder:PD,class:"resize-none min-h-[80px] focus:ring-primary",disabled:s.value},null,8,["modelValue","disabled"]),Me("div",OD,[q(E(hn),{onClick:i,disabled:s.value||!r.value.trim(),class:"gap-2"},{default:W(()=>[q(E(xu),{class:"w-4 h-4"}),pt(" "+ft(s.value?"Lädt...":"Rezepte vorschlagen"),1)]),_:1},8,["disabled"]),o.value?(K(),He("span",RD,ft(o.value),1)):Yn("",!0)]),n.value?(K(),He("div",{key:0,class:"mt-4 bg-muted/30 rounded p-4 text-sm whitespace-pre-line",innerHTML:n.value},null,8,$D)):Yn("",!0)]),_:1})]),_:1}))}}),ID={class:"container mx-auto"},FD={class:"flex flex-col-reverse lg:flex-row gap-4"},ND=Z({__name:"HomeView",setup(t){const e=Ql();return z(()=>e.flatTasks.length),(n,r)=>(K(),He("div",ID,[Me("div",FD,[q(kD,{class:"lg:w-2/5"}),q(xD,{class:"lg:w-3/5"})]),q(E(Wu),{orientation:"horizontal",class:"my-8 opacity-70"}),Me("section",null,[q(MD)])]))}}),LD=gx({history:K1("/life-coach/"),routes:[{path:"/",name:"home",component:ND},{path:"/settings",name:"settings",component:()=>cO(()=>import("./SettingsView-CKUYGIkA.js"),[])}]}),uh=i1(iO);uh.use(c1());uh.use(LD);uh.mount("#app");export{Wu as A,V_ as B,Na as C,hn as D,tv as E,Yn as F,Ga as G,ft as H,tt as I,Ur as J,vD as K,UD as L,Ye as P,Tx as S,ih as _,ee as a,E as b,Ht as c,Z as d,ub as e,Bd as f,ib as g,rO as h,te as i,z as j,Sr as k,He as l,Te as m,Me as n,K as o,q as p,lh as q,he as r,Uy as s,ch as t,Tn as u,pt as v,W as w,z_ as x,ah as y,j_ as z};
